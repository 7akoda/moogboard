import{r as k,j as v,g as Pu,c as lt,R as Mu,a as Du,d as Nu,e as B}from"./index-C-NHE0Fl.js";const Xa="15.0.4",Zo=(s,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:s}),Xo=(s,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:s}),ki=(s,e)=>({startTime:e,type:"setValue",value:s}),Ya=(s,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:s}),Qa=(s,e,{startTime:t,target:n,timeConstant:r})=>n+(e-n)*Math.exp((t-s)/r),Vn=s=>s.type==="exponentialRampToValue",ur=s=>s.type==="linearRampToValue",Qt=s=>Vn(s)||ur(s),Ki=s=>s.type==="setValue",Bt=s=>s.type==="setValueCurve",hr=(s,e,t,n)=>{const r=s[e];return r===void 0?n:Qt(r)||Ki(r)?r.value:Bt(r)?r.values[r.values.length-1]:Qa(t,hr(s,e-1,r.startTime,n),r)},Yo=(s,e,t,n,r)=>t===void 0?[n.insertTime,r]:Qt(t)?[t.endTime,t.value]:Ki(t)?[t.startTime,t.value]:Bt(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,hr(s,e-1,t.startTime,r)],Ai=s=>s.type==="cancelAndHold",Ei=s=>s.type==="cancelScheduledValues",Zt=s=>Ai(s)||Ei(s)?s.cancelTime:Vn(s)||ur(s)?s.endTime:s.startTime,Qo=(s,e,t,{endTime:n,value:r})=>t===r?r:0<t&&0<r||t<0&&r<0?t*(r/t)**((s-e)/(n-e)):0,ea=(s,e,t,{endTime:n,value:r})=>t+(s-e)/(n-e)*(r-t),Ru=(s,e)=>{const t=Math.floor(e),n=Math.ceil(e);return t===n?s[t]:(1-(e-t))*s[t]+(1-(n-e))*s[n]},Iu=(s,{duration:e,startTime:t,values:n})=>{const r=(s-t)/e*(n.length-1);return Ru(n,r)},Ws=s=>s.type==="setTarget";class ju{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=Zt(e);if(Ai(e)||Ei(e)){const n=this._automationEvents.findIndex(i=>Ei(e)&&Bt(i)?i.startTime+i.duration>=t:Zt(i)>=t),r=this._automationEvents[n];if(n!==-1&&(this._automationEvents=this._automationEvents.slice(0,n)),Ai(e)){const i=this._automationEvents[this._automationEvents.length-1];if(r!==void 0&&Qt(r)){if(i!==void 0&&Ws(i))throw new Error("The internal list is malformed.");const o=i===void 0?r.insertTime:Bt(i)?i.startTime+i.duration:Zt(i),a=i===void 0?this._defaultValue:Bt(i)?i.values[i.values.length-1]:i.value,c=Vn(r)?Qo(t,o,a,r):ea(t,o,a,r),l=Vn(r)?Zo(c,t,this._currenTime):Xo(c,t,this._currenTime);this._automationEvents.push(l)}if(i!==void 0&&Ws(i)&&this._automationEvents.push(ki(this.getValue(t),t)),i!==void 0&&Bt(i)&&i.startTime+i.duration>t){const o=t-i.startTime,a=(i.values.length-1)/i.duration,c=Math.max(2,1+Math.ceil(o*a)),l=o/(c-1)*a,u=i.values.slice(0,c);if(l<1)for(let h=1;h<c;h+=1){const d=l*h%1;u[h]=i.values[h-1]*(1-d)+i.values[h]*d}this._automationEvents[this._automationEvents.length-1]=Ya(u,i.startTime,o)}}}else{const n=this._automationEvents.findIndex(o=>Zt(o)>t),r=n===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[n-1];if(r!==void 0&&Bt(r)&&Zt(r)+r.duration>t)return!1;const i=Vn(e)?Zo(e.value,e.endTime,this._currenTime):ur(e)?Xo(e.value,t,this._currenTime):e;if(n===-1)this._automationEvents.push(i);else{if(Bt(e)&&t+e.duration>Zt(this._automationEvents[n]))return!1;this._automationEvents.splice(n,0,i)}}return!0}flush(e){const t=this._automationEvents.findIndex(n=>Zt(n)>e);if(t>1){const n=this._automationEvents.slice(t-1),r=n[0];Ws(r)&&n.unshift(ki(hr(this._automationEvents,t-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=n}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(o=>Zt(o)>e),n=this._automationEvents[t],r=(t===-1?this._automationEvents.length:t)-1,i=this._automationEvents[r];if(i!==void 0&&Ws(i)&&(n===void 0||!Qt(n)||n.insertTime>e))return Qa(e,hr(this._automationEvents,r-1,i.startTime,this._defaultValue),i);if(i!==void 0&&Ki(i)&&(n===void 0||!Qt(n)))return i.value;if(i!==void 0&&Bt(i)&&(n===void 0||!Qt(n)||i.startTime+i.duration>e))return e<i.startTime+i.duration?Iu(e,i):i.values[i.values.length-1];if(i!==void 0&&Qt(i)&&(n===void 0||!Qt(n)))return i.value;if(n!==void 0&&Vn(n)){const[o,a]=Yo(this._automationEvents,r,i,n,this._defaultValue);return Qo(e,o,a,n)}if(n!==void 0&&ur(n)){const[o,a]=Yo(this._automationEvents,r,i,n,this._defaultValue);return ea(e,o,a,n)}return this._defaultValue}}const Bu=s=>({cancelTime:s,type:"cancelAndHold"}),Fu=s=>({cancelTime:s,type:"cancelScheduledValues"}),Lu=(s,e)=>({endTime:e,type:"exponentialRampToValue",value:s}),Vu=(s,e)=>({endTime:e,type:"linearRampToValue",value:s}),$u=(s,e,t)=>({startTime:e,target:s,timeConstant:t,type:"setTarget"}),qu=()=>new DOMException("","AbortError"),Uu=s=>(e,t,[n,r,i],o)=>{s(e[r],[t,n,i],a=>a[0]===t&&a[1]===n,o)},Wu=s=>(e,t,n)=>{const r=[];for(let i=0;i<n.numberOfInputs;i+=1)r.push(new Set);s.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},Gu=s=>(e,t)=>{s.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},Jn=new WeakSet,ec=new WeakMap,Zi=new WeakMap,tc=new WeakMap,Xi=new WeakMap,Er=new WeakMap,nc=new WeakMap,Oi=new WeakMap,Pi=new WeakMap,Mi=new WeakMap,sc={construct(){return sc}},zu=s=>{try{const e=new Proxy(s,sc);new e}catch{return!1}return!0},ta=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,na=(s,e)=>{const t=[];let n=s.replace(/^[\s]+/,""),r=n.match(ta);for(;r!==null;){const i=r[1].slice(1,-1),o=r[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());t.push(o),n=n.slice(r[0].length).replace(/^[\s]+/,""),r=n.match(ta)}return[t.join(";"),n]},sa=s=>{if(s!==void 0&&!Array.isArray(s))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},ra=s=>{if(!zu(s))throw new TypeError("The given value for processorCtor should be a constructor.");if(s.prototype===null||typeof s.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Hu=(s,e,t,n,r,i,o,a,c,l,u,h,d)=>{let f=0;return(p,m,g={credentials:"omit"})=>{const _=u.get(p);if(_!==void 0&&_.has(m))return Promise.resolve();const C=l.get(p);if(C!==void 0){const y=C.get(m);if(y!==void 0)return y}const b=i(p),S=b.audioWorklet===void 0?r(m).then(([y,T])=>{const[w,x]=na(y,T),A=`${w};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${x}
})})(window,'_AWGS')`;return t(A)}).then(()=>{const y=d._AWGS.pop();if(y===void 0)throw new SyntaxError;n(b.currentTime,b.sampleRate,()=>y(class{},void 0,(T,w)=>{if(T.trim()==="")throw e();const x=Pi.get(b);if(x!==void 0){if(x.has(T))throw e();ra(w),sa(w.parameterDescriptors),x.set(T,w)}else ra(w),sa(w.parameterDescriptors),Pi.set(b,new Map([[T,w]]))},b.sampleRate,void 0,void 0))}):Promise.all([r(m),Promise.resolve(s(h,h))]).then(([[y,T],w])=>{const x=f+1;f=x;const[A,O]=na(y,T),N=`${A};((AudioWorkletProcessor,registerProcessor)=>{${O}
})(${w?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${w?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${w?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${x}',class extends AudioWorkletProcessor{process(){return !1}})`,F=new Blob([N],{type:"application/javascript; charset=utf-8"}),I=URL.createObjectURL(F);return b.audioWorklet.addModule(I,g).then(()=>{if(a(b))return b;const R=o(b);return R.audioWorklet.addModule(I,g).then(()=>R)}).then(R=>{if(c===null)throw new SyntaxError;try{new c(R,`__sac${x}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(I))});return C===void 0?l.set(p,new Map([[m,S]])):C.set(m,S),S.then(()=>{const y=u.get(p);y===void 0?u.set(p,new Set([m])):y.add(m)}).finally(()=>{const y=l.get(p);y!==void 0&&y.delete(m)}),S}},wt=(s,e)=>{const t=s.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},Or=(s,e)=>{const t=Array.from(s).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[n]=t;return s.delete(n),n},rc=(s,e,t,n)=>{const r=wt(s,e),i=Or(r,o=>o[0]===t&&o[1]===n);return r.size===0&&s.delete(e),i},Cs=s=>wt(nc,s),Kn=s=>{if(Jn.has(s))throw new Error("The AudioNode is already stored.");Jn.add(s),Cs(s).forEach(e=>e(!0))},ic=s=>"port"in s,ks=s=>{if(!Jn.has(s))throw new Error("The AudioNode is not stored.");Jn.delete(s),Cs(s).forEach(e=>e(!1))},Di=(s,e)=>{!ic(s)&&e.every(t=>t.size===0)&&ks(s)},Ju=(s,e,t,n,r,i,o,a,c,l,u,h,d)=>{const f=new WeakMap;return(p,m,g,_,C)=>{const{activeInputs:b,passiveInputs:S}=i(m),{outputs:y}=i(p),T=a(p),w=x=>{const A=c(m),O=c(p);if(x){const M=rc(S,p,g,_);s(b,p,M,!1),!C&&!h(p)&&t(O,A,g,_),d(m)&&Kn(m)}else{const M=n(b,p,g,_);e(S,_,M,!1),!C&&!h(p)&&r(O,A,g,_);const E=o(m);if(E===0)u(m)&&Di(m,b);else{const P=f.get(m);P!==void 0&&clearTimeout(P),f.set(m,setTimeout(()=>{u(m)&&Di(m,b)},E*1e3))}}};return l(y,[m,g,_],x=>x[0]===m&&x[1]===g&&x[2]===_,!0)?(T.add(w),u(p)?s(b,p,[g,_,w],!0):e(S,_,[p,g,w],!0),!0):!1}},Ku=s=>(e,t,[n,r,i],o)=>{const a=e.get(n);a===void 0?e.set(n,new Set([[r,t,i]])):s(a,[r,t,i],c=>c[0]===r&&c[1]===t,o)},Zu=s=>(e,t)=>{const n=s(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(n).connect(e.destination);const r=()=>{t.removeEventListener("ended",r),t.disconnect(n),n.disconnect()};t.addEventListener("ended",r)},Xu=s=>(e,t)=>{s(e).add(t)},Yu={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Qu=(s,e,t,n,r,i)=>class extends s{constructor(a,c){const l=r(a),u={...Yu,...c},h=n(l,u),d=i(l)?e():null;super(a,!1,h,d),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const c=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=c,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const c=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=c,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},qe=(s,e)=>s.context===e,eh=(s,e,t)=>()=>{const n=new WeakMap,r=async(i,o)=>{let a=e(i);if(!qe(a,o)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=s(o,l)}return n.set(o,a),await t(i,o,a),a};return{render(i,o){const a=n.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},dr=s=>{try{s.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Mt=()=>new DOMException("","IndexSizeError"),Yi=s=>{s.getChannelData=(e=>t=>{try{return e.call(s,t)}catch(n){throw n.code===12?Mt():n}})(s.getChannelData)},th={numberOfChannels:1},nh=(s,e,t,n,r,i,o,a)=>{let c=null;return class oc{constructor(u){if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:d,sampleRate:f}={...th,...u};c===null&&(c=new r(1,1,44100));const p=n!==null&&e(i,i)?new n({length:h,numberOfChannels:d,sampleRate:f}):c.createBuffer(d,h,f);if(p.numberOfChannels===0)throw t();return typeof p.copyFromChannel!="function"?(o(p),Yi(p)):e(dr,()=>dr(p))||a(p),s.add(p),p}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===oc.prototype||s.has(u)}}},Ye=-34028234663852886e22,ze=-Ye,Lt=s=>Jn.has(s),sh={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},rh=(s,e,t,n,r,i,o,a)=>class extends s{constructor(l,u){const h=i(l),d={...sh,...u},f=r(h,d),p=o(h),m=p?e():null;super(l,!1,f,m),this._audioBufferSourceNodeRenderer=m,this._isBufferNullified=!1,this._isBufferSet=d.buffer!==null,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=t(this,p,f.playbackRate,ze,Ye)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(l){if(this._nativeAudioBufferSourceNode.buffer=l,l!==null){if(this._isBufferSet)throw n();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(l){this._nativeAudioBufferSourceNode.loop=l}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(l){this._nativeAudioBufferSourceNode.loopEnd=l}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(l){this._nativeAudioBufferSourceNode.loopStart=l}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?a(this,l):null;this._nativeAudioBufferSourceNode.onended=u;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===u?l:h}get playbackRate(){return this._playbackRate}start(l=0,u=0,h){if(this._nativeAudioBufferSourceNode.start(l,u,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[l,u]:[l,u,h]),this.context.state!=="closed"){Kn(this);const d=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",d),Lt(this)&&ks(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",d)}}stop(l=0){this._nativeAudioBufferSourceNode.stop(l),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=l)}},ih=(s,e,t,n,r)=>()=>{const i=new WeakMap;let o=null,a=null;const c=async(l,u)=>{let h=t(l);const d=qe(h,u);if(!d){const f={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(u,f),o!==null&&h.start(...o),a!==null&&h.stop(a)}return i.set(u,h),d?await s(u,l.playbackRate,h.playbackRate):await n(u,l.playbackRate,h.playbackRate),await r(l,u,h),h};return{set start(l){o=l},set stop(l){a=l},render(l,u){const h=i.get(u);return h!==void 0?Promise.resolve(h):c(l,u)}}},oh=s=>"playbackRate"in s,ah=s=>"frequency"in s&&"gain"in s,ch=s=>"offset"in s,lh=s=>!("frequency"in s)&&"gain"in s,uh=s=>"detune"in s&&"frequency"in s&&!("gain"in s),hh=s=>"pan"in s,Je=s=>wt(ec,s),As=s=>wt(tc,s),Ni=(s,e)=>{const{activeInputs:t}=Je(s);t.forEach(r=>r.forEach(([i])=>{e.includes(s)||Ni(i,[...e,s])}));const n=oh(s)?[s.playbackRate]:ic(s)?Array.from(s.parameters.values()):ah(s)?[s.Q,s.detune,s.frequency,s.gain]:ch(s)?[s.offset]:lh(s)?[s.gain]:uh(s)?[s.detune,s.frequency]:hh(s)?[s.pan]:[];for(const r of n){const i=As(r);i!==void 0&&i.activeInputs.forEach(([o])=>Ni(o,e))}Lt(s)&&ks(s)},ac=s=>{Ni(s.destination,[])},dh=s=>s===void 0||typeof s=="number"||typeof s=="string"&&(s==="balanced"||s==="interactive"||s==="playback"),fh=(s,e,t,n,r,i,o,a,c)=>class extends s{constructor(u={}){if(c===null)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new c(u)}catch(p){throw p.code===12&&p.message==="sampleRate is not in range"?t():p}if(h===null)throw n();if(!dh(u.latencyHint))throw new TypeError(`The provided value '${u.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(u.sampleRate!==void 0&&h.sampleRate!==u.sampleRate)throw t();super(h,2);const{latencyHint:d}=u,{sampleRate:f}=h;if(this._baseLatency=typeof h.baseLatency=="number"?h.baseLatency:d==="balanced"?512/f:d==="interactive"||d===void 0?256/f:d==="playback"?1024/f:Math.max(2,Math.min(128,Math.round(d*f/128)))*128/f,this._nativeAudioContext=h,c.name==="webkitAudioContext"?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,h.state==="running"){this._state="suspended";const p=()=>{this._state==="suspended"&&(this._state=null),h.removeEventListener("statechange",p)};h.addEventListener("statechange",p)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),ac(this)}))}createMediaElementSource(u){return new r(this,{mediaElement:u})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(u){return new o(this,{mediaStream:u})}createMediaStreamTrackSource(u){return new a(this,{mediaStreamTrack:u})}resume(){return this._state==="suspended"?new Promise((u,h)=>{const d=()=>{this._nativeAudioContext.removeEventListener("statechange",d),this._nativeAudioContext.state==="running"?u():this.resume().then(u,h)};this._nativeAudioContext.addEventListener("statechange",d)}):this._nativeAudioContext.resume().catch(u=>{throw u===void 0||u.code===15?e():u})}suspend(){return this._nativeAudioContext.suspend().catch(u=>{throw u===void 0?e():u})}},ph=(s,e,t,n,r,i,o,a)=>class extends s{constructor(l,u){const h=i(l),d=o(h),f=r(h,u,d),p=d?e(a):null;super(l,!1,f,p),this._isNodeOfNativeOfflineAudioContext=d,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(l){if(this._isNodeOfNativeOfflineAudioContext)throw n();if(l>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=l}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(l){if(this._isNodeOfNativeOfflineAudioContext)throw n();this._nativeAudioDestinationNode.channelCountMode=l}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},mh=s=>{const e=new WeakMap,t=async(n,r)=>{const i=r.destination;return e.set(r,i),await s(n,r,i),i};return{render(n,r){const i=e.get(r);return i!==void 0?Promise.resolve(i):t(n,r)}}},gh=(s,e,t,n,r,i,o,a)=>(c,l)=>{const u=l.listener,h=()=>{const y=new Float32Array(1),T=e(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),w=o(l);let x=!1,A=[0,0,-1,0,1,0],O=[0,0,0];const M=()=>{if(x)return;x=!0;const F=n(l,256,9,0);F.onaudioprocess=({inputBuffer:I})=>{const R=[i(I,y,0),i(I,y,1),i(I,y,2),i(I,y,3),i(I,y,4),i(I,y,5)];R.some((L,G)=>L!==A[G])&&(u.setOrientation(...R),A=R);const z=[i(I,y,6),i(I,y,7),i(I,y,8)];z.some((L,G)=>L!==O[G])&&(u.setPosition(...z),O=z)},T.connect(F)},E=F=>I=>{I!==A[F]&&(A[F]=I,u.setOrientation(...A))},P=F=>I=>{I!==O[F]&&(O[F]=I,u.setPosition(...O))},N=(F,I,R)=>{const z=t(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:I});z.connect(T,0,F),z.start(),Object.defineProperty(z.offset,"defaultValue",{get(){return I}});const L=s({context:c},w,z.offset,ze,Ye);return a(L,"value",G=>()=>G.call(L),G=>J=>{try{G.call(L,J)}catch(oe){if(oe.code!==9)throw oe}M(),w&&R(J)}),L.cancelAndHoldAtTime=(G=>w?()=>{throw r()}:(...J)=>{const oe=G.apply(L,J);return M(),oe})(L.cancelAndHoldAtTime),L.cancelScheduledValues=(G=>w?()=>{throw r()}:(...J)=>{const oe=G.apply(L,J);return M(),oe})(L.cancelScheduledValues),L.exponentialRampToValueAtTime=(G=>w?()=>{throw r()}:(...J)=>{const oe=G.apply(L,J);return M(),oe})(L.exponentialRampToValueAtTime),L.linearRampToValueAtTime=(G=>w?()=>{throw r()}:(...J)=>{const oe=G.apply(L,J);return M(),oe})(L.linearRampToValueAtTime),L.setTargetAtTime=(G=>w?()=>{throw r()}:(...J)=>{const oe=G.apply(L,J);return M(),oe})(L.setTargetAtTime),L.setValueAtTime=(G=>w?()=>{throw r()}:(...J)=>{const oe=G.apply(L,J);return M(),oe})(L.setValueAtTime),L.setValueCurveAtTime=(G=>w?()=>{throw r()}:(...J)=>{const oe=G.apply(L,J);return M(),oe})(L.setValueCurveAtTime),L};return{forwardX:N(0,0,E(0)),forwardY:N(1,0,E(1)),forwardZ:N(2,-1,E(2)),positionX:N(6,0,P(0)),positionY:N(7,0,P(1)),positionZ:N(8,0,P(2)),upX:N(3,0,E(3)),upY:N(4,1,E(4)),upZ:N(5,0,E(5))}},{forwardX:d,forwardY:f,forwardZ:p,positionX:m,positionY:g,positionZ:_,upX:C,upY:b,upZ:S}=u.forwardX===void 0?h():u;return{get forwardX(){return d},get forwardY(){return f},get forwardZ(){return p},get positionX(){return m},get positionY(){return g},get positionZ(){return _},get upX(){return C},get upY(){return b},get upZ(){return S}}},fr=s=>"context"in s,Es=s=>fr(s[0]),Cn=(s,e,t,n)=>{for(const r of s)if(t(r)){if(n)return!1;throw Error("The set contains at least one similar element.")}return s.add(e),!0},ia=(s,e,[t,n],r)=>{Cn(s,[e,t,n],i=>i[0]===e&&i[1]===t,r)},oa=(s,[e,t,n],r)=>{const i=s.get(e);i===void 0?s.set(e,new Set([[t,n]])):Cn(i,[t,n],o=>o[0]===t,r)},Qn=s=>"inputs"in s,pr=(s,e,t,n)=>{if(Qn(e)){const r=e.inputs[n];return s.connect(r,t,0),[r,t,0]}return s.connect(e,t,n),[e,t,n]},cc=(s,e,t)=>{for(const n of s)if(n[0]===e&&n[1]===t)return s.delete(n),n;return null},_h=(s,e,t)=>Or(s,n=>n[0]===e&&n[1]===t),lc=(s,e)=>{if(!Cs(s).delete(e))throw new Error("Missing the expected event listener.")},uc=(s,e,t)=>{const n=wt(s,e),r=Or(n,i=>i[0]===t);return n.size===0&&s.delete(e),r},mr=(s,e,t,n)=>{Qn(e)?s.disconnect(e.inputs[n],t,0):s.disconnect(e,t,n)},we=s=>wt(Zi,s),ys=s=>wt(Xi,s),bn=s=>Oi.has(s),or=s=>!Jn.has(s),aa=(s,e)=>new Promise(t=>{if(e!==null)t(!0);else{const n=s.createScriptProcessor(256,1,1),r=s.createGain(),i=s.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=s.createBufferSource();a.buffer=i,a.loop=!0,a.connect(n).connect(s.destination),a.connect(r),a.disconnect(r),n.onaudioprocess=c=>{const l=c.inputBuffer.getChannelData(0);Array.prototype.some.call(l,u=>u===1)?t(!0):t(!1),a.stop(),n.onaudioprocess=null,a.disconnect(n),n.disconnect(s.destination)},a.start()}}),oi=(s,e)=>{const t=new Map;for(const n of s)for(const r of n){const i=t.get(r);t.set(r,i===void 0?1:i+1)}t.forEach((n,r)=>e(r,n))},gr=s=>"context"in s,vh=s=>{const e=new Map;s.connect=(t=>(n,r=0,i=0)=>{const o=gr(n)?t(n,r,i):t(n,r),a=e.get(n);return a===void 0?e.set(n,[{input:i,output:r}]):a.every(c=>c.input!==i||c.output!==r)&&a.push({input:i,output:r}),o})(s.connect.bind(s)),s.disconnect=(t=>(n,r,i)=>{if(t.apply(s),n===void 0)e.clear();else if(typeof n=="number")for(const[o,a]of e){const c=a.filter(l=>l.output!==n);c.length===0?e.delete(o):e.set(o,c)}else if(e.has(n))if(r===void 0)e.delete(n);else{const o=e.get(n);if(o!==void 0){const a=o.filter(c=>c.output!==r&&(c.input!==i||i===void 0));a.length===0?e.delete(n):e.set(n,a)}}for(const[o,a]of e)a.forEach(c=>{gr(o)?s.connect(o,c.output,c.input):s.connect(o,c.output)})})(s.disconnect)},yh=(s,e,t,n)=>{const{activeInputs:r,passiveInputs:i}=As(e),{outputs:o}=Je(s),a=Cs(s),c=l=>{const u=we(s),h=ys(e);if(l){const d=uc(i,s,t);ia(r,s,d,!1),!n&&!bn(s)&&u.connect(h,t)}else{const d=_h(r,s,t);oa(i,d,!1),!n&&!bn(s)&&u.disconnect(h,t)}};return Cn(o,[e,t],l=>l[0]===e&&l[1]===t,!0)?(a.add(c),Lt(s)?ia(r,s,[t,c],!0):oa(i,[s,t,c],!0),!0):!1},wh=(s,e,t,n)=>{const{activeInputs:r,passiveInputs:i}=Je(e),o=cc(r[n],s,t);return o===null?[rc(i,s,t,n)[2],!1]:[o[2],!0]},bh=(s,e,t)=>{const{activeInputs:n,passiveInputs:r}=As(e),i=cc(n,s,t);return i===null?[uc(r,s,t)[1],!1]:[i[2],!0]},Qi=(s,e,t,n,r)=>{const[i,o]=wh(s,t,n,r);if(i!==null&&(lc(s,i),o&&!e&&!bn(s)&&mr(we(s),we(t),n,r)),Lt(t)){const{activeInputs:a}=Je(t);Di(t,a)}},eo=(s,e,t,n)=>{const[r,i]=bh(s,t,n);r!==null&&(lc(s,r),i&&!e&&!bn(s)&&we(s).disconnect(ys(t),n))},xh=(s,e)=>{const t=Je(s),n=[];for(const r of t.outputs)Es(r)?Qi(s,e,...r):eo(s,e,...r),n.push(r[0]);return t.outputs.clear(),n},Sh=(s,e,t)=>{const n=Je(s),r=[];for(const i of n.outputs)i[1]===t&&(Es(i)?Qi(s,e,...i):eo(s,e,...i),r.push(i[0]),n.outputs.delete(i));return r},Th=(s,e,t,n,r)=>{const i=Je(s);return Array.from(i.outputs).filter(o=>o[0]===t&&(n===void 0||o[1]===n)&&(r===void 0||o[2]===r)).map(o=>(Es(o)?Qi(s,e,...o):eo(s,e,...o),i.outputs.delete(o),o[0]))},Ch=(s,e,t,n,r,i,o,a,c,l,u,h,d,f,p,m)=>class extends l{constructor(_,C,b,S){super(b),this._context=_,this._nativeAudioNode=b;const y=u(_);h(y)&&t(aa,()=>aa(y,m))!==!0&&vh(b),Zi.set(this,b),nc.set(this,new Set),_.state!=="closed"&&C&&Kn(this),s(this,S,b)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(_){this._nativeAudioNode.channelCount=_}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(_){this._nativeAudioNode.channelCountMode=_}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(_){this._nativeAudioNode.channelInterpretation=_}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(_,C=0,b=0){if(C<0||C>=this._nativeAudioNode.numberOfOutputs)throw r();const S=u(this._context),y=p(S);if(d(_)||f(_))throw i();if(fr(_)){const x=we(_);try{const O=pr(this._nativeAudioNode,x,C,b),M=or(this);(y||M)&&this._nativeAudioNode.disconnect(...O),this.context.state!=="closed"&&!M&&or(_)&&Kn(_)}catch(O){throw O.code===12?i():O}if(e(this,_,C,b,y)){const O=c([this],_);oi(O,n(y))}return _}const T=ys(_);if(T.name==="playbackRate"&&T.maxValue===1024)throw o();try{this._nativeAudioNode.connect(T,C),(y||or(this))&&this._nativeAudioNode.disconnect(T,C)}catch(x){throw x.code===12?i():x}if(yh(this,_,C,y)){const x=c([this],_);oi(x,n(y))}}disconnect(_,C,b){let S;const y=u(this._context),T=p(y);if(_===void 0)S=xh(this,T);else if(typeof _=="number"){if(_<0||_>=this.numberOfOutputs)throw r();S=Sh(this,T,_)}else{if(C!==void 0&&(C<0||C>=this.numberOfOutputs)||fr(_)&&b!==void 0&&(b<0||b>=_.numberOfInputs))throw r();if(S=Th(this,T,_,C,b),S.length===0)throw i()}for(const w of S){const x=c([this],w);oi(x,a)}}},kh=(s,e,t,n,r,i,o,a,c,l,u,h,d)=>(f,p,m,g=null,_=null)=>{const C=m.value,b=new ju(C),S=p?n(b):null,y={get defaultValue(){return C},get maxValue(){return g===null?m.maxValue:g},get minValue(){return _===null?m.minValue:_},get value(){return m.value},set value(T){m.value=T,y.setValueAtTime(T,f.context.currentTime)},cancelAndHoldAtTime(T){if(typeof m.cancelAndHoldAtTime=="function")S===null&&b.flush(f.context.currentTime),b.add(r(T)),m.cancelAndHoldAtTime(T);else{const w=Array.from(b).pop();S===null&&b.flush(f.context.currentTime),b.add(r(T));const x=Array.from(b).pop();m.cancelScheduledValues(T),w!==x&&x!==void 0&&(x.type==="exponentialRampToValue"?m.exponentialRampToValueAtTime(x.value,x.endTime):x.type==="linearRampToValue"?m.linearRampToValueAtTime(x.value,x.endTime):x.type==="setValue"?m.setValueAtTime(x.value,x.startTime):x.type==="setValueCurve"&&m.setValueCurveAtTime(x.values,x.startTime,x.duration))}return y},cancelScheduledValues(T){return S===null&&b.flush(f.context.currentTime),b.add(i(T)),m.cancelScheduledValues(T),y},exponentialRampToValueAtTime(T,w){if(T===0)throw new RangeError;if(!Number.isFinite(w)||w<0)throw new RangeError;const x=f.context.currentTime;return S===null&&b.flush(x),Array.from(b).length===0&&(b.add(l(C,x)),m.setValueAtTime(C,x)),b.add(o(T,w)),m.exponentialRampToValueAtTime(T,w),y},linearRampToValueAtTime(T,w){const x=f.context.currentTime;return S===null&&b.flush(x),Array.from(b).length===0&&(b.add(l(C,x)),m.setValueAtTime(C,x)),b.add(a(T,w)),m.linearRampToValueAtTime(T,w),y},setTargetAtTime(T,w,x){return S===null&&b.flush(f.context.currentTime),b.add(c(T,w,x)),m.setTargetAtTime(T,w,x),y},setValueAtTime(T,w){return S===null&&b.flush(f.context.currentTime),b.add(l(T,w)),m.setValueAtTime(T,w),y},setValueCurveAtTime(T,w,x){const A=T instanceof Float32Array?T:new Float32Array(T);if(h!==null&&h.name==="webkitAudioContext"){const O=w+x,M=f.context.sampleRate,E=Math.ceil(w*M),P=Math.floor(O*M),N=P-E,F=new Float32Array(N);for(let R=0;R<N;R+=1){const z=(A.length-1)/x*((E+R)/M-w),L=Math.floor(z),G=Math.ceil(z);F[R]=L===G?A[L]:(1-(z-L))*A[L]+(1-(G-z))*A[G]}S===null&&b.flush(f.context.currentTime),b.add(u(F,w,x)),m.setValueCurveAtTime(F,w,x);const I=P/M;I<O&&d(y,F[F.length-1],I),d(y,A[A.length-1],O)}else S===null&&b.flush(f.context.currentTime),b.add(u(A,w,x)),m.setValueCurveAtTime(A,w,x);return y}};return t.set(y,m),e.set(y,f),s(y,S),y},Ah=s=>({replay(e){for(const t of s)if(t.type==="exponentialRampToValue"){const{endTime:n,value:r}=t;e.exponentialRampToValueAtTime(r,n)}else if(t.type==="linearRampToValue"){const{endTime:n,value:r}=t;e.linearRampToValueAtTime(r,n)}else if(t.type==="setTarget"){const{startTime:n,target:r,timeConstant:i}=t;e.setTargetAtTime(r,n,i)}else if(t.type==="setValue"){const{startTime:n,value:r}=t;e.setValueAtTime(r,n)}else if(t.type==="setValueCurve"){const{duration:n,startTime:r,values:i}=t;e.setValueCurveAtTime(i,r,n)}else throw new Error("Can't apply an unknown automation.")}});class hc{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((n,r)=>e.call(t,n,r,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const Eh={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Oh=(s,e,t,n,r,i,o,a,c,l,u,h,d,f)=>class extends e{constructor(m,g,_){var C;const b=a(m),S=c(b),y=u({...Eh,..._});d(y);const T=Pi.get(b),w=T==null?void 0:T.get(g),x=S||b.state!=="closed"?b:(C=o(b))!==null&&C!==void 0?C:b,A=r(x,S?null:m.baseLatency,l,g,w,y),O=S?n(g,y,w):null;super(m,!0,A,O);const M=[];A.parameters.forEach((P,N)=>{const F=t(this,S,P);M.push([N,F])}),this._nativeAudioWorkletNode=A,this._onprocessorerror=null,this._parameters=new hc(M),S&&s(b,this);const{activeInputs:E}=i(this);h(A,E)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(m){const g=typeof m=="function"?f(this,m):null;this._nativeAudioWorkletNode.onprocessorerror=g;const _=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=_!==null&&_===g?m:_}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function _r(s,e,t,n,r){if(typeof s.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),s.copyFromChannel(e[t],n,r);else{const i=s.getChannelData(n);if(e[t].byteLength===0)e[t]=i.slice(r,r+128);else{const o=new Float32Array(i.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(o)}}}const dc=(s,e,t,n,r)=>{typeof s.copyToChannel=="function"?e[t].byteLength!==0&&s.copyToChannel(e[t],n,r):e[t].byteLength!==0&&s.getChannelData(n).set(e[t],r)},vr=(s,e)=>{const t=[];for(let n=0;n<s;n+=1){const r=[],i=typeof e=="number"?e:e[n];for(let o=0;o<i;o+=1)r.push(new Float32Array(128));t.push(r)}return t},Ph=(s,e)=>{const t=wt(Mi,s),n=we(e);return wt(t,n)},Mh=async(s,e,t,n,r,i,o)=>{const a=e===null?Math.ceil(s.context.length/128)*128:e.length,c=n.channelCount*n.numberOfInputs,l=r.reduce((g,_)=>g+_,0),u=l===0?null:t.createBuffer(l,a,t.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const h=Je(s),d=await Ph(t,s),f=vr(n.numberOfInputs,n.channelCount),p=vr(n.numberOfOutputs,r),m=Array.from(s.parameters.keys()).reduce((g,_)=>({...g,[_]:new Float32Array(128)}),{});for(let g=0;g<a;g+=128){if(n.numberOfInputs>0&&e!==null)for(let _=0;_<n.numberOfInputs;_+=1)for(let C=0;C<n.channelCount;C+=1)_r(e,f[_],C,C,g);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:_},C)=>{_r(e,m,_,c+C,g)});for(let _=0;_<n.numberOfInputs;_+=1)for(let C=0;C<r[_];C+=1)p[_][C].byteLength===0&&(p[_][C]=new Float32Array(128));try{const _=f.map((b,S)=>h.activeInputs[S].size===0?[]:b),C=o(g/t.sampleRate,t.sampleRate,()=>d.process(_,p,m));if(u!==null)for(let b=0,S=0;b<n.numberOfOutputs;b+=1){for(let y=0;y<r[b];y+=1)dc(u,p[b],y,S+y,g);S+=r[b]}if(!C)break}catch(_){s.dispatchEvent(new ErrorEvent("processorerror",{colno:_.colno,filename:_.filename,lineno:_.lineno,message:_.message}));break}}return u},Dh=(s,e,t,n,r,i,o,a,c,l,u,h,d,f,p,m)=>(g,_,C)=>{const b=new WeakMap;let S=null;const y=async(T,w)=>{let x=u(T),A=null;const O=qe(x,w),M=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(h===null){const E=M.reduce((I,R)=>I+R,0),P=r(w,{channelCount:Math.max(1,E),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,E)}),N=[];for(let I=0;I<T.numberOfOutputs;I+=1)N.push(n(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:M[I]}));const F=o(w,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1});F.connect=e.bind(null,N),F.disconnect=c.bind(null,N),A=[P,N,F]}else O||(x=new h(w,g));if(b.set(w,A===null?x:A[2]),A!==null){if(S===null){if(C===void 0)throw new Error("Missing the processor constructor.");if(d===null)throw new Error("Missing the native OfflineAudioContext constructor.");const R=T.channelCount*T.numberOfInputs,z=C.parameterDescriptors===void 0?0:C.parameterDescriptors.length,L=R+z;S=Mh(T,L===0?null:await(async()=>{const J=new d(L,Math.ceil(T.context.length/128)*128,w.sampleRate),oe=[],Oe=[];for(let ue=0;ue<_.numberOfInputs;ue+=1)oe.push(o(J,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),Oe.push(r(J,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const Ie=await Promise.all(Array.from(T.parameters.values()).map(async ue=>{const Ce=i(J,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ue.value});return await f(J,ue,Ce.offset),Ce})),ee=n(J,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,R+z)});for(let ue=0;ue<_.numberOfInputs;ue+=1){oe[ue].connect(Oe[ue]);for(let Ce=0;Ce<_.channelCount;Ce+=1)Oe[ue].connect(ee,Ce,ue*_.channelCount+Ce)}for(const[ue,Ce]of Ie.entries())Ce.connect(ee,0,R+ue),Ce.start(0);return ee.connect(J.destination),await Promise.all(oe.map(ue=>p(T,J,ue))),m(J)})(),w,_,M,C,l)}const E=await S,P=t(w,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[N,F,I]=A;E!==null&&(P.buffer=E,P.start(0)),P.connect(N);for(let R=0,z=0;R<T.numberOfOutputs;R+=1){const L=F[R];for(let G=0;G<M[R];G+=1)N.connect(L,z+G,G);z+=M[R]}return I}if(O)for(const[E,P]of T.parameters.entries())await s(w,P,x.parameters.get(E));else for(const[E,P]of T.parameters.entries())await f(w,P,x.parameters.get(E));return await p(T,w,x),x};return{render(T,w){a(w,T);const x=b.get(w);return x!==void 0?Promise.resolve(x):y(T,w)}}},Nh=(s,e,t,n,r,i,o,a,c,l,u,h,d,f,p,m,g,_,C,b)=>class extends p{constructor(y,T){super(y,T),this._nativeContext=y,this._audioWorklet=s===void 0?void 0:{addModule:(w,x)=>s(this,w,x)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(y,T,w){return new t({length:T,numberOfChannels:y,sampleRate:w})}createBufferSource(){return new n(this)}createChannelMerger(y=6){return new i(this,{numberOfInputs:y})}createChannelSplitter(y=6){return new o(this,{numberOfOutputs:y})}createConstantSource(){return new a(this)}createConvolver(){return new c(this)}createDelay(y=1){return new u(this,{maxDelayTime:y})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(y,T){return new f(this,{feedback:T,feedforward:y})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(y,T,w={disableNormalization:!1}){return new _(this,{...w,imag:T,real:y})}createStereoPanner(){return new C(this)}createWaveShaper(){return new b(this)}decodeAudioData(y,T,w){return l(this._nativeContext,y).then(x=>(typeof T=="function"&&T(x),x),x=>{throw typeof w=="function"&&w(x),x})}},Rh={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Ih=(s,e,t,n,r,i,o,a)=>class extends s{constructor(l,u){const h=i(l),d={...Rh,...u},f=r(h,d),p=o(h),m=p?t():null;super(l,!1,f,m),this._Q=e(this,p,f.Q,ze,Ye),this._detune=e(this,p,f.detune,1200*Math.log2(ze),-1200*Math.log2(ze)),this._frequency=e(this,p,f.frequency,l.sampleRate/2,0),this._gain=e(this,p,f.gain,40*Math.log10(ze),Ye),this._nativeBiquadFilterNode=f,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(l){this._nativeBiquadFilterNode.type=l}getFrequencyResponse(l,u,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(l,u,h)}catch(d){throw d.code===11?n():d}if(l.length!==u.length||u.length!==h.length)throw n()}},jh=(s,e,t,n,r)=>()=>{const i=new WeakMap,o=async(a,c)=>{let l=t(a);const u=qe(l,c);if(!u){const h={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=e(c,h)}return i.set(c,l),u?(await s(c,a.Q,l.Q),await s(c,a.detune,l.detune),await s(c,a.frequency,l.frequency),await s(c,a.gain,l.gain)):(await n(c,a.Q,l.Q),await n(c,a.detune,l.detune),await n(c,a.frequency,l.frequency),await n(c,a.gain,l.gain)),await r(a,c,l),l};return{render(a,c){const l=i.get(c);return l!==void 0?Promise.resolve(l):o(a,c)}}},Bh=(s,e)=>(t,n)=>{const r=e.get(t);if(r!==void 0)return r;const i=s.get(t);if(i!==void 0)return i;try{const o=n();return o instanceof Promise?(s.set(t,o),o.catch(()=>!1).then(a=>(s.delete(t),e.set(t,a),a))):(e.set(t,o),o)}catch{return e.set(t,!1),!1}},Fh={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Lh=(s,e,t,n,r)=>class extends s{constructor(o,a){const c=n(o),l={...Fh,...a},u=t(c,l),h=r(c)?e():null;super(o,!1,u,h)}},Vh=(s,e,t)=>()=>{const n=new WeakMap,r=async(i,o)=>{let a=e(i);if(!qe(a,o)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=s(o,l)}return n.set(o,a),await t(i,o,a),a};return{render(i,o){const a=n.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},$h={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},qh=(s,e,t,n,r,i)=>class extends s{constructor(a,c){const l=n(a),u=i({...$h,...c}),h=t(l,u),d=r(l)?e():null;super(a,!1,h,d)}},Uh=(s,e,t)=>()=>{const n=new WeakMap,r=async(i,o)=>{let a=e(i);if(!qe(a,o)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=s(o,l)}return n.set(o,a),await t(i,o,a),a};return{render(i,o){const a=n.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Wh=s=>(e,t,n)=>s(t,e,n),Gh=s=>(e,t,n=0,r=0)=>{const i=e[n];if(i===void 0)throw s();return gr(t)?i.connect(t,0,r):i.connect(t,0)},zh=s=>(e,t)=>{const n=s(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=e.createBuffer(1,2,44100);return n.buffer=r,n.loop=!0,n.connect(t),n.start(),()=>{n.stop(),n.disconnect(t)}},Hh={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Jh=(s,e,t,n,r,i,o)=>class extends s{constructor(c,l){const u=r(c),h={...Hh,...l},d=n(u,h),f=i(u),p=f?t():null;super(c,!1,d,p),this._constantSourceNodeRenderer=p,this._nativeConstantSourceNode=d,this._offset=e(this,f,d.offset,ze,Ye),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(c){const l=typeof c=="function"?o(this,c):null;this._nativeConstantSourceNode.onended=l;const u=this._nativeConstantSourceNode.onended;this._onended=u!==null&&u===l?c:u}start(c=0){if(this._nativeConstantSourceNode.start(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=c),this.context.state!=="closed"){Kn(this);const l=()=>{this._nativeConstantSourceNode.removeEventListener("ended",l),Lt(this)&&ks(this)};this._nativeConstantSourceNode.addEventListener("ended",l)}}stop(c=0){this._nativeConstantSourceNode.stop(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=c)}},Kh=(s,e,t,n,r)=>()=>{const i=new WeakMap;let o=null,a=null;const c=async(l,u)=>{let h=t(l);const d=qe(h,u);if(!d){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(u,f),o!==null&&h.start(o),a!==null&&h.stop(a)}return i.set(u,h),d?await s(u,l.offset,h.offset):await n(u,l.offset,h.offset),await r(l,u,h),h};return{set start(l){o=l},set stop(l){a=l},render(l,u){const h=i.get(u);return h!==void 0?Promise.resolve(h):c(l,u)}}},Zh=s=>e=>(s[0]=e,s[0]),Xh={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Yh=(s,e,t,n,r,i)=>class extends s{constructor(a,c){const l=n(a),u={...Xh,...c},h=t(l,u),f=r(l)?e():null;super(a,!1,h,f),this._isBufferNullified=!1,this._nativeConvolverNode=h,u.buffer!==null&&i(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const c=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=c.createBuffer(1,1,c.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},Qh=(s,e,t)=>()=>{const n=new WeakMap,r=async(i,o)=>{let a=e(i);if(!qe(a,o)){const l={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=s(o,l)}return n.set(o,a),Qn(a)?await t(i,o,a.inputs[0]):await t(i,o,a),a};return{render(i,o){const a=n.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},ed=(s,e)=>(t,n,r)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,n,r)}catch(i){throw i.name==="SyntaxError"?s():i}},td=()=>new DOMException("","DataCloneError"),ca=s=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(n=>{const r=()=>{t.onmessage=null,e.close(),t.close(),n()};t.onmessage=()=>r();try{e.postMessage(s,[s])}catch{}finally{r()}})},nd=(s,e,t,n,r,i,o,a,c,l,u)=>(h,d)=>{const f=o(h)?h:i(h);if(r.has(d)){const p=t();return Promise.reject(p)}try{r.add(d)}catch{}return e(c,()=>c(f))?f.decodeAudioData(d).then(p=>(ca(d).catch(()=>{}),e(a,()=>a(p))||u(p),s.add(p),p)):new Promise((p,m)=>{const g=async()=>{try{await ca(d)}catch{}},_=C=>{m(C),g()};try{f.decodeAudioData(d,C=>{typeof C.copyFromChannel!="function"&&(l(C),Yi(C)),s.add(C),g().then(()=>p(C))},C=>{_(C===null?n():C)})}catch(C){_(C)}})},sd=(s,e,t,n,r,i,o,a)=>(c,l)=>{const u=e.get(c);if(u===void 0)throw new Error("Missing the expected cycle count.");const h=i(c.context),d=a(h);if(u===l){if(e.delete(c),!d&&o(c)){const f=n(c),{outputs:p}=t(c);for(const m of p)if(Es(m)){const g=n(m[0]);s(f,g,m[1],m[2])}else{const g=r(m[0]);f.connect(g,m[1])}}}else e.set(c,u-l)},rd={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},id=(s,e,t,n,r,i,o)=>class extends s{constructor(c,l){const u=r(c),h={...rd,...l},d=n(u,h),f=i(u),p=f?t(h.maxDelayTime):null;super(c,!1,d,p),this._delayTime=e(this,f,d.delayTime),o(this,h.maxDelayTime)}get delayTime(){return this._delayTime}},od=(s,e,t,n,r)=>i=>{const o=new WeakMap,a=async(c,l)=>{let u=t(c);const h=qe(u,l);if(!h){const d={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:i};u=e(l,d)}return o.set(l,u),h?await s(l,c.delayTime,u.delayTime):await n(l,c.delayTime,u.delayTime),await r(c,l,u),u};return{render(c,l){const u=o.get(l);return u!==void 0?Promise.resolve(u):a(c,l)}}},ad=s=>(e,t,n,r)=>s(e[r],i=>i[0]===t&&i[1]===n),cd=s=>(e,t)=>{s(e).delete(t)},ld=s=>"delayTime"in s,ud=(s,e,t)=>function n(r,i){const o=fr(i)?i:t(s,i);if(ld(o))return[];if(r[0]===o)return[r];if(r.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(c=>n([...r,o],c[0])).reduce((c,l)=>c.concat(l),[])},Gs=(s,e,t)=>{const n=e[t];if(n===void 0)throw s();return n},hd=s=>(e,t=void 0,n=void 0,r=0)=>t===void 0?e.forEach(i=>i.disconnect()):typeof t=="number"?Gs(s,e,t).disconnect():gr(t)?n===void 0?e.forEach(i=>i.disconnect(t)):r===void 0?Gs(s,e,n).disconnect(t,0):Gs(s,e,n).disconnect(t,0,r):n===void 0?e.forEach(i=>i.disconnect(t)):Gs(s,e,n).disconnect(t,0),dd={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},fd=(s,e,t,n,r,i,o,a)=>class extends s{constructor(l,u){const h=i(l),d={...dd,...u},f=n(h,d),p=o(h),m=p?t():null;super(l,!1,f,m),this._attack=e(this,p,f.attack),this._knee=e(this,p,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=e(this,p,f.ratio),this._release=e(this,p,f.release),this._threshold=e(this,p,f.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(l){const u=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=l,l>2)throw this._nativeDynamicsCompressorNode.channelCount=u,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(l){const u=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=l,l==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=u,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},pd=(s,e,t,n,r)=>()=>{const i=new WeakMap,o=async(a,c)=>{let l=t(a);const u=qe(l,c);if(!u){const h={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=e(c,h)}return i.set(c,l),u?(await s(c,a.attack,l.attack),await s(c,a.knee,l.knee),await s(c,a.ratio,l.ratio),await s(c,a.release,l.release),await s(c,a.threshold,l.threshold)):(await n(c,a.attack,l.attack),await n(c,a.knee,l.knee),await n(c,a.ratio,l.ratio),await n(c,a.release,l.release),await n(c,a.threshold,l.threshold)),await r(a,c,l),l};return{render(a,c){const l=i.get(c);return l!==void 0?Promise.resolve(l):o(a,c)}}},md=()=>new DOMException("","EncodingError"),gd=s=>e=>new Promise((t,n)=>{if(s===null){n(new SyntaxError);return}const r=s.document.head;if(r===null)n(new SyntaxError);else{const i=s.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),c=s.onerror,l=()=>{s.onerror=c,URL.revokeObjectURL(a)};s.onerror=(u,h,d,f,p)=>{if(h===a||h===s.location.href&&d===1&&f===1)return l(),n(p),!1;if(c!==null)return c(u,h,d,f,p)},i.onerror=()=>{l(),n(new SyntaxError)},i.onload=()=>{l(),t()},i.src=a,i.type="module",r.appendChild(i)}}),_d=s=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,n,r){if(n!==null){let i=this._listeners.get(n);i===void 0&&(i=s(this,n),typeof n=="function"&&this._listeners.set(n,i)),this._nativeEventTarget.addEventListener(t,i,r)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,n,r){const i=n===null?void 0:this._listeners.get(n);this._nativeEventTarget.removeEventListener(t,i===void 0?null:i,r)}},vd=s=>(e,t,n)=>{Object.defineProperties(s,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return n()}finally{s!==null&&(delete s.currentFrame,delete s.currentTime)}},yd=s=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw s()},wd={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},bd=(s,e,t,n,r,i)=>class extends s{constructor(a,c){const l=r(a),u={...wd,...c},h=n(l,u),d=i(l),f=d?t():null;super(a,!1,h,f),this._gain=e(this,d,h.gain,ze,Ye)}get gain(){return this._gain}},xd=(s,e,t,n,r)=>()=>{const i=new WeakMap,o=async(a,c)=>{let l=t(a);const u=qe(l,c);if(!u){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=e(c,h)}return i.set(c,l),u?await s(c,a.gain,l.gain):await n(c,a.gain,l.gain),await r(a,c,l),l};return{render(a,c){const l=i.get(c);return l!==void 0?Promise.resolve(l):o(a,c)}}},Sd=(s,e)=>t=>e(s,t),Td=s=>e=>{const t=s(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},Cd=s=>e=>{var t;return(t=s.get(e))!==null&&t!==void 0?t:0},kd=s=>e=>{const t=s(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},Ad=s=>e=>s.get(e),Le=()=>new DOMException("","InvalidStateError"),Ed=s=>e=>{const t=s.get(e);if(t===void 0)throw Le();return t},Od=(s,e)=>t=>{let n=s.get(t);if(n!==void 0)return n;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return n=new e(1,1,44100),s.set(t,n),n},Pd=s=>e=>{const t=s.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},Pr=()=>new DOMException("","InvalidAccessError"),Md=s=>{s.getFrequencyResponse=(e=>(t,n,r)=>{if(t.length!==n.length||n.length!==r.length)throw Pr();return e.call(s,t,n,r)})(s.getFrequencyResponse)},Dd={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Nd=(s,e,t,n,r,i)=>class extends s{constructor(a,c){const l=n(a),u=r(l),h={...Dd,...c},d=e(l,u?null:a.baseLatency,h),f=u?t(h.feedback,h.feedforward):null;super(a,!1,d,f),Md(d),this._nativeIIRFilterNode=d,i(this,1)}getFrequencyResponse(a,c,l){return this._nativeIIRFilterNode.getFrequencyResponse(a,c,l)}},fc=(s,e,t,n,r,i,o,a,c,l,u)=>{const h=l.length;let d=a;for(let f=0;f<h;f+=1){let p=t[0]*l[f];for(let m=1;m<r;m+=1){const g=d-m&c-1;p+=t[m]*i[g],p-=s[m]*o[g]}for(let m=r;m<n;m+=1)p+=t[m]*i[d-m&c-1];for(let m=r;m<e;m+=1)p-=s[m]*o[d-m&c-1];i[d]=l[f],o[d]=p,d=d+1&c-1,u[f]=p}return d},Rd=(s,e,t,n)=>{const r=t instanceof Float64Array?t:new Float64Array(t),i=n instanceof Float64Array?n:new Float64Array(n),o=r.length,a=i.length,c=Math.min(o,a);if(r[0]!==1){for(let p=0;p<o;p+=1)i[p]/=r[0];for(let p=1;p<a;p+=1)r[p]/=r[0]}const l=32,u=new Float32Array(l),h=new Float32Array(l),d=e.createBuffer(s.numberOfChannels,s.length,s.sampleRate),f=s.numberOfChannels;for(let p=0;p<f;p+=1){const m=s.getChannelData(p),g=d.getChannelData(p);u.fill(0),h.fill(0),fc(r,o,i,a,c,u,h,0,l,m,g)}return d},Id=(s,e,t,n,r)=>(i,o)=>{const a=new WeakMap;let c=null;const l=async(u,h)=>{let d=null,f=e(u);const p=qe(f,h);if(h.createIIRFilter===void 0?d=s(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(f=h.createIIRFilter(o,i)),a.set(h,d===null?f:d),d!==null){if(c===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const g=new t(u.context.destination.channelCount,u.context.length,h.sampleRate);c=(async()=>{await n(u,g,g.destination);const _=await r(g);return Rd(_,h,i,o)})()}const m=await c;return d.buffer=m,d.start(0),d}return await n(u,h,f),f};return{render(u,h){const d=a.get(h);return d!==void 0?Promise.resolve(d):l(u,h)}}},jd=(s,e,t,n,r,i)=>o=>(a,c)=>{const l=s.get(a);if(l===void 0){if(!o&&i(a)){const u=n(a),{outputs:h}=t(a);for(const d of h)if(Es(d)){const f=n(d[0]);e(u,f,d[1],d[2])}else{const f=r(d[0]);u.disconnect(f,d[1])}}s.set(a,c)}else s.set(a,l+c)},Bd=(s,e)=>t=>{const n=s.get(t);return e(n)||e(t)},Fd=(s,e)=>t=>s.has(t)||e(t),Ld=(s,e)=>t=>s.has(t)||e(t),Vd=(s,e)=>t=>{const n=s.get(t);return e(n)||e(t)},$d=s=>e=>s!==null&&e instanceof s,qd=s=>e=>s!==null&&typeof s.AudioNode=="function"&&e instanceof s.AudioNode,Ud=s=>e=>s!==null&&typeof s.AudioParam=="function"&&e instanceof s.AudioParam,Wd=(s,e)=>t=>s(t)||e(t),Gd=s=>e=>s!==null&&e instanceof s,zd=s=>s!==null&&s.isSecureContext,Hd=(s,e,t,n)=>class extends s{constructor(i,o){const a=t(i),c=e(a,o);if(n(a))throw TypeError();super(i,!0,c,null),this._nativeMediaElementAudioSourceNode=c}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},Jd={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Kd=(s,e,t,n)=>class extends s{constructor(i,o){const a=t(i);if(n(a))throw new TypeError;const c={...Jd,...o},l=e(a,c);super(i,!1,l,null),this._nativeMediaStreamAudioDestinationNode=l}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},Zd=(s,e,t,n)=>class extends s{constructor(i,o){const a=t(i),c=e(a,o);if(n(a))throw new TypeError;super(i,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},Xd=(s,e,t)=>class extends s{constructor(r,i){const o=t(r),a=e(o,i);super(r,!0,a,null)}},Yd=(s,e,t,n,r,i)=>class extends t{constructor(a,c){super(a),this._nativeContext=a,Er.set(this,a),n(a)&&r.set(a,new Set),this._destination=new s(this,c),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const c=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=c;const l=this._nativeContext.onstatechange;this._onstatechange=l!==null&&l===c?a:l}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},ws=s=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=s.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},Qd=(s,e)=>(t,n,r)=>{const i=new Set;return t.connect=(o=>(a,c=0,l=0)=>{const u=i.size===0;if(e(a))return o.call(t,a,c,l),s(i,[a,c,l],h=>h[0]===a&&h[1]===c&&h[2]===l,!0),u&&n(),a;o.call(t,a,c),s(i,[a,c],h=>h[0]===a&&h[1]===c,!0),u&&n()})(t.connect),t.disconnect=(o=>(a,c,l)=>{const u=i.size>0;if(a===void 0)o.apply(t),i.clear();else if(typeof a=="number"){o.call(t,a);for(const d of i)d[1]===a&&i.delete(d)}else{e(a)?o.call(t,a,c,l):o.call(t,a,c);for(const d of i)d[0]===a&&(c===void 0||d[1]===c)&&(l===void 0||d[2]===l)&&i.delete(d)}const h=i.size===0;u&&h&&r()})(t.disconnect),t},be=(s,e,t)=>{const n=e[t];n!==void 0&&n!==s[t]&&(s[t]=n)},Re=(s,e)=>{be(s,e,"channelCount"),be(s,e,"channelCountMode"),be(s,e,"channelInterpretation")},la=s=>typeof s.getFloatTimeDomainData=="function",ef=s=>{s.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);s.getByteTimeDomainData(t);const n=Math.max(t.length,s.fftSize);for(let r=0;r<n;r+=1)e[r]=(t[r]-128)*.0078125;return e}},tf=(s,e)=>(t,n)=>{const r=t.createAnalyser();if(Re(r,n),!(n.maxDecibels>n.minDecibels))throw e();return be(r,n,"fftSize"),be(r,n,"maxDecibels"),be(r,n,"minDecibels"),be(r,n,"smoothingTimeConstant"),s(la,()=>la(r))||ef(r),r},nf=s=>s===null?null:s.hasOwnProperty("AudioBuffer")?s.AudioBuffer:null,Te=(s,e,t)=>{const n=e[t];n!==void 0&&n!==s[t].value&&(s[t].value=n)},sf=s=>{s.start=(e=>{let t=!1;return(n=0,r=0,i)=>{if(t)throw Le();e.call(s,n,r,i),t=!0}})(s.start)},to=s=>{s.start=(e=>(t=0,n=0,r)=>{if(typeof r=="number"&&r<0||n<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(s,t,n,r)})(s.start)},no=s=>{s.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(s,t)})(s.stop)},rf=(s,e,t,n,r,i,o,a,c,l,u)=>(h,d)=>{const f=h.createBufferSource();return Re(f,d),Te(f,d,"playbackRate"),be(f,d,"buffer"),be(f,d,"loop"),be(f,d,"loopEnd"),be(f,d,"loopStart"),e(t,()=>t(h))||sf(f),e(n,()=>n(h))||c(f),e(r,()=>r(h))||l(f,h),e(i,()=>i(h))||to(f),e(o,()=>o(h))||u(f,h),e(a,()=>a(h))||no(f),s(h,f),f},of=s=>s===null?null:s.hasOwnProperty("AudioContext")?s.AudioContext:s.hasOwnProperty("webkitAudioContext")?s.webkitAudioContext:null,af=(s,e)=>(t,n,r)=>{const i=t.destination;if(i.channelCount!==n)try{i.channelCount=n}catch{}r&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:n});const o=s(t,{channelCount:n,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>c=>{a.call(o,c);try{i.channelCount=c}catch(l){if(c>i.maxChannelCount)throw l}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>c=>{a.call(o,c),i.channelCountMode=c}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>c=>{a.call(o,c),i.channelInterpretation=c}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o},cf=s=>s===null?null:s.hasOwnProperty("AudioWorkletNode")?s.AudioWorkletNode:null,lf=s=>{const{port1:e}=new MessageChannel;try{e.postMessage(s)}finally{e.close()}},uf=(s,e,t,n,r)=>(i,o,a,c,l,u)=>{if(a!==null)try{const h=new a(i,c,u),d=new Map;let f=null;if(Object.defineProperties(h,{channelCount:{get:()=>u.channelCount,set:()=>{throw s()}},channelCountMode:{get:()=>"explicit",set:()=>{throw s()}},onprocessorerror:{get:()=>f,set:p=>{typeof f=="function"&&h.removeEventListener("processorerror",f),f=typeof p=="function"?p:null,typeof f=="function"&&h.addEventListener("processorerror",f)}}}),h.addEventListener=(p=>(...m)=>{if(m[0]==="processorerror"){const g=typeof m[1]=="function"?m[1]:typeof m[1]=="object"&&m[1]!==null&&typeof m[1].handleEvent=="function"?m[1].handleEvent:null;if(g!==null){const _=d.get(m[1]);_!==void 0?m[1]=_:(m[1]=C=>{C.type==="error"?(Object.defineProperties(C,{type:{value:"processorerror"}}),g(C)):g(new ErrorEvent(m[0],{...C}))},d.set(g,m[1]))}}return p.call(h,"error",m[1],m[2]),p.call(h,...m)})(h.addEventListener),h.removeEventListener=(p=>(...m)=>{if(m[0]==="processorerror"){const g=d.get(m[1]);g!==void 0&&(d.delete(m[1]),m[1]=g)}return p.call(h,"error",m[1],m[2]),p.call(h,m[0],m[1],m[2])})(h.removeEventListener),u.numberOfOutputs!==0){const p=t(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(p).connect(i.destination),r(h,()=>p.disconnect(),()=>p.connect(i.destination))}return h}catch(h){throw h.code===11?n():h}if(l===void 0)throw n();return lf(u),e(i,o,l,u)},pc=(s,e)=>s===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(s*e))))),hf=s=>new Promise((e,t)=>{const{port1:n,port2:r}=new MessageChannel;n.onmessage=({data:i})=>{n.close(),r.close(),e(i)},n.onmessageerror=({data:i})=>{n.close(),r.close(),t(i)},r.postMessage(s)}),df=async(s,e)=>{const t=await hf(e);return new s(t)},ff=(s,e,t,n)=>{let r=Mi.get(s);r===void 0&&(r=new WeakMap,Mi.set(s,r));const i=df(t,n);return r.set(e,i),i},pf=(s,e,t,n,r,i,o,a,c,l,u,h,d)=>(f,p,m,g)=>{if(g.numberOfInputs===0&&g.numberOfOutputs===0)throw c();const _=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(_.some(j=>j<1))throw c();if(_.length!==g.numberOfOutputs)throw e();if(g.channelCountMode!=="explicit")throw c();const C=g.channelCount*g.numberOfInputs,b=_.reduce((j,U)=>j+U,0),S=m.parameterDescriptors===void 0?0:m.parameterDescriptors.length;if(C+S>6||b>6)throw c();const y=new MessageChannel,T=[],w=[];for(let j=0;j<g.numberOfInputs;j+=1)T.push(o(f,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),w.push(r(f,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const x=[];if(m.parameterDescriptors!==void 0)for(const{defaultValue:j,maxValue:U,minValue:xe,name:ye}of m.parameterDescriptors){const se=i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:g.parameterData[ye]!==void 0?g.parameterData[ye]:j===void 0?0:j});Object.defineProperties(se.offset,{defaultValue:{get:()=>j===void 0?0:j},maxValue:{get:()=>U===void 0?ze:U},minValue:{get:()=>xe===void 0?Ye:xe}}),x.push(se)}const A=n(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,C+S)}),O=pc(p,f.sampleRate),M=a(f,O,C+S,Math.max(1,b)),E=r(f,{channelCount:Math.max(1,b),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,b)}),P=[];for(let j=0;j<g.numberOfOutputs;j+=1)P.push(n(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:_[j]}));for(let j=0;j<g.numberOfInputs;j+=1){T[j].connect(w[j]);for(let U=0;U<g.channelCount;U+=1)w[j].connect(A,U,j*g.channelCount+U)}const N=new hc(m.parameterDescriptors===void 0?[]:m.parameterDescriptors.map(({name:j},U)=>{const xe=x[U];return xe.connect(A,0,C+U),xe.start(0),[j,xe.offset]}));A.connect(M);let F=g.channelInterpretation,I=null;const R=g.numberOfOutputs===0?[M]:P,z={get bufferSize(){return O},get channelCount(){return g.channelCount},set channelCount(j){throw t()},get channelCountMode(){return g.channelCountMode},set channelCountMode(j){throw t()},get channelInterpretation(){return F},set channelInterpretation(j){for(const U of T)U.channelInterpretation=j;F=j},get context(){return M.context},get inputs(){return T},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return I},set onprocessorerror(j){typeof I=="function"&&z.removeEventListener("processorerror",I),I=typeof j=="function"?j:null,typeof I=="function"&&z.addEventListener("processorerror",I)},get parameters(){return N},get port(){return y.port2},addEventListener(...j){return M.addEventListener(j[0],j[1],j[2])},connect:s.bind(null,R),disconnect:l.bind(null,R),dispatchEvent(...j){return M.dispatchEvent(j[0])},removeEventListener(...j){return M.removeEventListener(j[0],j[1],j[2])}},L=new Map;y.port1.addEventListener=(j=>(...U)=>{if(U[0]==="message"){const xe=typeof U[1]=="function"?U[1]:typeof U[1]=="object"&&U[1]!==null&&typeof U[1].handleEvent=="function"?U[1].handleEvent:null;if(xe!==null){const ye=L.get(U[1]);ye!==void 0?U[1]=ye:(U[1]=se=>{u(f.currentTime,f.sampleRate,()=>xe(se))},L.set(xe,U[1]))}}return j.call(y.port1,U[0],U[1],U[2])})(y.port1.addEventListener),y.port1.removeEventListener=(j=>(...U)=>{if(U[0]==="message"){const xe=L.get(U[1]);xe!==void 0&&(L.delete(U[1]),U[1]=xe)}return j.call(y.port1,U[0],U[1],U[2])})(y.port1.removeEventListener);let G=null;Object.defineProperty(y.port1,"onmessage",{get:()=>G,set:j=>{typeof G=="function"&&y.port1.removeEventListener("message",G),G=typeof j=="function"?j:null,typeof G=="function"&&(y.port1.addEventListener("message",G),y.port1.start())}}),m.prototype.port=y.port1;let J=null;ff(f,z,m,g).then(j=>J=j);const Oe=vr(g.numberOfInputs,g.channelCount),Ie=vr(g.numberOfOutputs,_),ee=m.parameterDescriptors===void 0?[]:m.parameterDescriptors.reduce((j,{name:U})=>({...j,[U]:new Float32Array(128)}),{});let ue=!0;const Ce=()=>{g.numberOfOutputs>0&&M.disconnect(E);for(let j=0,U=0;j<g.numberOfOutputs;j+=1){const xe=P[j];for(let ye=0;ye<_[j];ye+=1)E.disconnect(xe,U+ye,ye);U+=_[j]}},V=new Map;M.onaudioprocess=({inputBuffer:j,outputBuffer:U})=>{if(J!==null){const xe=h(z);for(let ye=0;ye<O;ye+=128){for(let se=0;se<g.numberOfInputs;se+=1)for(let ae=0;ae<g.channelCount;ae+=1)_r(j,Oe[se],ae,ae,ye);m.parameterDescriptors!==void 0&&m.parameterDescriptors.forEach(({name:se},ae)=>{_r(j,ee,se,C+ae,ye)});for(let se=0;se<g.numberOfInputs;se+=1)for(let ae=0;ae<_[se];ae+=1)Ie[se][ae].byteLength===0&&(Ie[se][ae]=new Float32Array(128));try{const se=Oe.map((Ue,At)=>{if(xe[At].size>0)return V.set(At,O/128),Ue;const ls=V.get(At);return ls===void 0?[]:(Ue.every($s=>$s.every(ii=>ii===0))&&(ls===1?V.delete(At):V.set(At,ls-1)),Ue)});ue=u(f.currentTime+ye/f.sampleRate,f.sampleRate,()=>J.process(se,Ie,ee));for(let Ue=0,At=0;Ue<g.numberOfOutputs;Ue+=1){for(let dt=0;dt<_[Ue];dt+=1)dc(U,Ie[Ue],dt,At+dt,ye);At+=_[Ue]}}catch(se){ue=!1,z.dispatchEvent(new ErrorEvent("processorerror",{colno:se.colno,filename:se.filename,lineno:se.lineno,message:se.message}))}if(!ue){for(let se=0;se<g.numberOfInputs;se+=1){T[se].disconnect(w[se]);for(let ae=0;ae<g.channelCount;ae+=1)w[ye].disconnect(A,ae,se*g.channelCount+ae)}if(m.parameterDescriptors!==void 0){const se=m.parameterDescriptors.length;for(let ae=0;ae<se;ae+=1){const Ue=x[ae];Ue.disconnect(A,0,C+ae),Ue.stop()}}A.disconnect(M),M.onaudioprocess=null,ut?Ce():Rt();break}}}};let ut=!1;const ht=o(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),nt=()=>M.connect(ht).connect(f.destination),Rt=()=>{M.disconnect(ht),ht.disconnect()},Vs=()=>{if(ue){Rt(),g.numberOfOutputs>0&&M.connect(E);for(let j=0,U=0;j<g.numberOfOutputs;j+=1){const xe=P[j];for(let ye=0;ye<_[j];ye+=1)E.connect(xe,U+ye,ye);U+=_[j]}}ut=!0},X=()=>{ue&&(nt(),Ce()),ut=!1};return nt(),d(z,Vs,X)},mc=(s,e)=>{const t=s.createBiquadFilter();return Re(t,e),Te(t,e,"Q"),Te(t,e,"detune"),Te(t,e,"frequency"),Te(t,e,"gain"),be(t,e,"type"),t},mf=(s,e)=>(t,n)=>{const r=t.createChannelMerger(n.numberOfInputs);return s!==null&&s.name==="webkitAudioContext"&&e(t,r),Re(r,n),r},gf=s=>{const e=s.numberOfOutputs;Object.defineProperty(s,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Le()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw Le()}}),Object.defineProperty(s,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw Le()}})},Os=(s,e)=>{const t=s.createChannelSplitter(e.numberOfOutputs);return Re(t,e),gf(t),t},_f=(s,e,t,n,r)=>(i,o)=>{if(i.createConstantSource===void 0)return t(i,o);const a=i.createConstantSource();return Re(a,o),Te(a,o,"offset"),e(n,()=>n(i))||to(a),e(r,()=>r(i))||no(a),s(i,a),a},es=(s,e)=>(s.connect=e.connect.bind(e),s.disconnect=e.disconnect.bind(e),s),vf=(s,e,t,n)=>(r,{offset:i,...o})=>{const a=r.createBuffer(1,2,44100),c=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),l=t(r,{...o,gain:i}),u=a.getChannelData(0);u[0]=1,u[1]=1,c.buffer=a,c.loop=!0;const h={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(p){l.channelCount=p},get channelCountMode(){return l.channelCountMode},set channelCountMode(p){l.channelCountMode=p},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(p){l.channelInterpretation=p},get context(){return l.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get offset(){return l.gain},get onended(){return c.onended},set onended(p){c.onended=p},addEventListener(...p){return c.addEventListener(p[0],p[1],p[2])},dispatchEvent(...p){return c.dispatchEvent(p[0])},removeEventListener(...p){return c.removeEventListener(p[0],p[1],p[2])},start(p=0){c.start.call(c,p)},stop(p=0){c.stop.call(c,p)}},d=()=>c.connect(l),f=()=>c.disconnect(l);return s(r,c),n(es(h,l),d,f)},yf=(s,e)=>(t,n)=>{const r=t.createConvolver();if(Re(r,n),n.disableNormalization===r.normalize&&(r.normalize=!n.disableNormalization),be(r,n,"buffer"),n.channelCount>2||(e(r,"channelCount",i=>()=>i.call(r),i=>o=>{if(o>2)throw s();return i.call(r,o)}),n.channelCountMode==="max"))throw s();return e(r,"channelCountMode",i=>()=>i.call(r),i=>o=>{if(o==="max")throw s();return i.call(r,o)}),r},gc=(s,e)=>{const t=s.createDelay(e.maxDelayTime);return Re(t,e),Te(t,e,"delayTime"),t},wf=s=>(e,t)=>{const n=e.createDynamicsCompressor();if(Re(n,t),t.channelCount>2||t.channelCountMode==="max")throw s();return Te(n,t,"attack"),Te(n,t,"knee"),Te(n,t,"ratio"),Te(n,t,"release"),Te(n,t,"threshold"),n},tt=(s,e)=>{const t=s.createGain();return Re(t,e),Te(t,e,"gain"),t},bf=s=>(e,t,n)=>{if(e.createIIRFilter===void 0)return s(e,t,n);const r=e.createIIRFilter(n.feedforward,n.feedback);return Re(r,n),r};function xf(s,e){const t=e[0]*e[0]+e[1]*e[1];return[(s[0]*e[0]+s[1]*e[1])/t,(s[1]*e[0]-s[0]*e[1])/t]}function Sf(s,e){return[s[0]*e[0]-s[1]*e[1],s[0]*e[1]+s[1]*e[0]]}function ua(s,e){let t=[0,0];for(let n=s.length-1;n>=0;n-=1)t=Sf(t,e),t[0]+=s[n];return t}const Tf=(s,e,t,n)=>(r,i,{channelCount:o,channelCountMode:a,channelInterpretation:c,feedback:l,feedforward:u})=>{const h=pc(i,r.sampleRate),d=l instanceof Float64Array?l:new Float64Array(l),f=u instanceof Float64Array?u:new Float64Array(u),p=d.length,m=f.length,g=Math.min(p,m);if(p===0||p>20)throw n();if(d[0]===0)throw e();if(m===0||m>20)throw n();if(f[0]===0)throw e();if(d[0]!==1){for(let x=0;x<m;x+=1)f[x]/=d[0];for(let x=1;x<p;x+=1)d[x]/=d[0]}const _=t(r,h,o,o);_.channelCount=o,_.channelCountMode=a,_.channelInterpretation=c;const C=32,b=[],S=[],y=[];for(let x=0;x<o;x+=1){b.push(0);const A=new Float32Array(C),O=new Float32Array(C);A.fill(0),O.fill(0),S.push(A),y.push(O)}_.onaudioprocess=x=>{const A=x.inputBuffer,O=x.outputBuffer,M=A.numberOfChannels;for(let E=0;E<M;E+=1){const P=A.getChannelData(E),N=O.getChannelData(E);b[E]=fc(d,p,f,m,g,S[E],y[E],b[E],C,P,N)}};const T=r.sampleRate/2;return es({get bufferSize(){return h},get channelCount(){return _.channelCount},set channelCount(x){_.channelCount=x},get channelCountMode(){return _.channelCountMode},set channelCountMode(x){_.channelCountMode=x},get channelInterpretation(){return _.channelInterpretation},set channelInterpretation(x){_.channelInterpretation=x},get context(){return _.context},get inputs(){return[_]},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},addEventListener(...x){return _.addEventListener(x[0],x[1],x[2])},dispatchEvent(...x){return _.dispatchEvent(x[0])},getFrequencyResponse(x,A,O){if(x.length!==A.length||A.length!==O.length)throw s();const M=x.length;for(let E=0;E<M;E+=1){const P=-Math.PI*(x[E]/T),N=[Math.cos(P),Math.sin(P)],F=ua(f,N),I=ua(d,N),R=xf(F,I);A[E]=Math.sqrt(R[0]*R[0]+R[1]*R[1]),O[E]=Math.atan2(R[1],R[0])}},removeEventListener(...x){return _.removeEventListener(x[0],x[1],x[2])}},_)},Cf=(s,e)=>s.createMediaElementSource(e.mediaElement),kf=(s,e)=>{const t=s.createMediaStreamDestination();return Re(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},Af=(s,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const n=t.slice(0,1),r=s.createMediaStreamSource(new MediaStream(n));return Object.defineProperty(r,"mediaStream",{value:e}),r},Ef=(s,e)=>(t,{mediaStreamTrack:n})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(n);const r=new MediaStream([n]),i=t.createMediaStreamSource(r);if(n.kind!=="audio")throw s();if(e(t))throw new TypeError;return i},Of=s=>s===null?null:s.hasOwnProperty("OfflineAudioContext")?s.OfflineAudioContext:s.hasOwnProperty("webkitOfflineAudioContext")?s.webkitOfflineAudioContext:null,Pf=(s,e,t,n,r,i)=>(o,a)=>{const c=o.createOscillator();return Re(c,a),Te(c,a,"detune"),Te(c,a,"frequency"),a.periodicWave!==void 0?c.setPeriodicWave(a.periodicWave):be(c,a,"type"),e(t,()=>t(o))||to(c),e(n,()=>n(o))||i(c,o),e(r,()=>r(o))||no(c),s(o,c),c},Mf=s=>(e,t)=>{const n=e.createPanner();return n.orientationX===void 0?s(e,t):(Re(n,t),Te(n,t,"orientationX"),Te(n,t,"orientationY"),Te(n,t,"orientationZ"),Te(n,t,"positionX"),Te(n,t,"positionY"),Te(n,t,"positionZ"),be(n,t,"coneInnerAngle"),be(n,t,"coneOuterAngle"),be(n,t,"coneOuterGain"),be(n,t,"distanceModel"),be(n,t,"maxDistance"),be(n,t,"panningModel"),be(n,t,"refDistance"),be(n,t,"rolloffFactor"),n)},Df=(s,e,t,n,r,i,o,a,c,l)=>(u,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:f,distanceModel:p,maxDistance:m,orientationX:g,orientationY:_,orientationZ:C,panningModel:b,positionX:S,positionY:y,positionZ:T,refDistance:w,rolloffFactor:x,...A})=>{const O=u.createPanner();if(A.channelCount>2||A.channelCountMode==="max")throw o();Re(O,A);const M={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},E=t(u,{...M,channelInterpretation:"speakers",numberOfInputs:6}),P=n(u,{...A,gain:1}),N=n(u,{...M,gain:1}),F=n(u,{...M,gain:0}),I=n(u,{...M,gain:0}),R=n(u,{...M,gain:0}),z=n(u,{...M,gain:0}),L=n(u,{...M,gain:0}),G=r(u,256,6,1),J=i(u,{...M,curve:new Float32Array([1,1]),oversample:"none"});let oe=[g,_,C],Oe=[S,y,T];const Ie=new Float32Array(1);G.onaudioprocess=({inputBuffer:V})=>{const ut=[c(V,Ie,0),c(V,Ie,1),c(V,Ie,2)];ut.some((nt,Rt)=>nt!==oe[Rt])&&(O.setOrientation(...ut),oe=ut);const ht=[c(V,Ie,3),c(V,Ie,4),c(V,Ie,5)];ht.some((nt,Rt)=>nt!==Oe[Rt])&&(O.setPosition(...ht),Oe=ht)},Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(L.gain,"defaultValue",{get:()=>0});const ee={get bufferSize(){},get channelCount(){return O.channelCount},set channelCount(V){if(V>2)throw o();P.channelCount=V,O.channelCount=V},get channelCountMode(){return O.channelCountMode},set channelCountMode(V){if(V==="max")throw o();P.channelCountMode=V,O.channelCountMode=V},get channelInterpretation(){return O.channelInterpretation},set channelInterpretation(V){P.channelInterpretation=V,O.channelInterpretation=V},get coneInnerAngle(){return O.coneInnerAngle},set coneInnerAngle(V){O.coneInnerAngle=V},get coneOuterAngle(){return O.coneOuterAngle},set coneOuterAngle(V){O.coneOuterAngle=V},get coneOuterGain(){return O.coneOuterGain},set coneOuterGain(V){if(V<0||V>1)throw e();O.coneOuterGain=V},get context(){return O.context},get distanceModel(){return O.distanceModel},set distanceModel(V){O.distanceModel=V},get inputs(){return[P]},get maxDistance(){return O.maxDistance},set maxDistance(V){if(V<0)throw new RangeError;O.maxDistance=V},get numberOfInputs(){return O.numberOfInputs},get numberOfOutputs(){return O.numberOfOutputs},get orientationX(){return N.gain},get orientationY(){return F.gain},get orientationZ(){return I.gain},get panningModel(){return O.panningModel},set panningModel(V){O.panningModel=V},get positionX(){return R.gain},get positionY(){return z.gain},get positionZ(){return L.gain},get refDistance(){return O.refDistance},set refDistance(V){if(V<0)throw new RangeError;O.refDistance=V},get rolloffFactor(){return O.rolloffFactor},set rolloffFactor(V){if(V<0)throw new RangeError;O.rolloffFactor=V},addEventListener(...V){return P.addEventListener(V[0],V[1],V[2])},dispatchEvent(...V){return P.dispatchEvent(V[0])},removeEventListener(...V){return P.removeEventListener(V[0],V[1],V[2])}};h!==ee.coneInnerAngle&&(ee.coneInnerAngle=h),d!==ee.coneOuterAngle&&(ee.coneOuterAngle=d),f!==ee.coneOuterGain&&(ee.coneOuterGain=f),p!==ee.distanceModel&&(ee.distanceModel=p),m!==ee.maxDistance&&(ee.maxDistance=m),g!==ee.orientationX.value&&(ee.orientationX.value=g),_!==ee.orientationY.value&&(ee.orientationY.value=_),C!==ee.orientationZ.value&&(ee.orientationZ.value=C),b!==ee.panningModel&&(ee.panningModel=b),S!==ee.positionX.value&&(ee.positionX.value=S),y!==ee.positionY.value&&(ee.positionY.value=y),T!==ee.positionZ.value&&(ee.positionZ.value=T),w!==ee.refDistance&&(ee.refDistance=w),x!==ee.rolloffFactor&&(ee.rolloffFactor=x),(oe[0]!==1||oe[1]!==0||oe[2]!==0)&&O.setOrientation(...oe),(Oe[0]!==0||Oe[1]!==0||Oe[2]!==0)&&O.setPosition(...Oe);const ue=()=>{P.connect(O),s(P,J,0,0),J.connect(N).connect(E,0,0),J.connect(F).connect(E,0,1),J.connect(I).connect(E,0,2),J.connect(R).connect(E,0,3),J.connect(z).connect(E,0,4),J.connect(L).connect(E,0,5),E.connect(G).connect(u.destination)},Ce=()=>{P.disconnect(O),a(P,J,0,0),J.disconnect(N),N.disconnect(E),J.disconnect(F),F.disconnect(E),J.disconnect(I),I.disconnect(E),J.disconnect(R),R.disconnect(E),J.disconnect(z),z.disconnect(E),J.disconnect(L),L.disconnect(E),E.disconnect(G),G.disconnect(u.destination)};return l(es(ee,O),ue,Ce)},Nf=s=>(e,{disableNormalization:t,imag:n,real:r})=>{const i=n instanceof Float32Array?n:new Float32Array(n),o=r instanceof Float32Array?r:new Float32Array(r),a=e.createPeriodicWave(o,i,{disableNormalization:t});if(Array.from(n).length<2)throw s();return a},Ps=(s,e,t,n)=>s.createScriptProcessor(e,t,n),Rf=(s,e)=>(t,n)=>{const r=n.channelCountMode;if(r==="clamped-max")throw e();if(t.createStereoPanner===void 0)return s(t,n);const i=t.createStereoPanner();return Re(i,n),Te(i,n,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>r,set:o=>{if(o!==r)throw e()}}),i},If=(s,e,t,n,r,i)=>{const a=new Float32Array([1,1]),c=Math.PI/2,l={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...l,oversample:"none"},h=(p,m,g,_)=>{const C=new Float32Array(16385),b=new Float32Array(16385);for(let A=0;A<16385;A+=1){const O=A/16384*c;C[A]=Math.cos(O),b[A]=Math.sin(O)}const S=t(p,{...l,gain:0}),y=n(p,{...u,curve:C}),T=n(p,{...u,curve:a}),w=t(p,{...l,gain:0}),x=n(p,{...u,curve:b});return{connectGraph(){m.connect(S),m.connect(T.inputs===void 0?T:T.inputs[0]),m.connect(w),T.connect(g),g.connect(y.inputs===void 0?y:y.inputs[0]),g.connect(x.inputs===void 0?x:x.inputs[0]),y.connect(S.gain),x.connect(w.gain),S.connect(_,0,0),w.connect(_,0,1)},disconnectGraph(){m.disconnect(S),m.disconnect(T.inputs===void 0?T:T.inputs[0]),m.disconnect(w),T.disconnect(g),g.disconnect(y.inputs===void 0?y:y.inputs[0]),g.disconnect(x.inputs===void 0?x:x.inputs[0]),y.disconnect(S.gain),x.disconnect(w.gain),S.disconnect(_,0,0),w.disconnect(_,0,1)}}},d=(p,m,g,_)=>{const C=new Float32Array(16385),b=new Float32Array(16385),S=new Float32Array(16385),y=new Float32Array(16385),T=Math.floor(16385/2);for(let R=0;R<16385;R+=1)if(R>T){const z=(R-T)/(16384-T)*c;C[R]=Math.cos(z),b[R]=Math.sin(z),S[R]=0,y[R]=1}else{const z=R/(16384-T)*c;C[R]=1,b[R]=0,S[R]=Math.cos(z),y[R]=Math.sin(z)}const w=e(p,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),x=t(p,{...l,gain:0}),A=n(p,{...u,curve:C}),O=t(p,{...l,gain:0}),M=n(p,{...u,curve:b}),E=n(p,{...u,curve:a}),P=t(p,{...l,gain:0}),N=n(p,{...u,curve:S}),F=t(p,{...l,gain:0}),I=n(p,{...u,curve:y});return{connectGraph(){m.connect(w),m.connect(E.inputs===void 0?E:E.inputs[0]),w.connect(x,0),w.connect(O,0),w.connect(P,1),w.connect(F,1),E.connect(g),g.connect(A.inputs===void 0?A:A.inputs[0]),g.connect(M.inputs===void 0?M:M.inputs[0]),g.connect(N.inputs===void 0?N:N.inputs[0]),g.connect(I.inputs===void 0?I:I.inputs[0]),A.connect(x.gain),M.connect(O.gain),N.connect(P.gain),I.connect(F.gain),x.connect(_,0,0),P.connect(_,0,0),O.connect(_,0,1),F.connect(_,0,1)},disconnectGraph(){m.disconnect(w),m.disconnect(E.inputs===void 0?E:E.inputs[0]),w.disconnect(x,0),w.disconnect(O,0),w.disconnect(P,1),w.disconnect(F,1),E.disconnect(g),g.disconnect(A.inputs===void 0?A:A.inputs[0]),g.disconnect(M.inputs===void 0?M:M.inputs[0]),g.disconnect(N.inputs===void 0?N:N.inputs[0]),g.disconnect(I.inputs===void 0?I:I.inputs[0]),A.disconnect(x.gain),M.disconnect(O.gain),N.disconnect(P.gain),I.disconnect(F.gain),x.disconnect(_,0,0),P.disconnect(_,0,0),O.disconnect(_,0,1),F.disconnect(_,0,1)}}},f=(p,m,g,_,C)=>{if(m===1)return h(p,g,_,C);if(m===2)return d(p,g,_,C);throw r()};return(p,{channelCount:m,channelCountMode:g,pan:_,...C})=>{if(g==="max")throw r();const b=s(p,{...C,channelCount:1,channelCountMode:g,numberOfInputs:2}),S=t(p,{...C,channelCount:m,channelCountMode:g,gain:1}),y=t(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:_});let{connectGraph:T,disconnectGraph:w}=f(p,m,S,y,b);Object.defineProperty(y.gain,"defaultValue",{get:()=>0}),Object.defineProperty(y.gain,"maxValue",{get:()=>1}),Object.defineProperty(y.gain,"minValue",{get:()=>-1});const x={get bufferSize(){},get channelCount(){return S.channelCount},set channelCount(E){S.channelCount!==E&&(A&&w(),{connectGraph:T,disconnectGraph:w}=f(p,E,S,y,b),A&&T()),S.channelCount=E},get channelCountMode(){return S.channelCountMode},set channelCountMode(E){if(E==="clamped-max"||E==="max")throw r();S.channelCountMode=E},get channelInterpretation(){return S.channelInterpretation},set channelInterpretation(E){S.channelInterpretation=E},get context(){return S.context},get inputs(){return[S]},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},get pan(){return y.gain},addEventListener(...E){return S.addEventListener(E[0],E[1],E[2])},dispatchEvent(...E){return S.dispatchEvent(E[0])},removeEventListener(...E){return S.removeEventListener(E[0],E[1],E[2])}};let A=!1;const O=()=>{T(),A=!0},M=()=>{w(),A=!1};return i(es(x,b),O,M)}},jf=(s,e,t,n,r,i,o)=>(a,c)=>{const l=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return t(a,c);Re(l,c);const u=c.curve===null||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(u!==null&&u.length<2)throw e();be(l,{curve:u},"curve"),be(l,c,"oversample");let h=null,d=!1;return o(l,"curve",m=>()=>m.call(l),m=>g=>(m.call(l,g),d&&(n(g)&&h===null?h=s(a,l):!n(g)&&h!==null&&(h(),h=null)),g)),r(l,()=>{d=!0,n(l.curve)&&(h=s(a,l))},()=>{d=!1,h!==null&&(h(),h=null)})},Bf=(s,e,t,n,r)=>(i,{curve:o,oversample:a,...c})=>{const l=i.createWaveShaper(),u=i.createWaveShaper();Re(l,c),Re(u,c);const h=t(i,{...c,gain:1}),d=t(i,{...c,gain:-1}),f=t(i,{...c,gain:1}),p=t(i,{...c,gain:-1});let m=null,g=!1,_=null;const C={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(y){h.channelCount=y,d.channelCount=y,l.channelCount=y,f.channelCount=y,u.channelCount=y,p.channelCount=y},get channelCountMode(){return l.channelCountMode},set channelCountMode(y){h.channelCountMode=y,d.channelCountMode=y,l.channelCountMode=y,f.channelCountMode=y,u.channelCountMode=y,p.channelCountMode=y},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(y){h.channelInterpretation=y,d.channelInterpretation=y,l.channelInterpretation=y,f.channelInterpretation=y,u.channelInterpretation=y,p.channelInterpretation=y},get context(){return l.context},get curve(){return _},set curve(y){if(y!==null&&y.length<2)throw e();if(y===null)l.curve=y,u.curve=y;else{const T=y.length,w=new Float32Array(T+2-T%2),x=new Float32Array(T+2-T%2);w[0]=y[0],x[0]=-y[T-1];const A=Math.ceil((T+1)/2),O=(T+1)/2-1;for(let M=1;M<A;M+=1){const E=M/A*O,P=Math.floor(E),N=Math.ceil(E);w[M]=P===N?y[P]:(1-(E-P))*y[P]+(1-(N-E))*y[N],x[M]=P===N?-y[T-1-P]:-((1-(E-P))*y[T-1-P])-(1-(N-E))*y[T-1-N]}w[A]=T%2===1?y[A-1]:(y[A-2]+y[A-1])/2,l.curve=w,u.curve=x}_=y,g&&(n(_)&&m===null?m=s(i,h):m!==null&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get oversample(){return l.oversample},set oversample(y){l.oversample=y,u.oversample=y},addEventListener(...y){return h.addEventListener(y[0],y[1],y[2])},dispatchEvent(...y){return h.dispatchEvent(y[0])},removeEventListener(...y){return h.removeEventListener(y[0],y[1],y[2])}};o!==null&&(C.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==C.oversample&&(C.oversample=a);const b=()=>{h.connect(l).connect(f),h.connect(d).connect(u).connect(p).connect(f),g=!0,n(_)&&(m=s(i,h))},S=()=>{h.disconnect(l),l.disconnect(f),h.disconnect(d),d.disconnect(u),u.disconnect(p),p.disconnect(f),g=!1,m!==null&&(m(),m=null)};return r(es(C,f),b,S)},Ke=()=>new DOMException("","NotSupportedError"),Ff={numberOfChannels:1},Lf=(s,e,t,n,r)=>class extends s{constructor(o,a,c){let l;if(typeof o=="number"&&a!==void 0&&c!==void 0)l={length:a,numberOfChannels:o,sampleRate:c};else if(typeof o=="object")l=o;else throw new Error("The given parameters are not valid.");const{length:u,numberOfChannels:h,sampleRate:d}={...Ff,...l},f=n(h,u,d);e(ws,()=>ws(f))||f.addEventListener("statechange",(()=>{let p=0;const m=g=>{this._state==="running"&&(p>0?(f.removeEventListener("statechange",m),g.stopImmediatePropagation(),this._waitForThePromiseToSettle(g)):p+=1)};return m})()),super(f,h),this._length=u,this._nativeOfflineAudioContext=f,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,ac(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},Vf={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},$f=(s,e,t,n,r,i,o)=>class extends s{constructor(c,l){const u=r(c),h={...Vf,...l},d=t(u,h),f=i(u),p=f?n():null,m=c.sampleRate/2;super(c,!1,d,p),this._detune=e(this,f,d.detune,153600,-153600),this._frequency=e(this,f,d.frequency,m,-m),this._nativeOscillatorNode=d,this._onended=null,this._oscillatorNodeRenderer=p,this._oscillatorNodeRenderer!==null&&h.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(c){const l=typeof c=="function"?o(this,c):null;this._nativeOscillatorNode.onended=l;const u=this._nativeOscillatorNode.onended;this._onended=u!==null&&u===l?c:u}get type(){return this._nativeOscillatorNode.type}set type(c){this._nativeOscillatorNode.type=c,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(c){this._nativeOscillatorNode.setPeriodicWave(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=c)}start(c=0){if(this._nativeOscillatorNode.start(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=c),this.context.state!=="closed"){Kn(this);const l=()=>{this._nativeOscillatorNode.removeEventListener("ended",l),Lt(this)&&ks(this)};this._nativeOscillatorNode.addEventListener("ended",l)}}stop(c=0){this._nativeOscillatorNode.stop(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=c)}},qf=(s,e,t,n,r)=>()=>{const i=new WeakMap;let o=null,a=null,c=null;const l=async(u,h)=>{let d=t(u);const f=qe(d,h);if(!f){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:o===null?void 0:o,type:d.type};d=e(h,p),a!==null&&d.start(a),c!==null&&d.stop(c)}return i.set(h,d),f?(await s(h,u.detune,d.detune),await s(h,u.frequency,d.frequency)):(await n(h,u.detune,d.detune),await n(h,u.frequency,d.frequency)),await r(u,h,d),d};return{set periodicWave(u){o=u},set start(u){a=u},set stop(u){c=u},render(u,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):l(u,h)}}},Uf={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Wf=(s,e,t,n,r,i,o)=>class extends s{constructor(c,l){const u=r(c),h={...Uf,...l},d=t(u,h),f=i(u),p=f?n():null;super(c,!1,d,p),this._nativePannerNode=d,this._orientationX=e(this,f,d.orientationX,ze,Ye),this._orientationY=e(this,f,d.orientationY,ze,Ye),this._orientationZ=e(this,f,d.orientationZ,ze,Ye),this._positionX=e(this,f,d.positionX,ze,Ye),this._positionY=e(this,f,d.positionY,ze,Ye),this._positionZ=e(this,f,d.positionZ,ze,Ye),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(c){this._nativePannerNode.coneInnerAngle=c}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(c){this._nativePannerNode.coneOuterAngle=c}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(c){this._nativePannerNode.coneOuterGain=c}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(c){this._nativePannerNode.distanceModel=c}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(c){this._nativePannerNode.maxDistance=c}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(c){this._nativePannerNode.panningModel=c}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(c){this._nativePannerNode.refDistance=c}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(c){this._nativePannerNode.rolloffFactor=c}},Gf=(s,e,t,n,r,i,o,a,c,l)=>()=>{const u=new WeakMap;let h=null;const d=async(f,p)=>{let m=null,g=i(f);const _={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation},C={..._,coneInnerAngle:g.coneInnerAngle,coneOuterAngle:g.coneOuterAngle,coneOuterGain:g.coneOuterGain,distanceModel:g.distanceModel,maxDistance:g.maxDistance,panningModel:g.panningModel,refDistance:g.refDistance,rolloffFactor:g.rolloffFactor},b=qe(g,p);if("bufferSize"in g)m=n(p,{..._,gain:1});else if(!b){const S={...C,orientationX:g.orientationX.value,orientationY:g.orientationY.value,orientationZ:g.orientationZ.value,positionX:g.positionX.value,positionY:g.positionY.value,positionZ:g.positionZ.value};g=r(p,S)}if(u.set(p,m===null?g:m),m!==null){if(h===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const M=new o(6,f.context.length,p.sampleRate),E=e(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});E.connect(M.destination),h=(async()=>{const P=await Promise.all([f.orientationX,f.orientationY,f.orientationZ,f.positionX,f.positionY,f.positionZ].map(async(N,F)=>{const I=t(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:F===0?1:0});return await a(M,N,I.offset),I}));for(let N=0;N<6;N+=1)P[N].connect(E,0,N),P[N].start(0);return l(M)})()}const S=await h,y=n(p,{..._,gain:1});await c(f,p,y);const T=[];for(let M=0;M<S.numberOfChannels;M+=1)T.push(S.getChannelData(M));let w=[T[0][0],T[1][0],T[2][0]],x=[T[3][0],T[4][0],T[5][0]],A=n(p,{..._,gain:1}),O=r(p,{...C,orientationX:w[0],orientationY:w[1],orientationZ:w[2],positionX:x[0],positionY:x[1],positionZ:x[2]});y.connect(A).connect(O.inputs[0]),O.connect(m);for(let M=128;M<S.length;M+=128){const E=[T[0][M],T[1][M],T[2][M]],P=[T[3][M],T[4][M],T[5][M]];if(E.some((N,F)=>N!==w[F])||P.some((N,F)=>N!==x[F])){w=E,x=P;const N=M/p.sampleRate;A.gain.setValueAtTime(0,N),A=n(p,{..._,gain:0}),O=r(p,{...C,orientationX:w[0],orientationY:w[1],orientationZ:w[2],positionX:x[0],positionY:x[1],positionZ:x[2]}),A.gain.setValueAtTime(1,N),y.connect(A).connect(O.inputs[0]),O.connect(m)}}return m}return b?(await s(p,f.orientationX,g.orientationX),await s(p,f.orientationY,g.orientationY),await s(p,f.orientationZ,g.orientationZ),await s(p,f.positionX,g.positionX),await s(p,f.positionY,g.positionY),await s(p,f.positionZ,g.positionZ)):(await a(p,f.orientationX,g.orientationX),await a(p,f.orientationY,g.orientationY),await a(p,f.orientationZ,g.orientationZ),await a(p,f.positionX,g.positionX),await a(p,f.positionY,g.positionY),await a(p,f.positionZ,g.positionZ)),Qn(g)?await c(f,p,g.inputs[0]):await c(f,p,g),g};return{render(f,p){const m=u.get(p);return m!==void 0?Promise.resolve(m):d(f,p)}}},zf={disableNormalization:!1},Hf=(s,e,t,n)=>class _c{constructor(i,o){const a=e(i),c=n({...zf,...o}),l=s(a,c);return t.add(l),l}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===_c.prototype||t.has(i)}},Jf=(s,e)=>(t,n,r)=>(s(n).replay(r),e(n,t,r)),Kf=(s,e,t)=>async(n,r,i)=>{const o=s(n);await Promise.all(o.activeInputs.map((a,c)=>Array.from(a).map(async([l,u])=>{const d=await e(l).render(l,r),f=n.context.destination;!t(l)&&(n!==f||!t(n))&&d.connect(i,u,c)})).reduce((a,c)=>[...a,...c],[]))},Zf=(s,e,t)=>async(n,r,i)=>{const o=e(n);await Promise.all(Array.from(o.activeInputs).map(async([a,c])=>{const u=await s(a).render(a,r);t(a)||u.connect(i,c)}))},Xf=(s,e,t,n)=>r=>s(ws,()=>ws(r))?Promise.resolve(s(n,n)).then(i=>{if(!i){const o=t(r,512,0,1);r.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>r.currentTime,o.connect(r.destination)}return r.startRendering()}):new Promise(i=>{const o=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(r.destination),r.startRendering()}),Yf=s=>(e,t)=>{s.set(e,t)},Qf=s=>(e,t)=>s.set(e,t),e1=(s,e,t,n,r,i,o,a)=>(c,l)=>t(c).render(c,l).then(()=>Promise.all(Array.from(n(l)).map(u=>t(u).render(u,l)))).then(()=>r(l)).then(u=>(typeof u.copyFromChannel!="function"?(o(u),Yi(u)):e(i,()=>i(u))||a(u),s.add(u),u)),t1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},n1=(s,e,t,n,r,i)=>class extends s{constructor(a,c){const l=r(a),u={...t1,...c},h=t(l,u),d=i(l),f=d?n():null;super(a,!1,h,f),this._pan=e(this,d,h.pan)}get pan(){return this._pan}},s1=(s,e,t,n,r)=>()=>{const i=new WeakMap,o=async(a,c)=>{let l=t(a);const u=qe(l,c);if(!u){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=e(c,h)}return i.set(c,l),u?await s(c,a.pan,l.pan):await n(c,a.pan,l.pan),Qn(l)?await r(a,c,l.inputs[0]):await r(a,c,l),l};return{render(a,c){const l=i.get(c);return l!==void 0?Promise.resolve(l):o(a,c)}}},r1=s=>()=>{if(s===null)return!1;try{new s({length:1,sampleRate:44100})}catch{return!1}return!0},i1=(s,e)=>async()=>{if(s===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),n=new e(1,128,44100),r=URL.createObjectURL(t);let i=!1,o=!1;try{await n.audioWorklet.addModule(r);const a=new s(n,"a",{numberOfOutputs:0}),c=n.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,c.connect(a),c.start(0),await n.startRendering(),await new Promise(l=>setTimeout(l))}catch{}finally{URL.revokeObjectURL(r)}return i&&!o},o1=(s,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),n=s(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(r=>{t.oncomplete=()=>{n.disconnect(),r(t.currentTime!==0)},t.startRendering()})},a1=()=>new DOMException("","UnknownError"),c1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},l1=(s,e,t,n,r,i,o)=>class extends s{constructor(c,l){const u=r(c),h={...c1,...l},d=t(u,h),p=i(u)?n():null;super(c,!0,d,p),this._isCurveNullified=!1,this._nativeWaveShaperNode=d,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(c){if(c===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(c.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=c}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(c){this._nativeWaveShaperNode.oversample=c}},u1=(s,e,t)=>()=>{const n=new WeakMap,r=async(i,o)=>{let a=e(i);if(!qe(a,o)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=s(o,l)}return n.set(o,a),Qn(a)?await t(i,o,a.inputs[0]):await t(i,o,a),a};return{render(i,o){const a=n.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},h1=()=>typeof window>"u"?null:window,d1=(s,e)=>t=>{t.copyFromChannel=(n,r,i=0)=>{const o=s(i),a=s(r);if(a>=t.numberOfChannels)throw e();const c=t.length,l=t.getChannelData(a),u=n.length;for(let h=o<0?-o:0;h+o<c&&h<u;h+=1)n[h]=l[h+o]},t.copyToChannel=(n,r,i=0)=>{const o=s(i),a=s(r);if(a>=t.numberOfChannels)throw e();const c=t.length,l=t.getChannelData(a),u=n.length;for(let h=o<0?-o:0;h+o<c&&h<u;h+=1)l[h+o]=n[h]}},f1=s=>e=>{e.copyFromChannel=(t=>(n,r,i=0)=>{const o=s(i),a=s(r);if(o<e.length)return t.call(e,n,a,o)})(e.copyFromChannel),e.copyToChannel=(t=>(n,r,i=0)=>{const o=s(i),a=s(r);if(o<e.length)return t.call(e,n,a,o)})(e.copyToChannel)},p1=s=>(e,t)=>{const n=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=n),s(e,"buffer",r=>()=>{const i=r.call(e);return i===n?null:i},r=>i=>r.call(e,i===null?n:i))},m1=(s,e)=>(t,n)=>{n.channelCount=1,n.channelCountMode="explicit",Object.defineProperty(n,"channelCount",{get:()=>1,set:()=>{throw s()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:()=>{throw s()}});const r=t.createBufferSource();e(n,()=>{const a=n.numberOfInputs;for(let c=0;c<a;c+=1)r.connect(n,0,c)},()=>r.disconnect(n))},vc=(s,e,t)=>s.copyFromChannel===void 0?s.getChannelData(t)[0]:(s.copyFromChannel(e,t),e[0]),yc=s=>{if(s===null)return!1;const e=s.length;return e%2!==0?s[Math.floor(e/2)]!==0:s[e/2-1]+s[e/2]!==0},Ms=(s,e,t,n)=>{let r=s;for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:i,set:o}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(s,e,{get:t(i),set:n(o)})},g1=s=>({...s,outputChannelCount:s.outputChannelCount!==void 0?s.outputChannelCount:s.numberOfInputs===1&&s.numberOfOutputs===1?[s.channelCount]:Array.from({length:s.numberOfOutputs},()=>1)}),_1=s=>({...s,channelCount:s.numberOfOutputs}),v1=s=>{const{imag:e,real:t}=s;return e===void 0?t===void 0?{...s,imag:[0,0],real:[0,0]}:{...s,imag:Array.from(t,()=>0),real:t}:t===void 0?{...s,imag:e,real:Array.from(e,()=>0)}:{...s,imag:e,real:t}},wc=(s,e,t)=>{try{s.setValueAtTime(e,t)}catch(n){if(n.code!==9)throw n;wc(s,e,t+1e-7)}},y1=s=>{const e=s.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},w1=s=>{const e=s.createBufferSource(),t=s.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},b1=s=>{const e=s.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},so=s=>{const e=s.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},bc=s=>{const e=s.createBuffer(1,1,44100),t=s.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},ro=s=>{const e=s.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},x1=s=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(s)}finally{e.close(),t.close()}},S1=s=>{s.start=(e=>(t=0,n=0,r)=>{const i=s.buffer,o=i===null?n:Math.min(i.duration,n);i!==null&&o>i.duration-.5/s.context.sampleRate?e.call(s,t,0,0):e.call(s,t,o,r)})(s.start)},xc=(s,e)=>{const t=e.createGain();s.connect(t);const n=(r=>()=>{r.call(s,t),s.removeEventListener("ended",n)})(s.disconnect);s.addEventListener("ended",n),es(s,t),s.stop=(r=>{let i=!1;return(o=0)=>{if(i)try{r.call(s,o)}catch{t.gain.setValueAtTime(0,o)}else r.call(s,o),i=!0}})(s.stop)},ts=(s,e)=>t=>{const n={value:s};return Object.defineProperties(t,{currentTarget:n,target:n}),typeof e=="function"?e.call(s,t):e.handleEvent.call(s,t)},T1=Uu(Cn),C1=Ku(Cn),k1=ad(Or),Sc=new WeakMap,A1=Cd(Sc),St=Bh(new Map,new WeakMap),Pt=h1(),Tc=tf(St,Mt),io=Td(Je),$e=Kf(Je,io,bn),E1=eh(Tc,we,$e),ve=Ed(Er),Wt=Of(Pt),de=Gd(Wt),Cc=new WeakMap,kc=_d(ts),Ds=of(Pt),oo=$d(Ds),ao=qd(Pt),Ac=Ud(Pt),bs=cf(Pt),Ee=Ch(Wu(ec),Ju(T1,C1,pr,k1,mr,Je,A1,Cs,we,Cn,Lt,bn,or),St,jd(Oi,mr,Je,we,ys,Lt),Mt,Pr,Ke,sd(pr,Oi,Je,we,ys,ve,Lt,de),ud(Cc,Je,wt),kc,ve,oo,ao,Ac,de,bs),O1=Qu(Ee,E1,Mt,Tc,ve,de),co=new WeakSet,ha=nf(Pt),Ec=Zh(new Uint32Array(1)),lo=d1(Ec,Mt),uo=f1(Ec),Oc=nh(co,St,Ke,ha,Wt,r1(ha),lo,uo),Mr=Zu(tt),Pc=Zf(io,As,bn),Dt=Wh(Pc),ns=rf(Mr,St,y1,w1,b1,so,bc,ro,S1,p1(Ms),xc),Nt=Jf(kd(As),Pc),P1=ih(Dt,ns,we,Nt,$e),Tt=kh(Gu(tc),Cc,Xi,Ah,Bu,Fu,Lu,Vu,$u,ki,Ya,Ds,wc),M1=rh(Ee,P1,Tt,Le,ns,ve,de,ts),D1=ph(Ee,mh,Mt,Le,af(tt,Ms),ve,de,$e),N1=jh(Dt,mc,we,Nt,$e),kn=Qf(Sc),R1=Ih(Ee,Tt,N1,Pr,mc,ve,de,kn),un=Qd(Cn,ao),I1=m1(Le,un),hn=mf(Ds,I1),j1=Vh(hn,we,$e),B1=Lh(Ee,j1,hn,ve,de),F1=Uh(Os,we,$e),L1=qh(Ee,F1,Os,ve,de,_1),V1=vf(Mr,ns,tt,un),ss=_f(Mr,St,V1,so,ro),$1=Kh(Dt,ss,we,Nt,$e),q1=Jh(Ee,Tt,$1,ss,ve,de,ts),Mc=yf(Ke,Ms),U1=Qh(Mc,we,$e),W1=Yh(Ee,U1,Mc,ve,de,kn),G1=od(Dt,gc,we,Nt,$e),z1=id(Ee,Tt,G1,gc,ve,de,kn),Dc=wf(Ke),H1=pd(Dt,Dc,we,Nt,$e),J1=fd(Ee,Tt,H1,Dc,Ke,ve,de,kn),K1=xd(Dt,tt,we,Nt,$e),Z1=bd(Ee,Tt,K1,tt,ve,de),X1=Tf(Pr,Le,Ps,Ke),Dr=Xf(St,tt,Ps,o1(tt,Wt)),Y1=Id(ns,we,Wt,$e,Dr),Q1=bf(X1),e2=Nd(Ee,Q1,Y1,ve,de,kn),t2=gh(Tt,hn,ss,Ps,Ke,vc,de,Ms),Nc=new WeakMap,n2=Yd(D1,t2,kc,de,Nc,ts),Rc=Pf(Mr,St,so,bc,ro,xc),s2=qf(Dt,Rc,we,Nt,$e),r2=$f(Ee,Tt,Rc,s2,ve,de,ts),Ic=zh(ns),i2=Bf(Ic,Le,tt,yc,un),Nr=jf(Ic,Le,i2,yc,un,Ds,Ms),o2=Df(pr,Le,hn,tt,Ps,Nr,Ke,mr,vc,un),jc=Mf(o2),a2=Gf(Dt,hn,ss,tt,jc,we,Wt,Nt,$e,Dr),c2=Wf(Ee,Tt,jc,a2,ve,de,kn),l2=Nf(Mt),u2=Hf(l2,ve,new WeakSet,v1),h2=If(hn,Os,tt,Nr,Ke,un),Bc=Rf(h2,Ke),d2=s1(Dt,Bc,we,Nt,$e),f2=n1(Ee,Tt,Bc,d2,ve,de),p2=u1(Nr,we,$e),m2=l1(Ee,Le,Nr,p2,ve,de,kn),Fc=zd(Pt),ho=vd(Pt),Lc=new WeakMap,g2=Od(Lc,Wt),_2=Fc?Hu(St,Ke,gd(Pt),ho,yd(qu),ve,g2,de,bs,new WeakMap,new WeakMap,i1(bs,Wt),Pt):void 0,v2=Wd(oo,de),y2=nd(co,St,td,md,new WeakSet,ve,v2,dr,ws,lo,uo),Vc=Nh(_2,O1,Oc,M1,R1,B1,L1,q1,W1,y2,z1,J1,Z1,e2,n2,r2,c2,u2,f2,m2),w2=Hd(Ee,Cf,ve,de),b2=Kd(Ee,kf,ve,de),x2=Zd(Ee,Af,ve,de),S2=Ef(Le,de),T2=Xd(Ee,S2,ve),C2=fh(Vc,Le,Ke,a1,w2,b2,x2,T2,Ds),fo=Pd(Nc),k2=Xu(fo),$c=Gh(Mt),A2=cd(fo),qc=hd(Mt),Uc=new WeakMap,E2=Sd(Uc,wt),O2=pf($c,Mt,Le,hn,Os,ss,tt,Ps,Ke,qc,ho,E2,un),P2=uf(Le,O2,tt,Ke,un),M2=Dh(Dt,$c,ns,hn,Os,ss,tt,A2,qc,ho,we,bs,Wt,Nt,$e,Dr),D2=Ad(Lc),N2=Yf(Uc),da=Fc?Oh(k2,Ee,Tt,M2,P2,Je,D2,ve,de,bs,g1,N2,x1,ts):void 0,R2=ed(Ke,Wt),I2=e1(co,St,io,fo,Dr,dr,lo,uo),j2=Lf(Vc,St,Le,R2,I2),B2=Bd(Er,oo),F2=Fd(Zi,ao),L2=Ld(Xi,Ac),V2=Vd(Er,de);function at(s){return s===void 0}function ne(s){return s!==void 0}function $2(s){return typeof s=="function"}function Vt(s){return typeof s=="number"}function yn(s){return Object.prototype.toString.call(s)==="[object Object]"&&s.constructor===Object}function q2(s){return typeof s=="boolean"}function it(s){return Array.isArray(s)}function $t(s){return typeof s=="string"}function zs(s){return $t(s)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(s)}function W(s,e){if(!s)throw new Error(e)}function bt(s,e,t=1/0){if(!(e<=s&&s<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${s}`)}function Wc(s){!s.isOffline&&s.state!=="running"&&Rr('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Gc=!1,fa=!1;function pa(s){Gc=s}function U2(s){at(s)&&Gc&&!fa&&(fa=!0,Rr("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let zc=console;function W2(...s){zc.log(...s)}function Rr(...s){zc.warn(...s)}function G2(s){return new C2(s)}function z2(s,e,t){return new j2(s,e,t)}const st=typeof self=="object"?self:null,H2=st&&(st.hasOwnProperty("AudioContext")||st.hasOwnProperty("webkitAudioContext"));function J2(s,e,t){return W(ne(da),"AudioWorkletNode only works in a secure context (https or localhost)"),new(s instanceof(st==null?void 0:st.BaseAudioContext)?st==null?void 0:st.AudioWorkletNode:da)(s,e,t)}var Ot=function(){return Ot=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ot.apply(this,arguments)};function Hc(s,e){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(t[n[r]]=s[n[r]]);return t}function Ct(s,e,t,n){var r=arguments.length,i=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(s,e,t,n);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(i=(r<3?o(i):r>3?o(e,t,i):o(e,t))||i);return r>3&&i&&Object.defineProperty(e,t,i),i}function Ae(s,e,t,n){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):r(u.value).then(a,c)}l((n=n.apply(s,e||[])).next())})}function K2(s,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,i;n<r;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return s.concat(i||Array.prototype.slice.call(e))}class Z2{constructor(e,t,n,r){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(r||44100),.001),this.updateInterval=n,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),n=new Worker(t);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function xn(s){return L2(s)}function sn(s){return F2(s)}function ar(s){return V2(s)}function Fn(s){return B2(s)}function X2(s){return s instanceof Oc}function Y2(s,e){return s==="value"||xn(e)||sn(e)||X2(e)}function wn(s,...e){if(!e.length)return s;const t=e.shift();if(yn(s)&&yn(t))for(const n in t)Y2(n,t[n])?s[n]=t[n]:yn(t[n])?(s[n]||Object.assign(s,{[n]:{}}),wn(s[n],t[n])):Object.assign(s,{[n]:t[n]});return wn(s,...e)}function Q2(s,e){return s.length===e.length&&s.every((t,n)=>e[n]===t)}function $(s,e,t=[],n){const r={},i=Array.from(e);if(yn(i[0])&&n&&!Reflect.has(i[0],n)&&(Object.keys(i[0]).some(a=>Reflect.has(s,a))||(wn(r,{[n]:i[0]}),t.splice(t.indexOf(n),1),i.shift())),i.length===1&&yn(i[0]))wn(r,i[0]);else for(let o=0;o<t.length;o++)ne(i[o])&&(r[t[o]]=i[o]);return wn(s,r)}function ep(s){return s.constructor.getDefaults()}function Gn(s,e){return at(s)?e:s}function _t(s,e){return e.forEach(t=>{Reflect.has(s,t)&&delete s[t]}),s}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Gt{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||st&&this.toString()===st.TONE_DEBUG_CLASS)&&W2(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Gt.version=Xa;const po=1e-6;function Zn(s,e){return s>e+po}function Ri(s,e){return Zn(s,e)||gt(s,e)}function yr(s,e){return s+po<e}function gt(s,e){return Math.abs(s-e)<po}function tp(s,e,t){return Math.max(Math.min(s,t),e)}class ct extends Gt{constructor(){super(),this.name="Timeline",this._timeline=[];const e=$(ct.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(W(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];W(Ri(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const n=this._search(e,t);return n!==-1?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const n=this._search(e,t);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const n=this._search(e);return n-1>=0?this._timeline[n-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(gt(this._timeline[t].time,e)){for(let n=t;n>=0&&gt(this._timeline[n].time,e);n--)t=n;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&Ri(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let n=0;const r=this._timeline.length;let i=r;if(r>0&&this._timeline[r-1][t]<=e)return r-1;for(;n<i;){let o=Math.floor(n+(i-n)/2);const a=this._timeline[o],c=this._timeline[o+1];if(gt(a[t],e)){for(let l=o;l<this._timeline.length;l++){const u=this._timeline[l];if(gt(u[t],e))o=l;else break}return o}else{if(yr(a[t],e)&&Zn(c[t],e))return o;Zn(a[t],e)?i=o:n=o+1}}return-1}_iterate(e,t=0,n=this._timeline.length-1){this._timeline.slice(t,n+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const n=this._search(e);return n!==-1&&this._iterate(t,0,n),this}forEachAfter(e,t){const n=this._search(e);return this._iterate(t,n+1),this}forEachBetween(e,t,n){let r=this._search(e),i=this._search(t);return r!==-1&&i!==-1?(this._timeline[r].time!==e&&(r+=1),this._timeline[i].time===t&&(i-=1),this._iterate(n,r,i)):r===-1&&this._iterate(n,0,i),this}forEachFrom(e,t){let n=this._search(e);for(;n>=0&&this._timeline[n].time>=e;)n--;return this._iterate(t,n+1),this}forEachAtTime(e,t){const n=this._search(e);if(n!==-1&&gt(this._timeline[n].time,e)){let r=n;for(let i=n;i>=0&&gt(this._timeline[i].time,e);i--)r=i;this._iterate(i=>{t(i)},r,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Jc=[];function Ir(s){Jc.push(s)}function np(s){Jc.forEach(e=>e(s))}const Kc=[];function jr(s){Kc.push(s)}function sp(s){Kc.forEach(e=>e(s))}class Ns extends Gt{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(r=>{at(this._events)&&(this._events={}),this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(t)}),this}once(e,t){const n=(...r)=>{t(...r),this.off(e,n)};return this.on(e,n),this}off(e,t){return e.split(/\W+/).forEach(r=>{if(at(this._events)&&(this._events={}),this._events.hasOwnProperty(r))if(at(t))this._events[r]=[];else{const i=this._events[r];for(let o=i.length-1;o>=0;o--)i[o]===t&&i.splice(o,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const n=this._events[e].slice(0);for(let r=0,i=n.length;r<i;r++)n[r].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const n=Object.getOwnPropertyDescriptor(Ns.prototype,t);Object.defineProperty(e.prototype,t,n)})}dispose(){return super.dispose(),this._events=void 0,this}}class Zc extends Ns{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Rs extends Zc{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new ct,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const n=$(Rs.getDefaults(),arguments,["context"]);n.context?(this._context=n.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=G2({latencyHint:n.latencyHint}),this._latencyHint=n.latencyHint),this._ticker=new Z2(this.emit.bind(this,"tick"),n.clockSource,n.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=n.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(np(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,n){return this._context.createBuffer(e,t,n)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,n){return this._context.createPeriodicWave(e,t,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return W(Fn(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return W(Fn(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return W(Fn(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){W(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){W(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){W(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){W(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return J2(this.rawContext,e,t)}addAudioWorkletModule(e){return Ae(this,void 0,void 0,function*(){W(ne(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Ae(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Fn(this._context)?this._context.resume():Promise.resolve()}close(){return Ae(this,void 0,void 0,function*(){Fn(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&sp(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),n=t.getChannelData(0);for(let i=0;i<n.length;i++)n[i]=e;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=t,r.loop=!0,r.start(0),this._constants.set(e,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let t=this._timeouts.peek();for(;this._timeouts.length&&t&&t.time<=e;)t.callback(),this._timeouts.shift(),t=this._timeouts.peek()}setTimeout(e,t){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:n+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const n=++this._timeoutIds,r=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),r()},id:n,time:i+t})};return r(),n}}class rp extends Zc{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,n){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Ae(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function fe(s,e){it(e)?e.forEach(t=>fe(s,t)):Object.defineProperty(s,e,{enumerable:!0,writable:!1})}function mo(s,e){it(e)?e.forEach(t=>mo(s,t)):Object.defineProperty(s,e,{writable:!0})}const le=()=>{};class he extends Gt{constructor(){super(),this.name="ToneAudioBuffer",this.onload=le;const e=$(he.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,$t(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:le,onload:le,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:vt().sampleRate}set(e){return e instanceof he?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Ae(this,void 0,void 0,function*(){const t=he.load(e).then(n=>{this.set(n),this.onload(this)});he.downloads.push(t);try{yield t}finally{const n=he.downloads.indexOf(t);he.downloads.splice(n,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=it(e)&&e[0].length>0,n=t?e.length:1,r=t?e[0].length:e.length,i=vt(),o=i.createBuffer(n,r,i.sampleRate),a=!t&&n===1?[e]:e;for(let c=0;c<n;c++)o.copyToChannel(a[c],c);return this._buffer=o,this}toMono(e){if(Vt(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const n=this.numberOfChannels;for(let r=0;r<n;r++){const i=this.toArray(r);for(let o=0;o<i.length;o++)t[o]+=i[o]}t=t.map(r=>r/n),this.fromArray(t)}return this}toArray(e){if(Vt(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let n=0;n<this.numberOfChannels;n++)t[n]=this.getChannelData(n);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){W(this.loaded,"Buffer is not loaded");const n=Math.floor(e*this.sampleRate),r=Math.floor(t*this.sampleRate);W(n<r,"The start time must be less than the end time");const i=r-n,o=vt().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(n,r),a);return new he(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new he().fromArray(e)}static fromUrl(e){return Ae(this,void 0,void 0,function*(){return yield new he().load(e)})}static load(e){return Ae(this,void 0,void 0,function*(){const t=e.match(/\[([^\]\[]+\|.+)\]$/);if(t){const c=t[1].split("|");let l=c[0];for(const u of c)if(he.supportsType(u)){l=u;break}e=e.replace(t[0],l)}const n=he.baseUrl===""||he.baseUrl.endsWith("/")?he.baseUrl:he.baseUrl+"/",r=document.createElement("a");r.href=n+e,r.pathname=(r.pathname+r.hash).split("/").map(encodeURIComponent).join("/");const i=yield fetch(r.href);if(!i.ok)throw new Error(`could not load url: ${e}`);const o=yield i.arrayBuffer();return yield vt().decodeAudioData(o)})}static supportsType(e){const t=e.split("."),n=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+n)!==""}static loaded(){return Ae(this,void 0,void 0,function*(){for(yield Promise.resolve();he.downloads.length;)yield he.downloads[0]})}}he.baseUrl="";he.downloads=[];class Br extends Rs{constructor(){super({clockSource:"offline",context:ar(arguments[0])?arguments[0]:z2(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:ar(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=ar(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Ae(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const n=Math.floor(this.sampleRate/128);e&&t%n===0&&(yield new Promise(r=>setTimeout(r,1)))}})}render(){return Ae(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new he(t)})}close(){return Promise.resolve()}}const Xc=new rp;let $n=Xc;function vt(){return $n===Xc&&H2&&ip(new Rs),$n}function ip(s,e=!1){e&&$n.dispose(),Fn(s)?$n=new Rs(s):ar(s)?$n=new Br(s):$n=s}if(st&&!st.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Xa} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function op(s){return Math.pow(10,s/20)}function ap(s){return 20*(Math.log(s)/Math.LN10)}function Yc(s){return Math.pow(2,s/12)}let Fr=440;function cp(){return Fr}function lp(s){Fr=s}function vn(s){return Math.round(Qc(s))}function Qc(s){return 69+12*Math.log2(s/Fr)}function el(s){return Fr*Math.pow(2,(s-69)/12)}class go extends Gt{constructor(e,t,n){super(),this.defaultUnits="s",this._val=t,this._units=n,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const n=parseInt(e,10),r=t==="."?1.5:1;return n===1?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/n)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,n)=>{let r=0;return e&&e!=="0"&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(r+=this._beatsToUnits(parseFloat(t))),n&&n!=="0"&&(r+=this._beatsToUnits(parseFloat(n)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof go&&this.fromType(this._val),at(this._val))return this._noArg();if($t(this._val)&&at(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(yn(this._val)){let e=0;for(const t in this._val)if(ne(this._val[t])){const n=this._val[t],r=new this.constructor(this.context,t).valueOf()*n;e+=r}return e}if(ne(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return $t(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class yt extends go{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new yt(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const n=new this.constructor(this.context,e).valueOf(),r=this.valueOf(),a=Math.round(r/n)*n-r;return r+a*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);t.push(o+"n."),t.push(o+"n"),t.push(o+"t")}t.push("0");let n=t[0],r=new yt(this.context,t[0]).toSeconds();return t.forEach(i=>{const o=new yt(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(r-e)&&(n=i,r=o)}),n}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const n=Math.floor(t/this._getTimeSignature());let r=t%1*4;t=Math.floor(t)%this._getTimeSignature();const i=r.toString();return i.length>3&&(r=parseFloat(parseFloat(i).toFixed(3))),[n,t,r].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return vn(this.toFrequency())}_now(){return this.context.now()}}class rt extends yt{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return cp()}static set A4(e){lp(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:rt.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const r=up[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?r:rt.mtof(r)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,n){let r=1;return e&&e!=="0"&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(r*=this._beatsToUnits(parseFloat(t))),n&&n!=="0"&&(r*=this._beatsToUnits(parseFloat(n)/4)),r}}})}transpose(e){return new rt(this.context,this.valueOf()*Yc(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return vn(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/rt.A4);let n=Math.round(12*t)+57;const r=Math.floor(n/12);return r<0&&(n+=-12*r),hp[n%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return el(e)}static ftom(e){return vn(e)}}const up={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},hp=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class ms extends yt{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class et extends Gt{constructor(){super();const e=$(et.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:vt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return U2(e),new yt(this.context,e).toSeconds()}toFrequency(e){return new rt(this.context,e).toFrequency()}toTicks(e){return new ms(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(n=>{at(e[n])&&delete t[n]}),t}get(){const e=ep(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const n=this[t];ne(n)&&ne(n.value)&&ne(n.setValueAtTime)?e[t]=n.value:n instanceof et?e[t]=n._getPartialProperties(e[t]):it(n)||Vt(n)||$t(n)||q2(n)?e[t]=n:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&ne(this[t])&&(this[t]&&ne(this[t].value)&&ne(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof et?this[t].set(e[t]):this[t]=e[t])}),this}}class _o extends ct{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,n){return bt(t,0),this.add(Object.assign({},n,{state:e,time:t})),this}getLastState(e,t){const n=this._search(t);for(let r=n;r>=0;r--){const i=this._timeline[r];if(i.state===e)return i}}getNextState(e,t){const n=this._search(t);if(n!==-1)for(let r=n;r<this._timeline.length;r++){const i=this._timeline[r];if(i.state===e)return i}}}class ie extends et{constructor(){const e=$(ie.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,W(ne(e.param)&&(xn(e.param)||e.param instanceof ie),"param must be an AudioParam");!xn(e.param);)e.param=e.param._param;this._swappable=ne(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new ct(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,ne(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(et.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return ne(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return ne(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return ne(this.maxValue)&&ne(this.minValue)&&bt(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?op(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?ap(e):e}setValueAtTime(e,t){const n=this.toSeconds(t),r=this._fromType(e);return W(isFinite(r)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",e,n),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),n=this._events.getAfter(t),r=this._events.get(t);let i=this._initialValue;if(r===null)i=this._initialValue;else if(r.type==="setTargetAtTime"&&(n===null||n.type==="setValueAtTime")){const o=this._events.getBefore(r.time);let a;o===null?a=this._initialValue:a=o.value,r.type==="setTargetAtTime"&&(i=this._exponentialApproach(r.time,a,r.value,r.constant,t))}else if(n===null)i=r.value;else if(n.type==="linearRampToValueAtTime"||n.type==="exponentialRampToValueAtTime"){let o=r.value;if(r.type==="setTargetAtTime"){const a=this._events.getBefore(r.time);a===null?o=this._initialValue:o=a.value}n.type==="linearRampToValueAtTime"?i=this._linearInterpolate(r.time,o,n.time,n.value,t):i=this._exponentialInterpolate(r.time,o,n.time,n.value,t)}else i=r.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const n=this._fromType(e),r=this.toSeconds(t);return W(isFinite(n)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(n),this._events.add({time:r,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",e,r),this._param.linearRampToValueAtTime(n,r),this}exponentialRampToValueAtTime(e,t){let n=this._fromType(e);n=gt(n,0)?this._minOutput:n,this._assertRange(n);const r=this.toSeconds(t);return W(isFinite(n)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",e,r),this._param.exponentialRampToValueAtTime(n,r),this}exponentialRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(e,n+this.toSeconds(t)),this}linearRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(e,n+this.toSeconds(t)),this}targetRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(e,n,t),this}exponentialApproachValueAtTime(e,t,n){t=this.toSeconds(t),n=this.toSeconds(n);const r=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(e,t,r),this.cancelAndHoldAtTime(t+n*.9),this.linearRampToValueAtTime(e,t+n),this}setTargetAtTime(e,t,n){const r=this._fromType(e);W(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(t);return this._assertRange(r),W(isFinite(r)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:n,time:i,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",e,i,n),this._param.setTargetAtTime(r,i,n),this}setValueCurveAtTime(e,t,n,r=1){n=this.toSeconds(n),t=this.toSeconds(t);const i=this._fromType(e[0])*r;this.setValueAtTime(this._toType(i),t);const o=n/(e.length-1);for(let a=1;a<e.length;a++){const c=this._fromType(e[a])*r;this.linearRampToValueAtTime(this._toType(c),t+a*o)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return W(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),n=this._fromType(this.getValueAtTime(t));W(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+n);const r=this._events.get(t),i=this._events.getAfter(t);return r&&gt(r.time,t)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(n),t):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(n),t)),this._events.add({time:t,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,t),this}rampTo(e,t=.1,n){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,n):this.linearRampTo(e,t,n),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const n=this._events.get(t);if(n&&n.type==="setTargetAtTime"){const r=this._events.getAfter(n.time),i=r?r.time:t+2,o=(i-t)/10;for(let a=t;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,r=>{r.type==="cancelScheduledValues"?e.cancelScheduledValues(r.time):r.type==="setTargetAtTime"?e.setTargetAtTime(r.value,r.time,r.constant):e[r.type](r.value,r.time)}),this}setParam(e){W(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,n,r,i){return n+(t-n)*Math.exp(-(i-e)/r)}_linearInterpolate(e,t,n,r,i){return t+(r-t)*((i-e)/(n-e))}_exponentialInterpolate(e,t,n,r,i){return t*Math.pow(r/t,(i-e)/(n-e))}}class q extends et{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return ne(this.input)?xn(this.input)||this.input instanceof ie?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ne(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return ne(e)&&(e instanceof q||sn(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(n=>{n.channelCount=e.channelCount,n.channelCountMode=e.channelCountMode,n.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();W(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,n=0){return on(this,e,t,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Rr("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,n=0){return dp(this,e,t,n),this}chain(...e){return xs(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),ne(this.input)&&(this.input instanceof q?this.input.dispose():sn(this.input)&&this.input.disconnect()),ne(this.output)&&(this.output instanceof q?this.output.dispose():sn(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function xs(...s){const e=s.shift();s.reduce((t,n)=>(t instanceof q?t.connect(n):sn(t)&&on(t,n),n),e)}function on(s,e,t=0,n=0){for(W(ne(s),"Cannot connect from undefined node"),W(ne(e),"Cannot connect to undefined node"),(e instanceof q||sn(e))&&W(e.numberOfInputs>0,"Cannot connect to node with no inputs"),W(s.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof q||e instanceof ie;)ne(e.input)&&(e=e.input);for(;s instanceof q;)ne(s.output)&&(s=s.output);xn(e)?s.connect(e,t):s.connect(e,t,n)}function dp(s,e,t=0,n=0){if(ne(e))for(;e instanceof q;)e=e.input;for(;!sn(s);)ne(s.output)&&(s=s.output);xn(e)?s.disconnect(e,t):sn(e)?s.disconnect(e,t,n):s.disconnect()}class me extends q{constructor(){const e=$(me.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new ie({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),fe(this,"gain")}static getDefaults(){return Object.assign(q.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Xn extends q{constructor(e){super(e),this.onended=le,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new me({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const n=this.toSeconds(t);return this._startTime!==-1&&n>=this._startTime&&(this._stopTime===-1||n<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(q.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:le})}_startGain(e,t=1){W(this._startTime===-1,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=e+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+n):this._gainNode.gain.exponentialApproachValueAtTime(t,e,n)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){W(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const n=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+n),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==le&&(this.onended(this),this.onended=le,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),W(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=le,this}}class vo extends Xn{constructor(){const e=$(vo.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),on(this._source,this._gainNode),this.offset=new ie({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Xn.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class pe extends q{constructor(){const e=$(pe.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new vo({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(q.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,n=0){return yo(this,e,t,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,n){return this._param.exponentialRampTo(e,t,n),this}linearRampTo(e,t,n){return this._param.linearRampTo(e,t,n),this}targetRampTo(e,t,n){return this._param.targetRampTo(e,t,n),this}exponentialApproachValueAtTime(e,t,n){return this._param.exponentialApproachValueAtTime(e,t,n),this}setTargetAtTime(e,t,n){return this._param.setTargetAtTime(e,t,n),this}setValueCurveAtTime(e,t,n,r){return this._param.setValueCurveAtTime(e,t,n,r),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,n){return this._param.rampTo(e,t,n),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function yo(s,e,t,n){(e instanceof ie||xn(e)||e instanceof pe&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof pe&&(e.overridden=!0)),on(s,e,t,n)}class wo extends ie{constructor(){const e=$(wo.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new ct(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ie.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,n){t=this.toSeconds(t),this.setRampPoint(t);const r=this._fromType(e),i=this._events.get(t),o=Math.round(Math.max(1/n,1));for(let a=0;a<=o;a++){const c=n*a+t,l=this._exponentialApproach(i.time,i.value,r,n,c);this.linearRampToValueAtTime(this._toType(l),c)}return this}setValueAtTime(e,t){const n=this.toSeconds(t);super.setValueAtTime(e,t);const r=this._events.get(n),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,n);return r.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,t){const n=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const r=this._events.get(n),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,n);return r.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const n=this._fromType(e),r=this._events.get(t),i=Math.round(Math.max((t-r.time)*10,1)),o=(t-r.time)/i;for(let a=0;a<=i;a++){const c=o*a+r.time,l=this._exponentialInterpolate(r.time,r.value,t,n,c);this.linearRampToValueAtTime(this._toType(l),c)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(at(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const n=this._fromType(this.getValueAtTime(e.time));let r=this._fromType(this.getValueAtTime(t));const i=this._events.get(t);return i&&i.time===t&&i.type==="setValueAtTime"&&(r=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(n+r)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),n=this._events.get(t);return Math.max(this._getTicksUntilEvent(n,t),0)}getDurationOfTicks(e,t){const n=this.toSeconds(t),r=this.getTicksAtTime(t);return this.getTimeOfTick(r+e)-n}getTimeOfTick(e){const t=this._events.get(e,"ticks"),n=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&n&&n.type==="linearRampToValueAtTime"&&t.value!==n.value){const r=this._fromType(this.getValueAtTime(t.time)),o=(this._fromType(this.getValueAtTime(n.time))-r)/(n.time-t.time),a=Math.sqrt(Math.pow(r,2)-2*o*(t.ticks-e)),c=(-r+a)/o,l=(-r-a)/o;return(c>0?c:l)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const n=this.toSeconds(t),r=this.toSeconds(e),i=this.getTicksAtTime(n);return this.getTicksAtTime(n+r)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class bo extends pe{constructor(){const e=$(bo.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new wo({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(pe.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class xo extends et{constructor(){const e=$(xo.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new _o,this._tickOffset=new ct,this._ticksAtTime=new ct,this._secondsAtTime=new ct,this.frequency=new bo({context:this.context,units:e.units,value:e.frequency}),fe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},et.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const n=this.toSeconds(e);return this._state.getValueAtTime(n)!=="started"&&(this._state.setStateAtTime("started",n),ne(t)&&this.setTicksAtTime(t,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const n=this._state.get(t);n&&n.time>0&&(this._tickOffset.cancel(n.time),this._state.cancel(n.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),n=this._state.getLastState("stopped",t),r=this._ticksAtTime.get(t),i={state:"paused",time:t};this._state.add(i);let o=r||n,a=r?r.ticks:0,c=null;return this._state.forEachBetween(o.time,t+this.sampleTime,l=>{let u=o.time;const h=this._tickOffset.get(l.time);h&&h.time>=o.time&&(a=h.ticks,u=h.time),o.state==="started"&&l.state!=="started"&&(a+=this.frequency.getTicksAtTime(l.time)-this.frequency.getTicksAtTime(u),l.time!==i.time&&(c={state:l.state,time:l.time,ticks:a})),o=l}),this._state.remove(i),c&&this._ticksAtTime.add(c),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),n=this.frequency.timeToTicks(e,t);this.setTicksAtTime(n,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),n={state:"paused",time:e};this._state.add(n);const r=this._secondsAtTime.get(e);let i=r||t,o=r?r.seconds:0,a=null;return this._state.forEachBetween(i.time,e+this.sampleTime,c=>{let l=i.time;const u=this._tickOffset.get(c.time);u&&u.time>=i.time&&(o=u.seconds,l=u.time),i.state==="started"&&c.state!=="started"&&(o+=c.time-l,c.time!==n.time&&(a={state:c.state,time:c.time,seconds:o})),i=c}),this._state.remove(n),a&&this._secondsAtTime.add(a),o}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const n=this._tickOffset.get(t),r=this._state.get(t),i=Math.max(n.time,r.time),o=this.frequency.getTicksAtTime(i)+e-n.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,t,n){let r=this._state.get(e);this._state.forEachBetween(e,t,o=>{r&&r.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(r.time,e),o.time-this.sampleTime,n),r=o});let i=null;if(r&&r.state==="started"){const o=Math.max(r.time,e),a=this.frequency.getTicksAtTime(o),c=this.frequency.getTicksAtTime(r.time),l=a-c;let u=Math.ceil(l)-l;u=gt(u,1)?0:u;let h=this.frequency.getTimeOfTick(a+u);for(;h<t;){try{n(h,Math.round(this.getTicksAtTime(h)))}catch(d){i=d;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Lr extends et{constructor(){const e=$(Lr.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=le,this._lastUpdate=0,this._state=new _o("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new xo({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,fe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(et.getDefaults(),{callback:le,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){Wc(this.context);const n=this.toSeconds(e);return this.log("start",n),this._state.getValueAtTime(n)!=="started"&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,t),n<this._lastUpdate&&this.emit("start",n,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const n=this.toSeconds(t),r=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(r+e,n)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,n=>{switch(n.state){case"started":const r=this._tickSource.getTicksAtTime(n.time);this.emit("start",n.time,r);break;case"stopped":n.time!==0&&this.emit("stop",n.time);break;case"paused":this.emit("pause",n.time);break}}),this._tickSource.forEachTickBetween(e,t,(n,r)=>{this.callback(n,r)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Ns.mixin(Lr);class rs extends q{constructor(){const e=$(rs.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new me({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,fe(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(q.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class So extends q{constructor(){const e=$(So.getDefaults(),arguments);super(e),this.name="Destination",this.input=new rs({context:this.context}),this.output=new me({context:this.context}),this.volume=this.input.volume,xs(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(q.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),xs(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Ir(s=>{s.destination=new So({context:s})});jr(s=>{s.destination.dispose()});class fp extends q{constructor(){super(...arguments),this.name="Listener",this.positionX=new ie({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new ie({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new ie({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new ie({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new ie({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new ie({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new ie({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new ie({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new ie({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(q.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Ir(s=>{s.listener=new fp({context:s})});jr(s=>{s.listener.dispose()});class To extends Gt{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=$(To.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const n=e.urls[t];this.add(t,n,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:le,onload:le,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return W(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,n=le,r=le){return $t(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new he(this.baseUrl+t,n,r))):this._buffers.set(e.toString(),new he(t,n,r)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class wr extends rt{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return vn(super._frequencyToUnits(e))}_ticksToUnits(e){return vn(super._ticksToUnits(e))}_beatsToUnits(e){return vn(super._beatsToUnits(e))}_secondsToUnits(e){return vn(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return el(this.toMidi())}transpose(e){return new wr(this.context,this.toMidi()+e)}}class qn extends ms{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class pp extends et{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new ct,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const t=this._events.shift();t&&e-t.time<=this.expiration&&t.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Ir(s=>{s.draw=new pp({context:s})});jr(s=>{s.draw.dispose()});class mp extends Gt{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){W(ne(e.time),"Events must have a time property"),W(ne(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new gp(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const n of t)if(n.event===e){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let n,r=null;if(t>0)if(e.left.right===null)n=e.left,n.right=e.right,r=n;else{for(n=e.left.right;n.right!==null;)n=n.right;n.parent&&(n.parent.right=n.left,r=n.parent,n.left=e.left,n.right=e.right)}else if(e.right.left===null)n=e.right,n.left=e.left,r=n;else{for(n=e.right.left;n.left!==null;)n=n.left;n.parent&&(n.parent.left=n.right,r=n.parent,n.left=e.left,n.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=n:e.parent.right=n:this._setRoot(n),r&&this._rebalance(r)}e.dispose()}_rotateLeft(e){const t=e.parent,n=e.isLeftChild(),r=e.right;r&&(e.right=r.left,r.left=e),t!==null?n?t.left=r:t.right=r:this._setRoot(r)}_rotateRight(e){const t=e.parent,n=e.isLeftChild(),r=e.left;r&&(e.left=r.right,r.right=e),t!==null?n?t.left=r:t.right=r:this._setRoot(r)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let n=t[0];for(let r=1;r<t.length;r++)t[r].low>n.low&&(n=t[r]);return n.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(n=>t.push(n)),t.forEach(n=>{n.event&&e(n.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const n=[];this._root.search(e,n),n.forEach(r=>{r.event&&t(r.event)})}return this}forEachFrom(e,t){if(this._root!==null){const n=[];this._root.searchAfter(e,n),n.forEach(r=>{r.event&&t(r.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class gp{constructor(e,t,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class _p extends Gt{constructor(e){super(),this.name="TimelineValue",this._timeline=new ct({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class qt extends q{constructor(){super($(qt.getDefaults(),arguments,["context"]))}connect(e,t=0,n=0){return yo(this,e,t,n),this}}class is extends qt{constructor(){const e=$(is.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,it(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):$2(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(pe.getDefaults(),{length:1024})}setMap(e,t=1024){const n=new Float32Array(t);for(let r=0,i=t;r<i;r++){const o=r/(i-1)*2-1;n[r]=e(o,r)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(n=>n.includes(e));W(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Vr extends qt{constructor(){const e=$(Vr.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new is({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(qt.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class an{constructor(e,t){this.id=an._eventId++,this._remainderTime=0;const n=Object.assign(an.getDefaults(),t);this.transport=e,this.callback=n.callback,this._once=n.once,this.time=Math.floor(n.time),this._remainderTime=n.time-this.time}static getDefaults(){return{callback:le,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}an._eventId=0;class Co extends an{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(Co.getDefaults(),t);this.duration=n.duration,this._interval=n.interval,this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},an.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return yr(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new qn(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){yr(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new qn(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);Zn(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class $r extends et{constructor(){const e=$($r.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new _p(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new ct,this._repeatedEvents=new mp,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Lr({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),fe(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(et.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const n=t%(this._swingTicks*2)/(this._swingTicks*2),r=Math.sin(n*Math.PI)*this._swingAmount;e+=new qn(this.context,this._swingTicks*2/3).toSeconds()*r}pa(!0),this._timeline.forEachAtTime(t,n=>n.invoke(e)),pa(!1)}schedule(e,t){const n=new an(this,{callback:e,time:new ms(this.context,t).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(e,t,n,r=1/0){const i=new Co(this,{callback:e,duration:new yt(this.context,r).toTicks(),interval:new yt(this.context,t).toTicks(),time:new ms(this.context,n).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,t){const n=new an(this,{callback:e,once:!0,time:new ms(this.context,t).toTicks()});return this._addEvent(n,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,n=>this.clear(n.id)),this._repeatedEvents.forEachFrom(t,n=>this.clear(n.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new qn(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let n;return ne(t)&&(n=this.toTicks(t)),this._clock.start(e,n),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){it(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new yt(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new yt(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new qn(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new qn(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),n=this._clock.frequency.timeToTicks(e,t);this.ticks=n}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const n=this._clock.getTicksAtTime(t),r=this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,t),i=t+r;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),n=this.getTicksAtTime(t),r=e-n%e;return this._clock.nextTickTime(r,t)}}syncSignal(e,t){const n=this.now();let r=this.bpm,i=1/(60/r.getValueAtTime(n)/this.PPQ),o=[];if(e.units==="time"){const c=.015625/i,l=new me(c),u=new Vr(-1),h=new me(c);r.chain(l,u,h),r=h,i=1/i,o=[l,u,h]}t||(e.getValueAtTime(n)!==0?t=e.getValueAtTime(n)/i:t=0);const a=new me(t);return r.connect(a),a.connect(e._param),o.push(a),this._syncedSignals.push({initial:e.value,nodes:o,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const n=this._syncedSignals[t];n.signal===e&&(n.nodes.forEach(r=>r.dispose()),n.signal.value=n.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),mo(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Ns.mixin($r);Ir(s=>{s.transport=new $r({context:s})});jr(s=>{s.transport.dispose()});class Ve extends q{constructor(e){super(e),this.input=void 0,this._state=new _o("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=le,this._syncedStop=le,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new rs({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,fe(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(q.getDefaults(),{mute:!1,onstop:le,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,n){let r=at(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(r=this._clampToCurrentTime(r),!this._synced&&this._state.getValueAtTime(r)==="started")W(Zn(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,t,n);else if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const i=this._state.get(r);i&&(i.offset=this.toSeconds(Gn(t,0)),i.duration=n?this.toSeconds(n):void 0);const o=this.context.transport.schedule(a=>{this._start(a,t,n)},r);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else Wc(this.context),this._start(r,t,n);return this}stop(e){let t=at(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||ne(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const n=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(n)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,n){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(Zn(t,0)){const n=this._state.get(t);if(n&&n.state==="started"&&n.time!==t){const r=t-this.toSeconds(n.time);let i;n.duration&&(i=this.toSeconds(n.duration)-r),this._start(e,this.toSeconds(n.offset)+r,i)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=le,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Is extends Xn{constructor(){const e=$(Is.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,on(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new ie({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new he(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Xn.getDefaults(),{url:new he,loop:!1,loopEnd:0,loopStart:0,onload:le,onerror:le,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,n,r=1){W(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,r),this.loop?t=Gn(t,this.loopStart):t=Gn(t,0);let o=Math.max(this.toSeconds(t),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,c=this.toSeconds(this.loopStart),l=a-c;Ri(o,a)&&(o=(o-c)%l+c),gt(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,yr(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),ne(n)){let a=this.toSeconds(n);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class br extends Ve{constructor(){const e=$(br.getDefaults(),arguments,["type"]);super(e),this.name="Noise",this._source=null,this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Ve.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(W(e in ma,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const t=this.now();this._stop(t),this._start(t)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const t=ma[this._type];this._source=new Is({url:t,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(t.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Pn=44100*5,ai=2,It={brown:null,pink:null,white:null},ma={get brown(){if(!It.brown){const s=[];for(let e=0;e<ai;e++){const t=new Float32Array(Pn);s[e]=t;let n=0;for(let r=0;r<Pn;r++){const i=Math.random()*2-1;t[r]=(n+.02*i)/1.02,n=t[r],t[r]*=3.5}}It.brown=new he().fromArray(s)}return It.brown},get pink(){if(!It.pink){const s=[];for(let e=0;e<ai;e++){const t=new Float32Array(Pn);s[e]=t;let n,r,i,o,a,c,l;n=r=i=o=a=c=l=0;for(let u=0;u<Pn;u++){const h=Math.random()*2-1;n=.99886*n+h*.0555179,r=.99332*r+h*.0750759,i=.969*i+h*.153852,o=.8665*o+h*.3104856,a=.55*a+h*.5329522,c=-.7616*c-h*.016898,t[u]=n+r+i+o+a+c+l+h*.5362,t[u]*=.11,l=h*.115926}}It.pink=new he().fromArray(s)}return It.pink},get white(){if(!It.white){const s=[];for(let e=0;e<ai;e++){const t=new Float32Array(Pn);s[e]=t;for(let n=0;n<Pn;n++)t[n]=Math.random()*2-1}It.white=new he().fromArray(s)}return It.white}};function An(s,e){return Ae(this,void 0,void 0,function*(){const t=e/s.context.sampleRate,n=new Br(1,t,s.context.sampleRate);return new s.constructor(Object.assign(s.get(),{frequency:2/t,detune:0,context:n})).toDestination().start(0),(yield n.render()).getChannelData(0)})}class ko extends Xn{constructor(){const e=$(ko.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],on(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new ie({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new ie({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),fe(this,["frequency","detune"])}static getDefaults(){return Object.assign(Xn.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class De extends Ve{constructor(){const e=$(De.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new pe({context:this.context,units:"frequency",value:e.frequency}),fe(this,"frequency"),this.detune=new pe({context:this.context,units:"cents",value:e.detune}),fe(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Ve.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),n=new ko({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return De._periodicWaveCache.find(t=>t.phase===this._phase&&Q2(t.partials,this._partials));{const e=De._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const n=this._getCachedPeriodicWave();if(ne(n)){const{partials:r,wave:i}=n;this._wave=i,this._partials=r,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[r,i]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(r,i);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),De._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:r,type:this._type,wave:this._wave}),De._periodicWaveCache.length>100&&De._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){bt(e,0);let t=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(t=n[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const r=new Float32Array(e);this._partials.forEach((i,o)=>r[o]=i),this._partials=Array.from(r),this.type=this._type}}_getRealImaginary(e,t){let r=2048;const i=new Float32Array(r),o=new Float32Array(r);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,r=a,this._partials.length===0)return[i,o]}else{const c=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);c?(a=parseInt(c[2],10)+1,this._partialCount=parseInt(c[2],10),e=c[1],a=Math.max(a,2),r=a):this._partialCount=0,this._partials=[]}for(let c=1;c<r;++c){const l=2/(c*Math.PI);let u;switch(e){case"sine":u=c<=a?1:0,this._partials[c-1]=u;break;case"square":u=c&1?2*l:0,this._partials[c-1]=u;break;case"sawtooth":u=l*(c&1?1:-1),this._partials[c-1]=u;break;case"triangle":c&1?u=2*(l*l)*(c-1>>1&1?-1:1):u=0,this._partials[c-1]=u;break;case"custom":u=this._partials[c-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}u!==0?(i[c]=-u*Math.sin(t*c),o[c]=u*Math.cos(t*c)):(i[c]=0,o[c]=0)}return[i,o]}_inverseFFT(e,t,n){let r=0;const i=e.length;for(let o=0;o<i;o++)r+=e[o]*Math.cos(o*n)+t[o]*Math.sin(o*n);return r}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let n=0;const r=Math.PI*2,i=32;for(let o=0;o<i;o++)n=Math.max(this._inverseFFT(e,t,o/i*r),n);return tp(-this._inverseFFT(e,t,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Ae(this,arguments,void 0,function*(e=1024){return An(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}De._periodicWaveCache=[];class tl extends qt{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new is({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ut extends pe{constructor(){const e=$(Ut.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new me({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(pe.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class qr extends Ve{constructor(){const e=$(qr.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new tl({context:this.context}),this._modulationNode=new me({context:this.context}),this._carrier=new De({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new De({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ut({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),fe(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(De.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ae(this,arguments,void 0,function*(e=1024){return An(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Ur extends Ve{constructor(){const e=$(Ur.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new me({context:this.context,gain:0}),this._carrier=new De({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new pe({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new De({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ut({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Ut({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),fe(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(De.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ae(this,arguments,void 0,function*(e=1024){return An(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class js extends Ve{constructor(){const e=$(js.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new me({context:this.context,gain:0}),this._thresh=new is({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new pe({context:this.context,units:"audioRange",value:e.width}),this._triangle=new De({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),fe(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Ve.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Ae(this,arguments,void 0,function*(e=1024){return An(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Wr extends Ve{constructor(){const e=$(Wr.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new pe({context:this.context,units:"frequency",value:e.frequency}),this.detune=new pe({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,fe(this,["frequency","detune"])}static getDefaults(){return Object.assign(De.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,n=e/(this._oscillators.length-1);this._forEach((r,i)=>r.detune.value=t+n*i)}}get count(){return this._oscillators.length}set count(e){if(bt(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const n=new De({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):le});this.type==="custom"&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[t]=n}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,n)=>t.phase=this._phase+n/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Ae(this,arguments,void 0,function*(e=1024){return An(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Gr extends Ve{constructor(){const e=$(Gr.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Ut({context:this.context,value:2}),this._pulse=new js({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new De({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),fe(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Ve.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Ae(this,arguments,void 0,function*(e=1024){return An(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const ga={am:qr,fat:Wr,fm:Ur,oscillator:De,pulse:js,pwm:Gr};class cn extends Ve{constructor(){const e=$(cn.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new pe({context:this.context,units:"frequency",value:e.frequency}),this.detune=new pe({context:this.context,units:"cents",value:e.detune}),fe(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(De.getDefaults(),Ur.getDefaults(),qr.getDefaults(),Wr.getDefaults(),js.getDefaults(),Gr.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=ga[e],n=this.now();if(this._oscillator){const r=this._oscillator;r.stop(n),this.context.setTimeout(()=>r.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof ga[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Vt(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Vt(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&$t(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Ae(this,arguments,void 0,function*(e=1024){return An(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Ao extends pe{constructor(){super($(Ao.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new me({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,xs(this._constantSource,this._sum)}static getDefaults(){return Object.assign(pe.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Eo extends qt{constructor(){const e=$(Eo.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new Ut({context:this.context,value:e.max-e.min}),this._add=this.output=new Ao({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(qt.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function nl(s,e=1/0){const t=new WeakMap;return function(n,r){Reflect.defineProperty(n,r,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(i){bt(i,s,e),t.set(this,i)}})}}function zt(s,e=1/0){const t=new WeakMap;return function(n,r){Reflect.defineProperty(n,r,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(i){bt(this.toSeconds(i),s,e),t.set(this,i)}})}}class zr extends Ve{constructor(){const e=$(zr.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new he({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Ve.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:le,onerror:le,playbackRate:1,reverse:!1})}load(e){return Ae(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=le){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,n){return super.start(e,t,n),this}_start(e,t,n){this._loop?t=Gn(t,this._loopStart):t=Gn(t,0);const r=this.toSeconds(t),i=n;n=Gn(n,Math.max(this._buffer.duration-r,0));let o=this.toSeconds(n);o=o/this._playbackRate,e=this.toSeconds(e);const a=new Is({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&at(i)?a.start(e,r):a.start(e,r,o-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(n=>n.stop(t))}restart(e,t,n){return super.restart(e,t,n),this}_restart(e,t,n){var r;(r=[...this._activeSources].pop())===null||r===void 0||r.stop(e),this._start(e,t,n)}seek(e,t){const n=this.toSeconds(t);if(this._state.getValueAtTime(n)==="started"){const r=this.toSeconds(e);this._stop(n),this._start(n,r)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&bt(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&bt(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),n=this._state.getNextState("stopped",t);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach(r=>r.cancelStop())),this._activeSources.forEach(r=>{r.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Ct([zt(0)],zr.prototype,"fadeIn",void 0);Ct([zt(0)],zr.prototype,"fadeOut",void 0);class vp extends qt{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new is({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class ot extends q{constructor(){const e=$(ot.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new pe({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(q.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if($t(e))return e;{let n;for(n in Hs)if(Hs[n][t]===e)return n;return e}}_setCurve(e,t,n){if($t(n)&&Reflect.has(Hs,n)){const r=Hs[n];yn(r)?e!=="_decayCurve"&&(this[e]=r[t]):this[e]=r}else if(it(n)&&e!=="_decayCurve")this[e]=n;else throw new Error("Envelope: invalid curve: "+n)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let r=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/r;r=(1-o)/a}if(r<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,r,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,r,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let c=1;c<a.length;c++)if(a[c-1]<=o&&o<=a[c]){a=this._attackCurve.slice(c),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,r,t)}if(i&&this.sustain<1){const a=t*this.sustain,c=e+r;this.log("decay",c),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+c):this._sig.exponentialApproachValueAtTime(a,c,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,n,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,n,e):(W(it(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,n,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,n=1){return t=this.toSeconds(t),this.triggerAttack(t,n),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,n=0){return yo(this,e,t,n),this}asArray(){return Ae(this,arguments,void 0,function*(e=1024){const t=e/this.context.sampleRate,n=new Br(1,t,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=r+this.toSeconds(this.release),o=i*.1,a=i+o,c=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/a,decay:t*this.toSeconds(this.decay)/a,release:t*this.toSeconds(this.release)/a,context:n}));return c._sig.toDestination(),c.triggerAttackRelease(t*(r+o)/a,0),(yield n.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Ct([zt(0)],ot.prototype,"attack",void 0);Ct([zt(0)],ot.prototype,"decay",void 0);Ct([nl(0,1)],ot.prototype,"sustain",void 0);Ct([zt(0)],ot.prototype,"release",void 0);const Hs=(()=>{let e,t;const n=[];for(e=0;e<128;e++)n[e]=Math.sin(e/127*(Math.PI/2));const r=[],i=6.4;for(e=0;e<127;e++){t=e/127;const d=Math.sin(t*(Math.PI*2)*i-Math.PI/2)+1;r[e]=d/10+t*.83}r[127]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/127*a)/a;const c=[];for(e=0;e<128;e++)t=e/127,c[e]=.5*(1-Math.cos(Math.PI*t));const l=[];for(e=0;e<128;e++){t=e/127;const d=Math.pow(t,3)*4+.2,f=Math.cos(d*Math.PI*2*t);l[e]=Math.abs(f*(1-t))}function u(d){const f=new Array(d.length);for(let p=0;p<d.length;p++)f[p]=1-d[p];return f}function h(d){return d.slice(0).reverse()}return{bounce:{In:u(l),Out:l},cosine:{In:n,Out:h(n)},exponential:"exponential",linear:"linear",ripple:{In:r,Out:u(r)},sine:{In:c,Out:u(c)},step:{In:o,Out:u(o)}}})();class ln extends q{constructor(){const e=$(ln.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new rs({context:this.context,volume:e.volume}),this.volume=this._volume.volume,fe(this,"volume")}static getDefaults(){return Object.assign(q.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const n=this["_original_"+e]=this[e];this[e]=(...r)=>{const i=r[t],o=this.context.transport.schedule(a=>{r[t]=a,n.apply(this,r)},i);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,n,r){const i=this.toSeconds(n),o=this.toSeconds(t);return this.triggerAttack(e,i,r),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class xt extends ln{constructor(){const e=$(xt.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(ln.getDefaults(),{detune:0,onsilence:le,portamento:0})}triggerAttack(e,t,n=1){this.log("triggerAttack",e,t,n);const r=this.toSeconds(t);return this._triggerEnvelopeAttack(r,n),this.setNote(e,r),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const n=this.toSeconds(t),r=e instanceof rt?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,i,n)}else this.frequency.setValueAtTime(r,n);return this}}Ct([zt(0)],xt.prototype,"portamento",void 0);class Hr extends ot{constructor(){super($(Hr.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new me({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class D extends xt{constructor(){const e=$(D.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new cn(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Hr(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),fe(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(xt.getDefaults(),{envelope:Object.assign(_t(ot.getDefaults(),Object.keys(q.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(_t(cn.getDefaults(),[...Object.keys(Ve.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const n=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+n+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Ss extends xt{constructor(){const e=$(Ss.getDefaults(),arguments);super(e),this.name="ModulationSynth",this._carrier=new D({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new D({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new pe({context:this.context,units:"frequency"}),this.detune=new pe({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new Ut({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new me({context:this.context,gain:0}),fe(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(xt.getDefaults(),{harmonicity:3,oscillator:Object.assign(_t(cn.getDefaults(),[...Object.keys(Ve.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(_t(ot.getDefaults(),Object.keys(q.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(_t(cn.getDefaults(),[...Object.keys(Ve.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(_t(ot.getDefaults(),Object.keys(q.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,t){this._carrier._triggerEnvelopeAttack(e,t),this._modulator._triggerEnvelopeAttack(e,t)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class K extends Ss{constructor(){super($(K.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new tl({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class xr extends q{constructor(){const e=$(xr.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new ie({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new ie({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new ie({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new ie({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(q.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){W(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let o=0;o<e;o++){const c=Math.pow(o/e,2)*19980+20;t[o]=c}const n=new Float32Array(e),r=new Float32Array(e),i=this.context.createBiquadFilter();return i.type=this.type,i.Q.value=this.Q.value,i.frequency.value=this.frequency.value,i.gain.value=this.gain.value,i.getFrequencyResponse(t,n,r),n}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class nn extends q{constructor(){const e=$(nn.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new me({context:this.context}),this.output=new me({context:this.context}),this._filters=[],this._filters=[],this.Q=new pe({context:this.context,units:"positive",value:e.Q}),this.frequency=new pe({context:this.context,units:"frequency",value:e.frequency}),this.detune=new pe({context:this.context,units:"cents",value:e.detune}),this.gain=new pe({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,fe(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(q.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){W(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(n=>n.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const t=Vt(e)?e:parseInt(e,10),n=[-12,-24,-48,-96];let r=n.indexOf(t);W(r!==-1,`rolloff can only be ${n.join(", ")}`),r+=1,this._rolloff=t,this.input.disconnect(),this._filters.forEach(i=>i.disconnect()),this._filters=new Array(r);for(let i=0;i<r;i++){const o=new xr({context:this.context});o.type=this._type,this.frequency.connect(o.frequency),this.detune.connect(o.detune),this.Q.connect(o.Q),this.gain.connect(o.gain),this._filters[i]=o}this._internalChannels=this._filters,xs(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const t=new xr({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),n=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{t.getFrequencyResponse(e).forEach((i,o)=>n[o]*=i)}),t.dispose(),n}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),mo(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Sr extends ot{constructor(){const e=$(Sr.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="FrequencyEnvelope",this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new Vr({context:this.context,value:e.exponent}),this._scale=this.output=new Eo({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(ot.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const t=this.toFrequency(e);bt(t,0),this._baseFrequency=t,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Q extends xt{constructor(){const e=$(Q.getDefaults(),arguments);super(e),this.name="MonoSynth",this.oscillator=new cn(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new nn(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new Sr(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new Hr(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),fe(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(xt.getDefaults(),{envelope:Object.assign(_t(ot.getDefaults(),Object.keys(q.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(_t(nn.getDefaults(),Object.keys(q.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(_t(Sr.getDefaults(),Object.keys(q.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(_t(cn.getDefaults(),Object.keys(Ve.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,t=1){if(this.envelope.triggerAttack(e,t),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const n=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+n+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Z extends Ss{constructor(){const e=$(Z.getDefaults(),arguments);super(e),this.name="FMSynth",this.modulationIndex=new Ut({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(Ss.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}class Jr extends D{constructor(){const e=$(Jr.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,fe(this,["oscillator","envelope"])}static getDefaults(){return wn(xt.getDefaults(),D.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const n=this.toSeconds(t),r=this.toFrequency(e instanceof rt?e.toFrequency():e),i=r*this.octaves;return this.oscillator.frequency.setValueAtTime(i,n),this.oscillator.frequency.exponentialRampToValueAtTime(r,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Ct([nl(0)],Jr.prototype,"octaves",void 0);Ct([zt(0)],Jr.prototype,"pitchDecay",void 0);const sl=new Set;function Oo(s){sl.add(s)}function rl(s,e){const t=`registerProcessor("${s}", ${e})`;sl.add(t)}const yp=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Oo(yp);const wp=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Oo(wp);const bp=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Oo(bp);const xp="feedback-comb-filter",Sp=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;rl(xp,Sp);class Un extends ln{constructor(){const e=$(Un.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=r=>this.releaseAll(r),W(!Vt(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const t=e.voice.getDefaults();this.options=Object.assign(t,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const n=this._voices.indexOf(this._dummyVoice);this._voices.splice(n,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(ln.getDefaults(),{maxPolyphony:32,options:{},voice:D})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const t=this._activeVoices.findIndex(n=>n.voice===e);this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return W(e instanceof xt,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else Rr("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),t=this._voices.indexOf(e);this._voices.splice(t,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,t,n){e.forEach(r=>{const i=new wr(this.context,r).toMidi(),o=this._getNextAvailableVoice();o&&(o.triggerAttack(r,t,n),this._activeVoices.push({midi:i,voice:o,released:!1}),this.log("triggerAttack",r,t))})}_triggerRelease(e,t){e.forEach(n=>{const r=new wr(this.context,n).toMidi(),i=this._activeVoices.find(({midi:o,released:a})=>o===r&&!a);i&&(i.voice.triggerRelease(t),i.released=!0,this.log("triggerRelease",n,t))})}_scheduleEvent(e,t,n,r){W(!this.disposed,"Synth was already disposed"),n<=this.now()?e==="attack"?this._triggerAttack(t,n,r):this._triggerRelease(t,n):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,t,n,r)},n-this.now())}triggerAttack(e,t,n){Array.isArray(e)||(e=[e]);const r=this.toSeconds(t);return this._scheduleEvent("attack",e,r,n),this}triggerRelease(e,t){Array.isArray(e)||(e=[e]);const n=this.toSeconds(t);return this._scheduleEvent("release",e,n),this}triggerAttackRelease(e,t,n,r){const i=this.toSeconds(n);if(this.triggerAttack(e,i,r),it(t)){W(it(e),"If the duration is an array, the notes must also be an array"),e=e;for(let o=0;o<e.length;o++){const a=t[Math.min(o,t.length-1)],c=this.toSeconds(a);W(c>0,"The duration must be greater than 0"),this.triggerRelease(e[o],i+c)}}else{const o=this.toSeconds(t);W(o>0,"The duration must be greater than 0"),this.triggerRelease(e,i+o)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const t=_t(e,["onsilence","context"]);return this.options=wn(this.options,t),this._voices.forEach(n=>n.set(t)),this._dummyVoice.set(t),this}get(){return this._dummyVoice.get()}releaseAll(e){const t=this.toSeconds(e);return this._activeVoices.forEach(({voice:n})=>{n.triggerRelease(t)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Kr extends ln{constructor(){const e=$(Kr.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach(n=>{const r=parseInt(n,10);if(W(zs(n)||Vt(r)&&isFinite(r),`url key is neither a note or midi pitch: ${n}`),zs(n)){const i=new rt(this.context,n).toMidi();t[i]=e.urls[n]}else Vt(r)&&isFinite(r)&&(t[r]=e.urls[r])}),this._buffers=new To({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(ln.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:le,onerror:le,release:.1,urls:{}})}_findClosest(e){let n=0;for(;n<96;){if(this._buffers.has(e+n))return-n;if(this._buffers.has(e-n))return n;n++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,n=1){return this.log("triggerAttack",e,t,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const i=Qc(new rt(this.context,r).toFrequency()),o=Math.round(i),a=i-o,c=this._findClosest(o),l=o-c,u=this._buffers.get(l),h=Yc(c+a),d=new Is({url:u,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);d.start(t,0,u.duration/h,n),it(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(d),d.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const f=this._activeSources.get(o),p=f.indexOf(d);p!==-1&&f.splice(p,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(n=>{const r=new rt(this.context,n).toMidi();if(this._activeSources.has(r)&&this._activeSources.get(r).length){const i=this._activeSources.get(r);t=this.toSeconds(t),i.forEach(o=>{o.stop(t)}),this._activeSources.set(r,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(n=>{for(;n.length;)n.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,n,r=1){const i=this.toSeconds(n);return this.triggerAttack(e,i,r),it(t)?(W(it(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const c=t[Math.min(a,t.length-1)];this.triggerRelease(o,i+this.toSeconds(c))})):this.triggerRelease(e,i+this.toSeconds(t)),this}add(e,t,n){if(W(zs(e)||isFinite(e),`note must be a pitch or midi: ${e}`),zs(e)){const r=new rt(this.context,e).toMidi();this._buffers.add(r,t,n)}else this._buffers.add(e,t,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}Ct([zt(0)],Kr.prototype,"attack",void 0);Ct([zt(0)],Kr.prototype,"release",void 0);class Po extends q{constructor(){const e=$(Po.getDefaults(),arguments,["fade"]);super(e),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new vp({context:this.context}),this.a=new me({context:this.context,gain:0}),this.b=new me({context:this.context,gain:0}),this.output=new me({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new pe({context:this.context,units:"normalRange",value:e.fade}),fe(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",on(this._split,this.a.gain,0),on(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(q.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class _a extends q{constructor(e){super(e),this.name="Effect",this._dryWet=new Po({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new me({context:this.context}),this.effectReturn=new me({context:this.context}),this.input=new me({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],fe(this,"wet")}static getDefaults(){return Object.assign(q.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Mo extends q{constructor(){const e=$(Mo.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new ie({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",fe(this,"pan")}static getDefaults(){return Object.assign(q.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const Tp="bit-crusher",Cp=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;rl(Tp,Cp);class Do extends q{constructor(){const e=$(Do.getDefaults(),arguments,["channels"]);super(e),this.name="Merge",this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(q.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class No extends _a{constructor(){const e=$(No.getDefaults(),arguments,["decay"]);super(e),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve(),this._decay=e.decay,this._preDelay=e.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(_a.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){e=this.toSeconds(e),bt(e,.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){e=this.toSeconds(e),bt(e,0),this._preDelay=e,this.generate()}generate(){return Ae(this,void 0,void 0,function*(){const e=this.ready,t=new Br(2,this._decay+this._preDelay,this.context.sampleRate),n=new br({context:t}),r=new br({context:t}),i=new Do({context:t});n.connect(i,0,0),r.connect(i,0,1);const o=new me({context:t}).toDestination();i.connect(o),n.start(0),r.start(0),o.gain.setValueAtTime(0,0),o.gain.setValueAtTime(1,this._preDelay),o.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const a=t.render();return this.ready=a.then(le),yield e,this._convolver.buffer=(yield a).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class Pe extends q{constructor(){const e=$(Pe.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new me({context:this.context}),Pe._allSolos.has(this.context)||Pe._allSolos.set(this.context,new Set),Pe._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(q.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Pe._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Pe._soloed.has(this.context)||Pe._soloed.set(this.context,new Set),Pe._soloed.get(this.context).add(this)}_removeSolo(){Pe._soloed.has(this.context)&&Pe._soloed.get(this.context).delete(this)}_isSoloed(){return Pe._soloed.has(this.context)&&Pe._soloed.get(this.context).has(this)}_noSolos(){return!Pe._soloed.has(this.context)||Pe._soloed.has(this.context)&&Pe._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Pe._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Pe._allSolos=new Map;Pe._soloed=new Map;class Ro extends q{constructor(){const e=$(Ro.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Mo({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new rs({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,fe(this,["pan","volume"])}static getDefaults(){return Object.assign(q.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Wn extends q{constructor(){const e=$(Wn.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Pe({solo:e.solo,context:this.context}),this._panVol=this.output=new Ro({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),fe(this,["pan","volume"])}static getDefaults(){return Object.assign(q.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Wn.buses.has(e)||Wn.buses.set(e,new me({context:this.context})),Wn.buses.get(e)}send(e,t=0){const n=this._getBus(e),r=new me({context:this.context,units:"decibels",gain:t});return this.connect(r),r.connect(n),r}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Wn.buses=new Map;class Io extends q{constructor(){const e=$(Io.getDefaults(),arguments,["threshold","ratio"]);super(e),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor,this.threshold=new ie({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:e.threshold}),this.attack=new ie({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:e.attack}),this.release=new ie({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:e.release}),this.knee=new ie({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:e.knee}),this.ratio=new ie({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:e.ratio}),fe(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(q.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}vt().transport;vt().destination;vt().destination;vt().listener;vt().draw;vt();const kp=(s,e)=>{const t=k.useRef(new Set);k.useEffect(()=>{const n=setInterval(()=>{const a=document.querySelectorAll(".svgHoldSelected"),c=document.querySelector(".lineMoving4, .lineMoving7, .lineMoving10");a.length>0&&c&&(clearInterval(n),o())},10);let r;const i=()=>{const a=document.querySelectorAll(".svgHoldSelected"),c=document.querySelector(".lineMoving4, .lineMoving7, .lineMoving10");if(!c||a.length===0){cancelAnimationFrame(r);return}const l=c.getBoundingClientRect();for(const u of a){const h=u.id.replace("hold-","");if(t.current.has(h))continue;const d=u.getBoundingClientRect();if(l.y+l.height>=d.y&&l.y<=d.y+d.height&&(t.current.add(h),h===e)){s(),cancelAnimationFrame(r);return}}},o=()=>{i(),r=requestAnimationFrame(o)};return()=>{clearInterval(n),cancelAnimationFrame(r),t.current.clear()}},[s,e])},je=({fill:s,viewBox:e,d:t,note:n,SynthProp:r,active:i,id:o})=>{const[a,c]=k.useState(!1),l=async()=>{c(!a)};return k.useEffect(()=>{c(!!i)},[i]),kp(()=>{const h=new No(12).toDestination(),d=new Io({threshold:-18,ratio:4,attack:.01,release:.1}),f=1.5;if(r==D){const p=new Un(D,{oscillator:{type:"square"},envelope:{attack:.3,decay:2,sustain:.7,release:3}}).toDestination(),m=new nn({type:"highpass",frequency:400,rolloff:-12,Q:2}).toDestination();p.chain(m,h,d),p.volume.value=-11,p.triggerAttackRelease(n,"12n"),p.volume.rampTo(-1/0,f),setTimeout(()=>p.dispose(),f*1e3)}if(r==K){const p=new Un(D,{oscillator:{type:"triangle"},envelope:{attack:1,decay:2,sustain:.7,release:3}}).toDestination(),m=new nn({type:"highpass",frequency:400,rolloff:-12,Q:2}).toDestination();p.chain(m,h,d),p.volume.value=11,p.triggerAttackRelease(n,"12n"),p.volume.rampTo(-1/0,f),setTimeout(()=>p.dispose(),f*1e3)}if(r==Z){const p=new Un(D,{oscillator:{type:"sine"},envelope:{attack:1,decay:.5,sustain:.8,release:2}}).toDestination(),m=new nn({type:"lowpass",frequency:1200,rolloff:-24,Q:1.5}).toDestination();p.chain(m,h,d),p.volume.value=2,p.triggerAttackRelease(n,"12n"),p.volume.rampTo(-1/0,f),setTimeout(()=>p.dispose(),f*1e3)}if(r==Q){const p=new Un(D,{oscillator:{type:"sawtooth"},envelope:{attack:.2,decay:.2,sustain:.2,release:.5}}).toDestination(),m=new nn({type:"lowpass",frequency:600,rolloff:-12,Q:1}).toDestination();p.chain(m,h,d),p.volume.value=-9,p.triggerAttackRelease(n,"12n"),p.volume.rampTo(-1/0,f),setTimeout(()=>p.dispose(),f*1e3)}},o),v.jsx("svg",{viewBox:e,id:`hold-${o}`,onClick:l,className:`${a?"svgHoldSelected":"svgHoldNotSelected"}`,xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{fill:s,d:t})})},Be=({children:s,viewBox:e})=>{const t=/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);return v.jsx(v.Fragment,{children:v.jsx("svg",{className:t?" max-w-[80dvw] max-h-[4.5dvh]":" w-[45dvw] max-h-[5dvh]",viewBox:e,children:s})})},Ap=[{id:"18A",viewBox:"-2.67425 -11.8 242.5 24.57",SynthProp:Z,note:["C3","E3","G3","B3"],fill:"#313638",d:"M4.082-4.155c2.497-.014 4.877.712 7.298 1.587C15.098-1.327 16.749.228 16.723.638c-.022.677-1.712 1.735-2.968 2.019-2.221.574-4.084.35-6.016.371L.492 2.794c-2.214-.188-3.161-1.01-3.165-1.778-.036-1.475.708-2.357 2.194-3.554 1.724-1.263 3.006-1.5 4.559-1.618"},{id:"18B",viewBox:"-2.67425 -11.8 242.5 24.57",SynthProp:D,note:["C3","E3","G3","B3"],fill:"#e8ceb8",d:"M19.973-3.07c1.693-.417 1.807-.398 3.517-.607 4.39-.456 12.058-.063 12.845 1.693.73 1.378.747 1.099-.457 1.712-6.242 2.631-8.626 3.388-11.925 4.427-2.497.82-2.008.733-2.715-.871l-2.081-4.87c-.569-1.141-.599-1.126.816-1.484"},{id:"18C",viewBox:"-2.67425 -11.8 242.5 24.57",SynthProp:Z,note:["C3","E3","G3","B3"],fill:"#313638",d:"M43.667 1.023c-.111-4.534-.259-4.563 1.331-4.504 3.928.14 7.855.279 11.794.346 4.488 0 4.251-.43 4.546 1.295.473 2.689.45 2.516-.167 2.768-1.565.513-3.13 1.026-4.686 1.606-2.932 1.142-2.829 1.161-5.007 1.112l-6.385-.095c-1.377-.07-1.279-.126-1.426-2.528"},{id:"18D",viewBox:"-2.67425 -11.8 242.5 24.57",SynthProp:K,note:["C3","E3","G3","B3"],fill:"#e8e9eb",d:"M67.037-4.455c1.541-.752 2.62-1.367 4.973-1.668 2.589-.344 4.581-.299 6.976-.08 3.499.447 3.993 2.011 3.389 3.306C81.1.108 79.16 2.511 78.03 3.499c-2.079 1.78-3.022 2.175-4.34 2.18-2.655-.042-4.919-1.099-5.41-1.86-.697-1.066-1.581-4.52-1.807-5.55-.462-2.218-.758-2.027.564-2.724"},{id:"18E",viewBox:"-2.67425 -11.8 242.5 24.57",SynthProp:D,note:["C3","E3","G3","B3"],fill:"#e8ceb8",d:"M87.723-2.32c2.88-.318 5.868-.628 9.25-.661 1.976 0 3.684-.209 4.269 2.091.26 1.224-1.322 2.815-2.468 3.141-2.169.528-4.404.176-6.824-.251-2.143-.419-4.747-.879-5.751-1.432-1.306-.611-1.733-2.612 1.524-2.888"},{id:"18F",viewBox:"-2.67425 -11.8 242.5 24.57",SynthProp:Q,note:["C3","E3","G3","B3"],fill:"#ffe57f",d:"M116.408-3.42c1.654-.202 3.724-.095 4.442.001 1.32.189 1.204.351 1.416 1.294.146.838.181 1.405.189 1.998-.022.994.036 1.179-.947 1.398-1.337.376-3.396.6-4.362.686-1.393.122-1.373.194-1.433-.811A66 66 0 0 1 115.571-2c-.027-1.173-.086-1.3.837-1.42"},{id:"18G",viewBox:"-2.67425 -11.8 242.5 24.57",SynthProp:D,note:["C3","E3","G3","B3"],fill:"#e8ceb8",d:"M138.085-9.107c.986-1.082 1.717-1.689 3.254-2.409 1.633-.52 2.64-.465 4.032-.024 2.358.703 3.695 2.123 4.301 3.812.717 2.171-.027 4.473-1.021 6.131-1.309 2.176-2.902 3.627-4.437 4.477-1.681.831-2.849 1.008-5.276-.744-1.943-1.716-2.102-3.078-2.265-5.149-.106-3.167.142-4.387 1.402-6.084m5.073.324c-1.301.108-1.688.237-2.784.967-.924.752-1.128 1.15-.87 2.696.215 1.032.679 1.708 2.43 1.998 1.212.172 2.189.086 3.317-.29 1.128-.504 1.539-.72 1.689-1.751.054-.827-.118-1.708-.421-2.266-.731-1.15-1.266-1.44-3.361-1.354"},{id:"18H",viewBox:"-2.67425 -11.8 242.5 24.57",SynthProp:Z,note:["C3","E3","G3","B3"],fill:"#313638",d:"M158.933-3.27c1.694-.081 3.109-.081 5.045-.141 1.838-.074 2.19-.185 3.899-.25 1.461-.086 1.493-.064 1.493 1.408.051 1.249.126 2.474.213 3.685.11 1.374.099 1.363-1.437 1.256-3.105-.107-6.145-.183-9.12-.301-1.977-.064-2.106-.096-1.897-1.272.079-.412.203-.81.228-1.13.036-.724.036-1.379.057-1.991.086-1.182-.043-1.236 1.519-1.264"},{id:"18I",viewBox:"-2.67425 -11.8 242.5 24.57",SynthProp:K,note:["C3","E3","G3","B3"],fill:"#e8e9eb",d:"M180.825-4.244a97 97 0 0 1 4.416-.186c1.586-.025 3.138-.017 4.739.014 2.276.114 2.503.157 4.047.58 1.548.484 1.534.857.771 1.859-.605.863-1.379 1.664-2.153 2.382a7.4 7.4 0 0 1-2.597 1.672c-1.186.454-3.281.758-5.087.441-1.558-.276-2.151-.524-3.102-1.489-.772-.772-1.503-2.027-1.981-3.624-.363-1.243-.335-1.505.947-1.649"},{id:"18J",viewBox:"-2.67425 -11.8 242.5 24.57",SynthProp:D,note:["C3","E3","G3","B3"],fill:"#e8ceb8",d:"M206.18-2.619c1.371-.544 2.05-.741 3.789-.886 1.007-.042 2.017-.065 3.038.009 1.125.102 1.904.346 2.724.769.822.503 1.219 1.195 1.512 2.005.179.509.18 1.607-.577 2.358-1.004 1.025-2.261 1.754-3.652 2.391-1.71.672-2.127.511-3.261-.016-1.12-.546-1.886-1.069-2.477-1.677-.807-.821-1.814-2.108-2.025-2.712-.361-.907-.261-1.77.929-2.241"},{id:"18K",viewBox:"-2.67425 -11.8 242.5 24.57",SynthProp:Q,note:["C3","E3","G3","B3"],fill:"#ffe57f",d:"m227.02-2.41 7.006-.526c.648-.014.579.069.62.441.031.624.335 1.163.298 1.647-.034.423-1.558 2.209-2.521 3.255-.403.516-.753.467-1.126-.007-.69-.796-1.187-1.848-2.08-2.37a30 30 0 0 0-2.326-1.283c-.335-.146-.374-.435-.381-.806-.004-.282-.021-.316.51-.351"}],Ep=[{id:"17A",viewBox:"-2.2 6.5 242.5 24.57",SynthProp:Q,note:["G2","B2","D3","F3"],fill:"#ffe57f",d:"M4.282 16.914c1.295.14 2.515.131 4.293-.11.528-.079.592-.081.396.349-.894 1.972-1.775 3.946-2.715 5.917-.227.453-.338.502-.531-.025a224 224 0 0 1-1.872-5.747c-.122-.4-.022-.441.429-.384"},{id:"17B",viewBox:"-2.2 6.5 242.5 24.57",SynthProp:Z,note:["G2","B2","D3","F3"],fill:"#313638",d:"M23.2 18.11c1.08-2.782 4.762-3.351 7.976-3.217 2.897.105 2.942.638 2.919 2.303-.046 1.412-.046 2.77-.112 4.335-.068 1.335.007 1.162-1.103 1.005-2.864-.453-5.609-.933-8.553-1.434-1.377-.239-1.377-.246-1.348-1.499.016-.525.068-1.115.221-1.493"},{id:"17C",viewBox:"-2.2 6.5 242.5 24.57",SynthProp:D,note:["G2","B2","D3","F3"],fill:"#e8ceb8",d:"M44.949 19.675c2.986-2.729 6.322-4.536 8.778-5.571 1.485-.574 4.34-.457 3.427 1.244-1.265 2.225-2.782 4.606-5.234 8.02-1.136 1.597-1.527 1.801-2.974 1.042a46 46 0 0 1-4.253-2.406c-1.291-.852-1.035-1.196.256-2.329"},{id:"17D",viewBox:"-2.2 6.5 242.5 24.57",SynthProp:Q,note:["G2","B2","D3","F3"],fill:"#ffe57f",d:"M74.719 16.127c.121-.344.413-.702 1.148-.22.67.41 1.34.819 1.687 1.068.811.529.766.63.338 1.216-.375.497-.902 1.07-1.491 1.63-.54.512-1.591 1.328-2.436 1.662-.314.126-2.158.045-3.216-.094-.622-.082-.631-.44-.33-.627 1.52-.752 3.841-3.357 4.3-4.635"},{id:"17E",viewBox:"-2.2 6.5 242.5 24.57",SynthProp:K,note:["G2","B2","D3","F3"],fill:"#e8e9eb",d:"M89.601 19.05c2.033-1.712 3.312-2.772 5.726-4.374 1.744-1.12 2.913-1.539 5.359-1.973 1.334-.172 1.766-.114 2.479.494.494.438.965.858 1.492 1.343.779.755.699.707-.007 1.499a897 897 0 0 1-9.337 9.751c-1.242 1.239-1.614 1.253-2.527.22-1.101-1.297-2.147-2.718-3.121-4.083-1.085-1.567-1.217-1.883-.064-2.877"},{id:"17F",viewBox:"-2.2 6.5 242.5 24.57",SynthProp:K,note:["G2","B2","D3","F3"],fill:"#e8e9eb",d:"M115.618 14.937C118.538 14.758 121.469 14.853 124.376 14.971c.773.032.954.094.898.827-.088 1.063-.176 2.127-.264 3.191-.064.632-.643.762-1.32.973-3.2 1.068-6.108 2.061-8.732 3.764-.287.186-.638.247-.804-.402-.513-1.923-1.025-3.846-1.537-5.769-.455-1.655 1.532-2.542 3.001-2.617"},{id:"17G",viewBox:"-2.2 6.5 242.5 24.57",SynthProp:Z,note:["G2","B2","D3","F3"],fill:"#313638",d:"M136.001 16.202c5.174-.165 6.312-.218 13.001.215 1.451.1 1.392.462 1.189 1.539q-.138.731-.27 1.467c-.156.933-.38.95-.848 1.071-1.475.357-10.775.935-14.077.35-.945-.202-1.244-.266-1.096-1.185.162-.776.22-1.109.273-2.072.076-1.092.544-1.313 1.828-1.385"},{id:"17H",viewBox:"-2.2 6.5 242.5 24.57",SynthProp:Q,note:["G2","B2","D3","F3"],fill:"#ffe57f",d:"M161.784 17.421c2.239.176 4.11-1.044 4.759-1.372.572-.32.859-.376.504.524-.545 1.328-1.194 2.62-1.796 3.749-.586.997-2.034.205-3.179.336-.318.039-.432-.052-.375-.25.293-1.128.24-1.804-.136-2.585-.144-.324-.003-.414.223-.402"},{id:"17I",viewBox:"-2.2 6.5 242.5 24.57",SynthProp:D,note:["G2","B2","D3","F3"],fill:"#e8ceb8",d:"M180.982 17.271c1.398-1.847 2.389-2.692 4.028-3.546.853-.385 1.159-.422 2.093-.162 2.73.9 5.396 4.486 6.232 7.217.499 1.773-1.703 3.345-3.506 3.302-1.283-.061-2.735-.628-3.993-1.221-1.731-.876-3.444-2.141-4.445-3.288-.615-.691-.982-1.483-.409-2.302"},{id:"17J",viewBox:"-2.2 6.5 242.5 24.57",SynthProp:Z,note:["G2","B2","D3","F3"],fill:"#313638",d:"M203.245 15.266a6 6 0 0 1 1.227-.211c2.55-.164 6.234-.205 9.212-.058 1.544.103 2.522.678 1.737 1.677a161 161 0 0 1-4.834 5.806c-.789.897-2.316.96-3.044.181a83 83 0 0 1-5.06-5.933c-.494-.708-.607-1.03.762-1.462"},{id:"17K",viewBox:"-2.2 6.5 242.5 24.57",SynthProp:K,note:["G2","B2","D3","F3"],fill:"#e8e9eb",d:"M229.229 13.316c3.279 1.238 5.407 2.234 7.298 4.471.565.744.718 1.509.332 2.309-.91 1.761-1.833 2.643-3.171 3.963-.914.862-1.128.911-2.169-.186-1.678-1.716-3.324-3.454-4.971-5.177-.837-.913-.799-1.295-.422-2.047l1.487-2.8c.376-.781.435-.996 1.616-.533"}],Op=[{id:"16A",viewBox:"-1.12 24.8 242.5 24.57",SynthProp:Z,note:["D2","F2","A2","E3"],fill:"#313638",d:"M8.015 32.003c1.642 1.1 2.819 2.339 3.479 3.849.184.472.129.72-.146.949-1.874 1.62-3.817 3.2-5.837 4.812-.648.53-.717.605-1.204.431-.941-.394-1.532-.726-2.689-1.605-.253-.187-.311-.37-.076-.582 2.511-2.06 5.272-5.41 5.851-7.523.14-.512.147-.639.622-.331"},{id:"16B",viewBox:"-1.12 24.8 242.5 24.57",SynthProp:K,note:["D2","F2","A2","E3"],fill:"#e8e9eb",d:"M22.38 34.996c3.949.075 7.795.148 11.65.224.75.018.915-.006 1.005.443l.315 1.577c.164.949-.383 1.305-1.045 1.61-2.924 1.386-5.098 2.281-8.378 3.37-.544.199-.606.195-.895-.285-1.223-1.954-2.439-3.954-3.206-6.009-.305-.874-.098-.94.554-.93"},{id:"16C",viewBox:"-1.12 24.8 242.5 24.57",SynthProp:D,note:["D2","F2","A2","E3"],fill:"#e8ceb8",d:"M46.036 36.327c3.872-.06 7.701-.118 11.557-.172.774-.012.739.033.755.724.03 1.336.06 2.679.085 4.016.013.505-.017.526-.506.549-3.856.112-7.536.108-11.355.011-.654-.016-.787-.137-.844-.665a653 653 0 0 1-.293-3.726c-.032-.612-.061-.727.601-.737"},{id:"16D",viewBox:"-1.12 24.8 242.5 24.57",SynthProp:Q,note:["D2","F2","A2","E3"],fill:"#ffe57f",d:"M71.205 35.304c1.806-.257 3.632.201 4.633.78.723.426.788 1.047.799 1.844-.017 1.397-.178 2.388-.554 3.303-.209.46-.657.668-1.11.725-.356.043-.733.071-1.102.086-.442.004-.483-.067-.638-.294a56 56 0 0 1-2.625-4.776c-.395-.884-.199-1.565.597-1.668"},{id:"16E",viewBox:"-1.12 24.8 242.5 24.57",SynthProp:D,note:["D2","F2","A2","E3"],fill:"#e8ceb8",d:"M88.846 35.464c3.963-1.084 6.542-1.609 10.399-1.487 1.536.107 2.412.919 2.804 1.747.67 1.443.465 3.234.09 4.242-.548 1.194-1.158 1.632-2.447 2.067-1.56.424-3.057.177-4.995-.246-2.239-.566-3.897-1.278-5.535-2.235-.729-.456-1.453-.885-1.675-1.714-.256-1.097-.119-1.941 1.359-2.374"},{id:"16F",viewBox:"-1.12 24.8 242.5 24.57",SynthProp:K,note:["D2","F2","A2","E3"],fill:"#e8e9eb",d:"M112.646 38.141c1.809-1.536 3.503-2.939 4.587-3.795 1.349-1.11 2.566-.737 3.58.283 2.21 2.264 3.789 4.333 4.96 6.758.453 1.006-.045.95-.897.743q-5.981-1.625-11.965-3.244c-.715-.187-.712-.361-.265-.745"},{id:"16G",viewBox:"-1.12 24.8 242.5 24.57",SynthProp:D,note:["D2","F2","A2","E3"],fill:"#e8ceb8",d:"M136.066 35.974c2.235-.529 5.486-.302 7.932-.183 3.016.113 5.907.219 8.77.338 1.403.053 1.628.236 1.817 1.226.424 2.54-.002 2.967-.724 3.784-.526.53-.618.48-1.225.276-3.849-1.193-5.931-1.136-9.644-.545-1.084.2-1.876.257-2.981.023-1.661-.39-3.352-1.028-4.987-1.654-1.274-.451-1.364-.993-.888-1.898.365-.713 1-1.105 1.93-1.367"},{id:"16H",viewBox:"-1.12 24.8 242.5 24.57",SynthProp:K,note:["D2","F2","A2","E3"],fill:"#e8e9eb",d:"M160.956 31.11c1.807.326 3.25.679 5.063 1.241.932.305 1.469.863 1.464 1.688l.149 6.974c.027 1.095-.959 1.409-1.896 1.406a15 15 0 0 1-2.425-.251c-2.76-.532-4.915-6.961-4.906-9.128.04-1.725.347-2.338 2.551-1.93"},{id:"16I",viewBox:"-1.12 24.8 242.5 24.57",SynthProp:Z,note:["D2","F2","A2","E3"],fill:"#313638",d:"M180.464 34.59c4.378-.005 9.246.205 12.136 1.201.76.276 1.106.63.911 1.629l-.515 3.419c-.114.731-.326.678-1.159.738l-10.128.702c-.855.079-.841-.038-1.177-1.041-.323-1.061-.642-2.105-.954-3.164-.462-1.613-.77-3.523.886-3.484"},{id:"16J",viewBox:"-1.12 24.8 242.5 24.57",SynthProp:Q,note:["D2","F2","A2","E3"],fill:"#ffe57f",d:"M205.876 36.073c2.162-.433 5.054-.414 6.53.066.749.255.999.341.763.989-.441 1.197-1.382 2.252-2.119 2.599-1.291.556-2.852.658-3.917.088-1.204-.734-1.923-1.991-2.104-2.924-.114-.67-.003-.624.847-.818"},{id:"16K",viewBox:"-1.12 24.8 242.5 24.57",SynthProp:D,note:["D2","F2","A2","E3"],fill:"#e8ceb8",d:"M228.995 34.512c3.296-.179 5.888.718 8.069 1.948 1.106.636.694 1.518-.084 2.195a29.4 29.4 0 0 1-4.458 3.102c-.939.515-2.137.475-3.02-.324-1.26-1.255-2.219-3.054-2.277-4.438 0-1.359.423-2.362 1.77-2.483"}],Pp=[{id:"15A",viewBox:"0 43.1 242.5 24.57",SynthProp:D,note:["E2","G2","B2","D3"],fill:"#e8ceb8",d:"M-3.339 58.371c3.726-1.608 4.141-1.073 5.531-1.798 4.431-3.345 6.358-4.003 8.516-5.794 1.746-1.563 3.121-1.79 3.086-.211-.063 2.852-1.068 6.673-2.571 9.09-1.181 1.726-2.618 2.444-5.325 2.389-4.199-.151-7.988-.376-9.871-1.17-1.084-.512-.862-1.932.634-2.506"},{id:"15B",viewBox:"0 43.1 242.5 24.57",SynthProp:Q,note:["E2","G2","B2","D3"],fill:"#ffe57f",d:"M25.944 55.113c2.432-.338 3.113-.316 5.925.114.429.08.33.381.272.662-.201.911-.525 2.173-.83 2.472-.77.781-3.923.013-4.347-.29-.517-.353-1.114-1.211-1.467-2.176-.211-.516-.214-.655.447-.782"},{id:"15C",viewBox:"0 43.1 242.5 24.57",SynthProp:D,note:["E2","G2","B2","D3"],fill:"#e8ceb8",d:"M46.9 59.092c-.694-.802-.304-.944.7-1.822 3.066-2.508 4.789-3.868 9.123-6.993.72-.541.91-.246 1.444.259a17 17 0 0 1 1.52 1.679c.479.569.55.726.303.975-1.727 1.758-5.788 5.6-8.844 8.073-.809.613-1.177.723-1.806.158-.867-.711-1.679-1.459-2.44-2.329"},{id:"15D",viewBox:"0 43.1 242.5 24.57",SynthProp:Z,note:["E2","G2","B2","D3"],fill:"#313638",d:"M70.976 52.85c4.394-.312 11.078.753 15.661 1.593 1.92.369 1.993.946.229 1.757-3.261 1.442-14.505 6.29-19.502 8.148-.704.257-1.454.497-1.426-.737.169-3.796.76-6.521 1.6-8.794.49-1.358 2.02-1.898 3.438-1.967"},{id:"15E",viewBox:"0 43.1 242.5 24.57",SynthProp:D,note:["E2","G2","B2","D3"],fill:"#e8ceb8",d:"M96.98 53.115c.813-.203 1.893-.123 2.381.199.856.475 1.481 1.348 1.924 2.169.435 1.001.166 1.643-.315 2.54-.354.595-1.464 1.931-3.053 2.945-1.146.721-2.675.59-3.97.2-3.434-1.127-2.202-4.339-.686-5.927 1.002-.94 2.013-1.741 3.719-2.126"},{id:"15F",viewBox:"0 43.1 242.5 24.57",SynthProp:D,note:["E2","G2","B2","D3"],fill:"#e8ceb8",d:"M110.869 60.417c3.226-3.222 7.146-6.933 10.694-9.783 1.105-.815 1.947-1.005 3.239-.262a19.1 19.1 0 0 1 4.816 4.056c.537.659.55 1.554-.259 2.216-3.005 2.402-8.716 5.734-13.665 8.359-.983.501-1.402.556-2.401.223-1.526-.592-2.962-1.575-3.074-3.186-.01-.574.112-1.054.65-1.623"},{id:"15G",viewBox:"0 43.1 242.5 24.57",SynthProp:Z,note:["E2","G2","B2","D3"],fill:"#313638",d:"M137.276 55.833c3.032-1.182 6.838-1.534 10.642-1.197.769.069.881.131.868.709l.048 6.239c.004.339-.028.289-.257.265l-12.734-1.756c-.402-.055-.472-.025-.48-.371-.012-.739-.014-1.476-.016-2.225-.004-.704 1.004-1.272 1.929-1.664"},{id:"15H",viewBox:"0 43.1 242.5 24.57",SynthProp:D,note:["E2","G2","B2","D3"],fill:"#e8ceb8",d:"M161.366 52.837c-.088 2.908-.081 5.36-.295 7.839-.235 2.221 4.479 3.679 5.725.64 2.057-4.663.573-8.891-.533-9.927-1.334-1.286-4.879-.252-4.897 1.448"},{id:"15I",viewBox:"0 43.1 242.5 24.57",SynthProp:Z,note:["E2","G2","B2","D3"],fill:"#313638",d:"M182.75 51.645c6.79-.111 13.071.271 14.699 1.267 1.281.722 1.407 1.167.757 2.304-3.225 6.038-10.939 9.697-15.982 9.657-.996.036-1.064.069-1.054-.64l.019-10.592c-.035-1.168.635-1.987 1.561-1.996"},{id:"15J",viewBox:"0 43.1 242.5 24.57",SynthProp:D,note:["E2","G2","B2","D3"],fill:"#e8ceb8",d:"M207.451 50.009c2.059 1.04 7.11 5.188 10.247 8.411.759.742 1.02 1.573.099 2.138-11.165 6.574-20.954-3.432-12.898-10.094 1.109-.936 1.549-.95 2.552-.455"},{id:"15K",viewBox:"0 43.1 242.5 24.57",SynthProp:K,note:["E2","G2","B2","D3"],fill:"#e8e9eb",d:"M229.436 51.856c-.045-.592.099-.558.532-.381 2.518 1.055 5.751 3.603 7.192 5.242 1.94 2.384-3.207 5.399-5.223 3.121-1.517-1.695-2.288-4.713-2.501-7.982"}],Mp=[{id:"14A",viewBox:"-0.8076 61.4 242.5 24.57",SynthProp:K,note:["F2","A2","C3","E3"],fill:"#e8e9eb",d:"M-.136 79.115c-.188-1.44-.383-2.9-.572-4.33-1.269-7.785 9.968-4.186 12.225.255 1.185 2.593-.266 3.568-2.446 3.971-2.942.532-5.389.835-8.372.945-.831.028-.696-.008-.835-.841"},{id:"14B",viewBox:"-0.8076 61.4 242.5 24.57",SynthProp:D,note:["F2","A2","C3","E3"],fill:"#e8ceb8",d:"M22.48 75.468c-.113-.474.057-.842.827-1.029l8.364-1.635c1.306-.238 1.807.039 2.13 1.065l1.064 3.175c.334 1.035-.17 1.161-.945 1.317-3.822.703-6.345 1.06-9.891 1.42-.497.056-.534-.045-.684-.665-.285-1.217-.57-2.433-.865-3.648"},{id:"14C",viewBox:"-0.8076 61.4 242.5 24.57",SynthProp:D,note:["F2","A2","C3","E3"],fill:"#e8ceb8",d:"M44.378 80.236c-.783-.98-.827-1.269-.316-2.117 2.571-3.649 5.947-6.203 8.501-7.48 1.247-.631 1.581-.495 2.95.162 1.292.734 2.128 1.497 2.576 2.121.778 1.118.34 1.535-.536 2.37-2.514 2.339-5.283 4.885-7.713 6.789-.958.746-1.433.811-2.252.497-1.387-.605-2.414-1.38-3.21-2.342"},{id:"14D",viewBox:"-0.8076 61.4 242.5 24.57",SynthProp:D,note:["F2","A2","C3","E3"],fill:"#e8ceb8",d:"M73.371 72.287c-2.862-2.427-7.269.205-4.097 3.445 1.457 1.566 3.741 3.788 6.336 4.53 1.57.402 3.968-1.294 2.946-2.722-1.349-1.896-3.428-3.898-5.185-5.253"},{id:"14E",viewBox:"-0.8076 61.4 242.5 24.57",SynthProp:Q,note:["F2","A2","C3","E3"],fill:"#ffe57f",d:"M98.467 69.116c.395-.997 1.562-.772 1.473-.021-.49 3.694-.74 8.635-1.543 9.747-.552.713-1.243.749-2.841.488-1.348-.238-2.78-.877-3.821-1.618-.689-.516-1.054-.752-.507-1.454.96-1.128 1.051-.957 4.963-3.765 1.928-1.386 1.929-2.53 2.276-3.377"},{id:"14F",viewBox:"-0.8076 61.4 242.5 24.57",SynthProp:D,note:["F2","A2","C3","E3"],fill:"#e8ceb8",d:"M110.394 72.375c-.53-.617-.594-1.335.137-1.833q1.148-.809 2.293-1.62c.622-.454.823-.394 1.425-.074 4.307 2.308 8.204 5.679 12.681 8.988 1.098.832.983 1.422.261 2.096-1.064 1.033-2.239 1.877-3.389 2.595-.722.423-1.369.51-2.116-.051-2.235-1.747-8.279-6.686-11.292-10.101"},{id:"14G",viewBox:"-0.8076 61.4 242.5 24.57",SynthProp:D,note:["F2","A2","C3","E3"],fill:"#e8ceb8",d:"M138.522 73.004c1.357-.178 2.589-.208 4.181-.126 1.068.064 2.866.239 3.593 3.045.347 1.164-.08 1.979-1.379 3.269-1.127 1.02-1.399 1.176-2.921.664-2.246-.876-3.477-1.902-4.651-3.514-1.224-1.75-1.286-3.064 1.177-3.338"},{id:"14H",viewBox:"-0.8076 61.4 242.5 24.57",SynthProp:Q,note:["F2","A2","C3","E3"],fill:"#ffe57f",d:"M160.58 73.283c2.111.62 5.463.496 8.22.248 1.39-.099 1.542 1.747.958 2.429-1.42 1.61-3.743 2.514-5.299 3.109-.829.331-1.111.246-1.63-.295a35.3 35.3 0 0 1-4.099-4.811c-.316-.434 1.082-.856 1.85-.68"},{id:"14I",viewBox:"-0.8076 61.4 242.5 24.57",SynthProp:D,note:["F2","A2","C3","E3"],fill:"#e8ceb8",d:"M190.275 73.914c1.25-.102 1.324 3.572.883 5.094-.143.498-.237.551-.944.408-3.764-.774-8.295-1.7-8.41-1.73-6.468-1.357-7.71-1.502-.209-2.608a138 138 0 0 1 8.68-1.164"},{id:"14J",viewBox:"-0.8076 61.4 242.5 24.57",SynthProp:K,note:["F2","A2","C3","E3"],fill:"#e8e9eb",d:"M203.761 74.353c-.008-.2.037-.203.283-.205 2.847.018 5.638.028 11.963.108.234.003.291.002.283.234-.011.949-.024 1.894-.031 2.415.002.611-.128.812-.701.905-3.802.651-8.221 1.855-11.405 1.953-.195.004-.268-.04-.273-.274Z"},{id:"14K",viewBox:"-0.8076 61.4 242.5 24.57",SynthProp:D,note:["F2","A2","C3","E3"],fill:"#e8ceb8",d:"M225.238 72.766c-.548-.485-.416-.605.074-.854 1.852-.876 3.856-1.08 4.897-.896 1.493.24 6.571 4.628 7.893 6.785.254.48.392.783-.11 1.156q-1.197.833-2.391 1.669c-.287.186-.499.285-1.088-.215-3.105-2.549-6.185-5.1-9.275-7.645"}],Dp=[{id:"13A",viewBox:"-1 79.7 242.5 24.57",SynthProp:D,note:["G2","B2","D3"],fill:"#e8ceb8",d:"M-1.814 92.993c3.243.033 7.805-.151 9.729.098 1.449.196 3.406 3.091 1.121 3.477-1.196.151-8.524.322-11.661-.037-2.962-.374-1.179-3.498.811-3.538"},{id:"13B",viewBox:"-1 79.7 242.5 24.57",SynthProp:D,note:["G2","B2","D3"],fill:"#e8ceb8",d:"M23.734 95.957c2.413-2.298 4.146-2.818 5.338-4.579 2.146-2.803 6.296 1.836 4.562 3.646-.381.41-1.783.468-4.186 2.088-.544.313-1.915 2.123-3.469 2.111-2.469-.04-3.333-2.106-2.245-3.266"},{id:"13C",viewBox:"-1 79.7 242.5 24.57",SynthProp:Z,note:["G2","B2","D3"],fill:"#313638",d:"M42.459 93.136c.003-.338-.007-.338.333-.356 6.157-.259 9.523-.537 14.47-.959.464-.044.437.014.514.255l.997 3.412c.086.268.065.314-.047.376-4.316 2.313-8.609 4.638-12.901 6.962-.307.17-.305.121-.454-.273-.877-2.412-2.914-8.437-2.912-9.417"},{id:"13D",viewBox:"-1 79.7 242.5 24.57",SynthProp:Q,note:["G2","B2","D3"],fill:"#ffe57f",d:"M68.431 96.149c1.854-1.182 3.681-2.294 5.742-3.385l1.377-.732c.191-.099.424-.218.384.081-.228 1.619.142 2.869.311 4.103l.107.794c.031.211-.017.258-.283.364-.64.245-.962.406-1.608.321-1.679-.248-3.631-.151-5.553-.237-.744-.036-.878-.999-.477-1.309"},{id:"13E",viewBox:"-1 79.7 242.5 24.57",SynthProp:D,note:["G2","B2","D3"],fill:"#e8ceb8",d:"M91.96 93.287c-.872.132-1.394 1.01-1.415 2.363.021 1.557.318 2.238 1.46 2.296 3.616.086 6.436.105 10.158-.13 1.394-.107 1.365-.567 1.428-2.265.025-1.656-.016-2.151-1.403-2.338-2.635-.341-7.197-.334-10.228.074"},{id:"13F",viewBox:"-1 79.7 242.5 24.57",SynthProp:D,note:["G2","B2","D3"],fill:"#e8ceb8",d:"M114.9 92.939c.417-1.388.739-1.665 2.242-1.492 2.443.29 4.633 1.592 6.439 3.071 1.065.826 1.368 1.553.481 2.547-1.15 1.337-4.215 2.058-6.979 1.883-.668-.035-1.163-.245-1.418-.872-.828-2.031-1.172-3.42-.765-5.137"},{id:"13G",viewBox:"-1 79.7 242.5 24.57",SynthProp:D,note:["G2","B2","D3"],fill:"#e8ceb8",d:"M134.007 91.398c5.051-.315 10.396-.399 16.082-.079.655.042.598.186.577.676l-.279 5.447c-.035.748-.18.746-.954.835-5.126.39-9.453.335-14.444-.029-1.292-.098-1.458-.407-1.459-1.164.026-1.679.065-3.366.105-5.048.016-.589-.009-.613.372-.638"},{id:"13H",viewBox:"-1 79.7 242.5 24.57",SynthProp:D,note:["G2","B2","D3"],fill:"#e8ceb8",d:"M159.397 90.742c.611-.564 1.276-.737 2.118-.478 4.358 1.422 7.572 4.262 9.431 7.641.499.972.081 1.166-.57 1.772-1.006.848-1.155.866-2.446.524-3.08-.832-7.371-4.046-9.233-7.721-.22-.465-.043-.992.7-1.738"},{id:"13I",viewBox:"-1 79.7 242.5 24.57",SynthProp:K,note:["G2","B2","D3"],fill:"#e8e9eb",d:"M176.137 91.718c6.157-.375 12.217-.338 17.253-.144.65.033.654.182.618.795-.121 2.576-.183 5.183-.395 7.688-.191 1.692-1.812 1.973-3.104 1.491-3.825-1.433-6.736-3.028-9.879-4.722-2.104-1.261-4.839-2.667-5.049-4.552-.045-.395-.074-.502.556-.556"},{id:"13J",viewBox:"-1 79.7 242.5 24.57",SynthProp:D,note:["G2","B2","D3"],fill:"#e8ceb8",d:"M212.745 92.32c2.834.403 3.417 2.954 2.866 3.676-.756.985-2.693 1.99-4.521 2.571-1.689.523-2.014.335-3.137-.36-1.564-1.022-2.583-2.388-3.328-3.831-.606-1.233 1.888-2.065 2.845-2.167 1.917-.209 3.4-.119 5.275.111"},{id:"13K",viewBox:"-1 79.7 242.5 24.57",SynthProp:Q,note:["G2","B2","D3"],fill:"#ffe57f",d:"M231.365 93.43c-.678-.109-.977.123-1.208.696a54 54 0 0 1-.767 2.011c-.126.315-.058.624.838.618 1.909.001 3.497-.115 5.263-.235.462-.033.452-.183.45-.575v-1.876c-.002-.339.032-.528-.369-.512-1.581.077-3.203.052-4.207-.127"}],Np=[{id:"12A",viewBox:"-1 98 242.5 24.57",SynthProp:Q,note:["D2","F#2","A2","C3"],fill:"#ffe57f",d:"M2.504 111.268c-.002-.622.059-.939.671-1.026 1.654-.216 2.792-.227 3.98-.068 1.058.124 1.146.44 1.201 1.23.063 1.093.132 2.182.203 3.275.038.607-.009.746-.748.675l-4.651-.511c-.593-.072-.628-.264-.636-.87q-.008-1.351-.02-2.705"},{id:"12B",viewBox:"-1 98 242.5 24.57",SynthProp:D,note:["D2","F#2","A2","C3"],fill:"#e8ceb8",d:"M21.977 115.057c.714-1.19 4.848-4.41 7.268-6.161 1.899-1.317 5.487-.603 5.567 2.448.011 1.466-3.299 2.626-7.984 5.681-2.116 1.278-6.051-.291-4.851-1.968"},{id:"12C",viewBox:"-1 98 242.5 24.57",SynthProp:K,note:["D2","F#2","A2","C3"],fill:"#e8e9eb",d:"M45.082 112.721c1.375-.599 3.345-1.508 5.314-2.418 1.065-.488 1.505-.367 2.383.069l5.051 2.476c.383.192.392.305 0 .487-1.86.863-3.625 1.78-5.592 2.558-1.958.685-2.231.655-3.593.412-7.742-1.517-7.446-1.737-3.563-3.584"},{id:"12D",viewBox:"-1 98 242.5 24.57",SynthProp:D,note:["D2","F#2","A2","C3"],fill:"#e8ceb8",d:"m81.975 110.759c-4.606-.642-9.867-.556-15.011.101-2.347.283-2.156 5.654-.2 5.753 5.703.371 14.58-.171 15.172-.235 1.724-.152 1.688-5.424.039-5.619"},{id:"12E",viewBox:"-1 98 242.5 24.57",SynthProp:K,note:["D2","F#2","A2","C3"],fill:"#e8e9eb",d:"m92.83 114.615 5.93-6.139c.463-.491.891-.355 1.308-.05l2.851 1.945c.305.208.369.323.067.47-2.999 1.392-6.771 3.739-7.748 7.598-.094.386-.159.256-.336.067l-2.12-2.37c-.518-.564-.63-.849.048-1.521"},{id:"12F",viewBox:"-1 98 242.5 24.57",SynthProp:D,note:["D2","F#2","A2","C3"],fill:"#e8ceb8",d:"M115.539 111.017c-.044-2.214 1.513-3.251 3.809-3.293 2.396.034 3.857 1.139 3.873 3.271.036 1.302.043 2.568.035 4.025-.022 2.957-2.452 4.138-3.801 4.131-2.18-.062-3.838-.93-3.894-4.175Z"},{id:"12G",viewBox:"-1 98 242.5 24.57",SynthProp:D,note:["D2","F#2","A2","C3"],fill:"#e8ceb8",d:"M137.809 110.031c.439-1.54 1.524-1.627 3.25-1.173 3.27 1.056 5.126 2.951 6.285 5.006.933 1.68.293 1.941-.84 2.829-2.698 1.984-7.044 1.496-8.935.793-1.213-.465-1.172-1.237-.974-2.516.284-1.739.755-3.309 1.214-4.939"},{id:"12H",viewBox:"-1 98 242.5 24.57",SynthProp:K,note:["D2","F#2","A2","C3"],fill:"#e8e9eb",d:"M154.517 112.386c-.497-.356-.581-.505-.102-.923 1.98-1.698 4.411-3.591 9.549-3.875 4.722-.085 6.955 1.216 8.913 3.598.452.63.35.793-.129 1.076-3.076 1.843-6.153 3.686-9.22 5.559-.574.347-.597.281-1.156-.074a910 910 0 0 0-7.855-5.361"},{id:"12I",viewBox:"-1 98 242.5 24.57",SynthProp:D,note:["D2","F#2","A2","C3"],fill:"#e8ceb8",d:"M181.705 107.064c-.177-.791.331-1.1 1.067-.648 2.836 1.769 4.336 2.896 5.891 4.34.325.313 2.487 1.57 6.106 2.457 1.253.275 1.192 1.102.963 1.527-.474.862-4.013 1.171-6.049 1.206-4.549-.042-6.61-2.132-7.017-4.198-.262-1.561-.64-3.121-.961-4.684"},{id:"12J",viewBox:"-1 98 242.5 24.57",SynthProp:D,note:["D2","F#2","A2","C3"],fill:"#e8ceb8",d:"M216.293 110.797c1.847.342 1.569 1.161.819 2.052-3.372 3.795-8.058 5.808-12.054 1.675-1.198-1.408-1.311-2.592-1.298-3.203.033-.665.311-.688 1.16-.911 3.807-.837 7.275-.377 11.373.387"},{id:"12K",viewBox:"-1 98 242.5 24.57",SynthProp:D,note:["D2","F#2","A2","C3"],fill:"#e8ceb8",d:"M229.629 110.568c.352-.568.538-.918 1.374-.832 2.436.282 4.502 1.653 4.903 3.371.248 1.415-.554 2.241-1.474 2.748-1.489.692-2.536.34-3.506-.082-1.668-.785-2.419-2.007-1.897-3.773.162-.538.393-1.09.6-1.432"}],Rp=[{id:"11A",viewBox:"0 116.3 242.5 24.57",SynthProp:D,note:["A2","C3","E3","G3"],fill:"#e8ceb8",d:"M-2.958 131.598c-.337.132-.32.287-.055.549 1.329 1.242 3.555 2.605 6.028 3.31.907.243 2.143.671 2.852-.706.53-1.06 3.398-4.151 5.528-5.49.569-.371.282-.87-.197-1.238-.873-.721-1.791-1.177-3.002-1.553-.776-.248-1.146-.199-1.87.362-1.926 1.603-5.773 3.332-9.284 4.766"},{id:"11B",viewBox:"0 116.3 242.5 24.57",SynthProp:Z,note:["A2","C3","E3","G3"],fill:"#313638",d:"M19.631 130.664c.212-.773.609-1.288 1.533-1.55 1.744-.577 11.149-1.576 16.246-.074.573.169.627.341.681.956.063.84.042 1.702.035 2.855.002.192-.04.203-.339.251-4.305.706-12.324.709-16.523.308a4 4 0 0 1-1.347-.352c-.309-.129-.397-.326-.396-.719 0-.57-.014-1.174.11-1.675"},{id:"11C",viewBox:"0 116.3 242.5 24.57",SynthProp:D,note:["A2","C3","E3","G3"],fill:"#e8ceb8",d:"M52.391 127.266c1.18-.598 1.153-.386 2.192.762 1.041 1.242 1.041 1.542.198 2.359-1.933 1.847-3.89 3.926-5.801 5.553-.654.519-1.816-.562-2.514-1.617-1.438-2.262-1.503-2.831.277-3.875z"},{id:"11D",viewBox:"0 116.3 242.5 24.57",SynthProp:D,note:["A2","C3","E3","G3"],fill:"#e8ceb8",d:"M68.321 129.703c-.148-.37-.264-.513.279-.648 3.501-.812 7.055-.494 10.396.153 1.083.199 1.981.782 2.048 1.379.041.444-.135.514-.581.646l-9.536 2.53c-.703.18-.961-.124-1.238-.778z"},{id:"11E",viewBox:"0 116.3 242.5 24.57",SynthProp:Z,note:["A2","C3","E3","G3"],fill:"#313638",d:"M88.833 127.193c-.202-.487-.237-.599.127-.856a45 45 0 0 1 2.765-1.729c.34-.2.432-.139.804.027 4.436 2.127 9.397 5.441 13.652 8.619.349.257.256.297-.174.659-3.973 3.246-7.177 5.718-11.058 6.05-.482.048-.528.087-.744-.366a448 448 0 0 1-5.372-12.404"},{id:"11F",viewBox:"0 116.3 242.5 24.57",SynthProp:D,note:["A2","C3","E3","G3"],fill:"#e8ceb8",d:"M114.898 128.102c-.227-.888.273-1.483 1.713-1.155 2.231.591 4.203 1.311 6.165 2.105 1.871.759 2.433 2.139 1.611 3.271-1.333 1.723-2.526 2.456-4.855 2.826-1.295.202-2.223-.803-2.572-1.579a33 33 0 0 1-2.062-5.468"},{id:"11G",viewBox:"0 116.3 242.5 24.57",SynthProp:Q,note:["A2","C3","E3","G3"],fill:"#ffe57f",d:"M140.567 133.97c-1.52-1.331-2.785-3.248-3.744-5.054-.461-1.028-1.99-.125-1.287-2.019.378-1.02.98-2.129 2.312-1.789.203.058.311.069.258.203-.108.276-.246 1.21.025 1.706 1.237 2.25 3.74 2.119 8.483 1.978.412-.001.793.768.68.883-.959 1.006-3.468 3.01-5.314 4.389-.581.413-.961.066-1.413-.297"},{id:"11H",viewBox:"0 116.3 242.5 24.57",SynthProp:D,note:["A2","C3","E3","G3"],fill:"#e8ceb8",d:"M159.354 132.21c.785-.767 3.62-3.404 4.647-4.209 1.904-1.48 1.952-1.522 3.576-.028 1.455 1.396 1.404 1.44-.573 3.027-1.028.859-3.826 2.743-5.257 3.654-1.049.625-1.086.821-2.259-.189-1.272-1.206-1.089-1.265-.134-2.255"},{id:"11I",viewBox:"0 116.3 242.5 24.57",SynthProp:D,note:["A2","C3","E3","G3"],fill:"#e8ceb8",d:"M188.028 126.936c-1.769-1.298-3.372-1.35-4.878-.298-2.053 1.609-1.442 3.103.828 4.876 2.488 1.958 3.963 2.803 5.966 3.458 1.579.476 2.381.488 3.405-.332.927-.824 1.238-1.237-.114-2.886a40.6 40.6 0 0 0-5.207-4.818"},{id:"11J",viewBox:"0 116.3 242.5 24.57",SynthProp:D,note:["A2","C3","E3","G3"],fill:"#e8ceb8",d:"M205.282 130.551c.437-1.557.75-1.599 2.731-1.53 4.74.1 3.201-.449 9.623-1.45 1.465-.256 1.724.138 1.436 1.435-.429 1.892-.923 3.268-2.236 5.2-.633.856-.841.727-2.219.315-3.084-.873-5.766-.826-8.556-.811-1.141-.004-1.486-.71-1.269-1.461.164-.566.326-1.126.49-1.698"},{id:"11K",viewBox:"0 116.3 242.5 24.57",SynthProp:Q,note:["A2","C3","E3","G3"],fill:"#ffe57f",d:"M230.365 131.6c.592-1.231 1.598-2.337 2.82-2.774.831-.305 3.032.555 3.085 2.119.011 1.322-1.854 2.786-2.862 2.976-.414.08-.922.138-1.027.022-.643-.721-1.318-1.302-2.105-1.91-.056-.038.02-.281.089-.433"}],Ip=[{id:"10A",viewBox:"1.7 134.6 242.5 24.57",SynthProp:D,note:["E2","G2","C3"],fill:"#e8ceb8",d:"M3.638 149.285a556 556 0 0 1 4.431-4.389c.87-.785 2.715-.946 3.584-.219.553.445 1.058.877 1.559 1.311 1.397 1.277 1.016 1.615.242 2.246-1.998 1.561-3.979 3.112-6.032 4.665-.725.523-1.494.411-2.073.098-.685-.356-1.314-.894-1.773-1.415-.447-.494-.86-1.287.062-2.297"},{id:"10B",viewBox:"1.7 134.6 242.5 24.57",SynthProp:Q,note:["E2","G2","C3"],fill:"#ffe57f",d:"M25.653 149.535c3.308-1.343 4.297-2.34 6.295-4.266.27-.247.504-.265.627-.059.767 1.302 1.534 2.603 2.391 4.438.308.66.29.754-.492 1.315-.375.278-1.451.88-2.321 1.842-.373.436-1.901.175-6.118-1.813-.833-.413-.907-1.25-.382-1.457"},{id:"10C",viewBox:"1.7 134.6 242.5 24.57",SynthProp:D,note:["E2","G2","C3"],fill:"#e8ceb8",d:"M45.679 149.061c5.497-1.424 8.731-3.794 12.305-6.371.882-.637 1.639-.631 1.374.529-.938 4.558-1.222 7.819-5.983 8.335-2.481.142-6.27-.3-7.945-.631-.781-.159-.818-1.597.249-1.862"},{id:"10D",viewBox:"1.7 134.6 242.5 24.57",SynthProp:K,note:["E2","G2","C3"],fill:"#e8e9eb",d:"M70.976 145.407q5.231-.017 10.465-.003c2.204.016 4.373 2.408 5.731 4.021.611.744.439.965-.179 1.027-7.33.5-16.298.439-21.87-.005-.657-.057-.9-.258-.247-.985 1.605-1.617 4.1-4.031 6.1-4.055"},{id:"10E",viewBox:"1.7 134.6 242.5 24.57",SynthProp:D,note:["E2","G2","C3"],fill:"#e8ceb8",d:"M97.298 154.973c-5.945-5.545-7.791-8.351-5.939-10.029.511-.452.789-.743 1.598-.747 3.822-.066 14.19 6.292 11.789 8.675-1.302 1.272-3.342 2.374-4.726 2.946-1.329.57-2.075-.242-2.722-.845"},{id:"10F",viewBox:"1.7 134.6 242.5 24.57",SynthProp:D,note:["E2","G2","C3"],fill:"#e8ceb8",d:"M118.598 154.092c-.584.259-1.085.344-1.781-.081-.832-.573-1.578-1.306-1.856-2.036-.349-1.035-.266-1.611.71-2.447 2.589-2.131 6.508-5.352 7.653-6.093.988-.672 2.72-.419 3.671.905.553.797 1.036 1.578 1.533 2.376.96 1.49.904 1.82-.23 2.382-3.233 1.665-6.547 3.583-9.7 4.994"},{id:"10G",viewBox:"1.7 134.6 242.5 24.57",SynthProp:Z,note:["E2","G2","C3"],fill:"#313638",d:"M137.138 149.528c-.092-.025-.209-.039-.177-.257.071-.482.072-.499.081-1.005.007-.204.029-.275.281-.307 2.639-.319 13.69-1.273 16.019-1.347.383-.014.41.132.308.295q-1.802 2.698-3.599 5.401c-.164.241-.39.165-.695.081-3.977-1.206-7.582-1.719-12.218-2.861"},{id:"10H",viewBox:"1.7 134.6 242.5 24.57",SynthProp:D,note:["E2","G2","C3"],fill:"#e8ceb8",d:"M158.488 143.482c-.372-1.347.566-1.64 1.54-.946 1.351.989 4.187 2.31 9.549 5.581.878.537 2.707 1.038 4.073 1.245 1.707.273 2.338.562 2.685.783 1.448 1.016.766 1.937-.048 2.487-2.573 1.605-8.91 1.538-10.979 1.104-2.425-.42-4.351-1.88-4.845-3.677Z"},{id:"10I",viewBox:"1.7 134.6 242.5 24.57",SynthProp:D,note:["E2","G2","C3"],fill:"#e8ceb8",d:"M185.242 147.071c5.938.049 7.518.312 8.068.443 1.863.441 1.965 1.97.38 2.582-2.717.962-6.423 1.455-8.402 1.555-.583.022-1.715-.064-2.058-.668-.445-.891-.445-2.25-.017-3.326.237-.549 1.085-.576 2.029-.586"},{id:"10J",viewBox:"1.7 134.6 242.5 24.57",SynthProp:Q,note:["E2","G2","C3"],fill:"#ffe57f",d:"M206.179 147.529c.774-1.104 1.755-1.738 2.42-1.727 2.868.057 5.475 1.782 7.176 3.678.333.384.517.521.311.869-.322.516-1.444 1.904-2.54 2.321-2.105.704-5.438-1.836-6.867-3.186-.84-.869-1.051-1.086-.5-1.955"},{id:"10K",viewBox:"1.7 134.6 242.5 24.57",SynthProp:K,note:["E2","G2","C3"],fill:"#e8e9eb",d:"M227.408 146.95c5.626.023 11.253.047 14.92.084.751.007.907.04.696.298-.456.592-2.752 2.764-5.817 3.281-3.557.576-6.989.832-10.355 1.231-.34.05-.347-.186-.327-.413l.327-3.94c.029-.415.103-.542.556-.541"}],jp=[{id:"9A",viewBox:"1.7 152.9  242.5 24.57",SynthProp:K,note:["G2","C3","D3","F3"],fill:"#e8e9eb",d:"M-5.264 160.769c.638-.756 2.939-3.256 4.711-4.121 1.21-.588 2.507-.671 3.589-.121 2.528 1.257 7.668 4.545 9.638 7.341 1.819 2.88.934 5.523-.452 6.916-1.108 1.159-3.906 1.768-7.181.203-3.533-1.882-6.738-4.24-9.762-6.753-1.095-.957-1.454-2.398-.543-3.465m8.463 2.917c1.566-.752 1.888-1.834 1.767-2.736-.246-1.808-2.577-2.318-3.903-1.874-3.458 1.098-3.108 4.192-1.747 4.991 1.421.802 3.383-.133 3.883-.381"},{id:"9B",viewBox:"1.7 152.9  242.5 24.57",SynthProp:D,note:["G2","C3","D3","F3"],fill:"#e8ceb8",d:"M25.254 166.983c-.039-.758.049-2.264 1.448-2.361 1.884-.068 2.685.7 3.896.772 1.327.063 2.629-.292 3.596-.36 1.528-.082 2.196.558 2.496 1.295.229.626.246 1.836-.809 2.539-1.817.996-2.424-.204-4.923.064-1.184.086-2.016.345-3.094.686-1.598.444-2.494-.609-2.61-2.635"},{id:"9C",viewBox:"1.7 152.9  242.5 24.57",SynthProp:D,note:["G2","C3","D3","F3"],fill:"#e8ceb8",d:"M49.215 165.416c4.418-1.658 5.326-1.781 7.875-2.378 1.124-.226 1.275.041 1.146.614-.184 1.028-1.686 6.038-3.124 6.97-2.713 1.975-6.361-1.619-6.648-2.107-1.122-1.735-.081-2.771.751-3.099"},{id:"9D",viewBox:"1.7 152.9  242.5 24.57",SynthProp:D,note:["G2","C3","D3","F3"],fill:"#e8ceb8",d:"M68.588 169.407c4.033-2.442 7.622-5.181 10.435-8.289.697-.712.998-.596 1.665-.037l4.181 3.293c.626.5.52.649.148.925a855 855 0 0 0-10.916 8.77c-.499.407-.612.33-.999.037l-4.551-3.663c-.349-.29-.596-.642.037-1.036"},{id:"9E",viewBox:"1.7 152.9  242.5 24.57",SynthProp:Z,note:["G2","C3","D3","F3"],fill:"#313638",d:"M103.739 166.22c.508.385.35.512-.024.806-2.185 1.779-4.333 3.544-6.302 5.574-.415.416-.574.306-.897-.043-.935-1.071-3.925-3.421-1.42-12.191.085-.296.416-.455.665-.28z"},{id:"9F",viewBox:"1.7 152.9  242.5 24.57",SynthProp:D,note:["G2","C3","D3","F3"],fill:"#e8ceb8",d:"M116.114 165.709c3.107-2.039 5.908-3.667 8.88-4.515 2.531-.763 3.336 1.163 2.48 3.775-1.21 3.568-3.994 6.51-6.218 6.794-3.008.267-5.409-2.079-5.915-3.503-.45-1.474-.182-1.896.773-2.551"},{id:"9G",viewBox:"1.7 152.9  242.5 24.57",SynthProp:Z,note:["G2","C3","D3","F3"],fill:"#313638",d:"m135.95 169.067-.62-3.926c-.039-.264-.105-.649.202-.721 4.792-1.1 9.584-2.199 14.232-2.6.278-.026.69.164.607.607-.316 1.777-.789 4.423-1.199 7.243-.044.269-.272.436-.597.515-3.51.734-8.501.409-11.976-.208-.421-.064-.582-.532-.649-.91"},{id:"9H",viewBox:"1.7 152.9  242.5 24.57",SynthProp:D,note:["G2","C3","D3","F3"],fill:"#e8ceb8",d:"M157.65 166.512c.007-.447.241-.627.403-.628 4.759.014 15.059.026 15.297.038.22.006.923.391 1.339.614.341.192.374.33.369.642l.009 3.362c0 .502-.296.632-.612.574-4.954-.932-10.943-1.698-16.304-1.533-.317.007-.523-.015-.525-.348-.002-.916 0-1.806.024-2.721"},{id:"9I",viewBox:"1.7 152.9  242.5 24.57",SynthProp:D,note:["G2","C3","D3","F3"],fill:"#e8ceb8",d:"M182.388 168.493c-.243-.19-.071-.356.11-.557 1.338-1.49 9.788-6.238 11.534-6.292.628-.02 1.002.058 2.094 1.221.231.252.104.395-.021.601-1.11 1.823-5.336 5.924-8.913 8.49-.175.13-.264.137-.497-.046a3586 3586 0 0 1-4.307-3.417"},{id:"9J",viewBox:"1.7 152.9  242.5 24.57",SynthProp:D,note:["G2","C3","D3","F3"],fill:"#e8ceb8",d:"M202.037 163.795c-.565-1.004-.391-2.001.83-3.081 1.848-1.581 2.865-1.315 4.151-.697 2.089.924 9.86 6.516 11.741 8.294 1.377 1.284.323 2.411-1.314 4.38-2.34 2.629-4.987 2.312-6.51 1.384-1.407-.871-7.795-8.27-8.898-10.28"},{id:"9K",viewBox:"1.7 152.9  242.5 24.57",SynthProp:Z,note:["G2","C3","D3","F3"],fill:"#313638",d:"M227.831 164.269c-.277-.401-.257-.651-.057-.833l1.645-1.422c.361-.288.825.005 1.06.25 3.183 3.346 4.902 4.866 9.703 7.696.496.293.371.374.138.487-.972.48-1.934.983-2.928 1.451-1.768.766-4.319-.621-5.922-1.582-.698-.417-.784-.768-.829-1.295-.136-1.975-1.75-3.321-2.81-4.752"}],Bp=[{id:"8A",viewBox:"1.7 171.2  242.5 24.57",SynthProp:Z,note:["F2","A2","C3","G3"],fill:"#313638",d:"M-.61 191.887c-3.961-3.366-1.304-5.826 1.078-8.001 3.068-2.69 6.317-2.668 9.537-1.857 5.075 1.23 4.771 5.003 1.424 8.215-4.973 4.411-7.91 5.171-12.039 1.643M1 190c1.289 1.402 3.951 3.033 5.843 1.096 1.468-1.621-.11-3.353-.842-4.095C4.873 185.836 2.437 185.547 1 187c-.691.722-.728 2.083 0 3"},{id:"8B",viewBox:"1.7 171.2  242.5 24.57",SynthProp:D,note:["F2","A2","C3","G3"],fill:"#e8ceb8",d:"M22.535 183.927c-.53-.432-.538-.573.033-1.045 4.861-3.815 7.099-4.304 9.638-2.643 6.793 4.497 5.019 6.371 4.539 7.122-.894 1.276-2.116 2.246-4.51 3.682-.45.274-.676.042-.997-.205z"},{id:"8C",viewBox:"1.7 171.2  242.5 24.57",SynthProp:Z,note:["F2","A2","C3","G3"],fill:"#313638",d:"m45.039 182.899 13.962-1.189c.396-.035.463.162.48.48.143 1.948.287 3.895.42 5.847.024.419-.088.414-.288.387l-14.685-1.997c-.438-.065-.462-.162-.453-.453l.079-2.701c.008-.316.123-.337.485-.374"},{id:"8D",viewBox:"1.7 171.2  242.5 24.57",SynthProp:Q,note:["F2","A2","C3","G3"],fill:"#ffe57f",d:"M70.941 185.35c2.243-1.876 4.551-3.502 7.74-5.202.765-.368 1.205-.448 1.29.458l.707 6.034c.079.805.074.822-.446.909-1.567.225-2.757.592-4.139.975-.334.089-.514.127-.69 0-2.214-1.573-3.028-1.214-4.558-2.266-.447-.301-.529-.385.096-.908"},{id:"8E",viewBox:"1.7 171.2  242.5 24.57",SynthProp:D,note:["F2","A2","C3","G3"],fill:"#e8ceb8",d:"M95.008 181.211c2.937.066 5.835.589 7.55 2.225.841.842-.484 3.324-2.561 4.326-2.033.832-6.557-2.743-6.933-3.713-.534-1.276.014-2.851 1.944-2.838"},{id:"8F",viewBox:"1.7 171.2  242.5 24.57",SynthProp:K,note:["F2","A2","C3","G3"],fill:"#e8e9eb",d:"M113.083 180.974c-.17-.329-.277-.68.038-.898l1.882-1.274c.431-.3.982-.077 1.338.081 2.103.981 11.229 8.845 12.504 10.017.261.242.156.395-.041.55l-2.593 2.047c-.181.139-.217.157-.383.048-5.638-3.754-12.068-9.304-12.745-10.571"},{id:"8G",viewBox:"1.7 171.2  242.5 24.57",SynthProp:D,note:["F2","A2","C3","G3"],fill:"#e8ceb8",d:"M137.685 186.043a72 72 0 0 1 7.391-5.6c.365-.228.609-.159.911.119l2.984 2.838c.229.234.256.383-.035.612l-7.087 5.582c-.189.145-.231.17-.435.012l-3.721-3c-.201-.16-.281-.325-.008-.563"},{id:"8H",viewBox:"1.7 171.2  242.5 24.57",SynthProp:D,note:["F2","A2","C3","G3"],fill:"#e8ceb8",d:"M170.303 184.064c2.501 3.303-3.725 3.737-5.357 3.295-2.894-.903-3.14-4.184-1.74-5.052 2.903-1.643 5.183-.845 7.097 1.757"},{id:"8I",viewBox:"1.7 171.2  242.5 24.57",SynthProp:K,note:["F2","A2","C3","G3"],fill:"#e8e9eb",d:"m183.033 179.965 10.218-.389c.666-.027.685.269.53.849l-1.977 8.325c-.064.264-.244.259-.468.259-1.775 0-3.55 0-5.363-.012-1.715-.025-3.908-4.285-5.987-6.598-.527-.609 1.505-2.388 3.047-2.434"},{id:"8J",viewBox:"1.7 171.2  242.5 24.57",SynthProp:Z,note:["F2","A2","C3","G3"],fill:"#313638",d:"M206.415 184.859c1.217-2.401 4.336-5.285 6.264-6.058 1.441-.585 4.905 2.052 3.795 5.653-.589 1.736-4.965 4.927-7.756 6.251-.564.261-.892.033-1.182-.598-.72-1.628-1.745-3.918-1.121-5.248"},{id:"8K",viewBox:"1.7 171.2  242.5 24.57",SynthProp:Z,note:["F2","A2","C3","G3"],fill:"#313638",d:"M226.656 182.717c.005-.54.12-.744.626-.785 5.925-.455 11.338-.193 14.423.504.654.15.552.358.449.554-2.051 3.75-3.066 4.157-5.966 4.899-3.219.831-6.181 1.098-8.022 1.033-1.084-.038-1.536-.505-1.533-1.784z"}],Fp=[{id:"7A",viewBox:"1.4 189.5  242.5 24.57",SynthProp:D,note:["E2","G2","B2"],fill:"#e8ceb8",d:"M2.101 201.977c-.722-.986-.51-2.005.932-2.359 3.961-1.026 10.853.45 12.037 1.077.523.295.667.406.138 1.385-4.115 7.06-10.414 3.652-13.107-.103"},{id:"7B",viewBox:"1.4 189.5  242.5 24.57",SynthProp:K,note:["E2","G2","B2"],fill:"#e8e9eb",d:"M28.073 199.014h5.906c1.518-.022 2.511 3.172 2.669 5.979.018.324-.09.338-.349.337l-10.249-.054c-.371-.006-.412-.134-.405-.27.133-2.932.797-5.996 2.428-5.992"},{id:"7C",viewBox:"1.4 189.5  242.5 24.57",SynthProp:Q,note:["E2","G2","B2"],fill:"#ffe57f",d:"m49.972 200.581 7.042-.371c1.413-.062 1.115 2.286.884 2.794-.64 1.528-3.704 2.142-5.816 2.509-.293.047-1.519-.597-1.568-.799-.258-1.054-.708-1.988-1.312-2.622-.313-.355.288-1.487.77-1.511"},{id:"7D",viewBox:"1.4 189.5  242.5 24.57",SynthProp:D,note:["E2","G2","B2"],fill:"#e8ceb8",d:"M79.128 199.321c.667.387 1.081.624 1.669.964.285.171.351.321.136.574l-4.576 5.309c-1.254 1.283-4.192-.126-6.227-1.211-.538-.301-.535-.89.363-1.47l6.229-3.928c.805-.503 1.76-.607 2.406-.238"},{id:"7E",viewBox:"1.4 189.5  242.5 24.57",SynthProp:K,note:["E2","G2","B2"],fill:"#e8e9eb",d:"M92.342 198.489c1.035-.442 1.988-.849 2.986-1.259 2.35-.974 8.252 4.357 11.476 7.226.521.463.26.697-.098.9-3.954 2.145-7.985 3.548-11.838 4.687-.426.129-.489.095-.608-.427a785 785 0 0 1-2.263-10.361c-.104-.479-.088-.58.345-.766"},{id:"7F",viewBox:"1.4 189.5  242.5 24.57",SynthProp:D,note:["E2","G2","B2"],fill:"#e8ceb8",d:"M122.936 204.949c-1.383 1.029-4.103 2.286-6.142.573-1.866-1.837-.399-4.588 1.221-5.325 1.172-.571 4.179-.582 6.473.208 2.455.835 1.109 2.496-1.552 4.544"},{id:"7G",viewBox:"1.4 189.5  242.5 24.57",SynthProp:Q,note:["E2","G2","B2"],fill:"#ffe57f",d:"M145.148 199.273c.562-.207.67-.04.817.283l1.262 2.596c.145.318.097.488.005.658l-1.243 2.347c-.185.336-.734.282-1.096.097-2.487-1.357-5.803-2.048-6.229-3.497-.127-.49.112-.686.58-.653.814.018 3.752-1.017 5.904-1.831"},{id:"7H",viewBox:"1.4 189.5  242.5 24.57",SynthProp:Q,note:["E2","G2","B2"],fill:"#ffe57f",d:"M165.759 200.861a32 32 0 0 1 4.338.274c.377.044.418.158.305.373l-1.631 3.123c-.367.681-1.665.235-2.464.605-.434.18-.6.089-.94-.119-.73-.466-2.023-1.021-2.982-1.134-.461-.061-.491-.216-.508-.487-.039-.615-.056-1.511-.061-1.699-.009-.384.326-.577.634-.663.576-.159 1.313-.225 3.309-.273"},{id:"7I",viewBox:"1.4 189.5  242.5 24.57",SynthProp:D,note:["E2","G2","B2"],fill:"#e8ceb8",d:"M184.035 194.586c5.229 1.507 8.43 5.493 9.04 7.378.564 1.672-.825 3.848-3.102 4.255-3.844.55-8.059-.369-10.968-2.216-2.765-1.895-3.252-4.899-1.928-7.312.812-1.329 4.214-2.876 6.958-2.105m1.4 7.18c2.024-1.38 2.111-3.193 1.092-3.832-1.33-.898-3.333-.639-4.852-.104-2.123.706-2.522 3.351-.276 4.386 1.016.489 2.17.844 4.036-.45"},{id:"7J",viewBox:"1.4 189.5  242.5 24.57",SynthProp:Q,note:["E2","G2","B2"],fill:"#ffe57f",d:"M208.061 201.008c-.005-1.06.744-2.016 2.946-1.733 1.563.198 2.546.44 2.83 1.751l.523 2.229c.207.972-1.472 2.262-3.065 2.403-1.742.098-3.165-.191-3.214-2.111z"},{id:"7K",viewBox:"1.4 189.5  242.5 24.57",SynthProp:D,note:["E2","G2","B2"],fill:"#e8ceb8",d:"M227.005 205.163c-.421.004-.47-.192-.527-.386l-.439-1.545c-.114-.403.28-.761.984-.896l10.764-1.756c.55-.086.829.041.983.457l1.124 3.371c.211.616.081.646-.404.65z"}],Lp=[{id:"6A",viewBox:"1.4 207.8 242.5 24.57",SynthProp:K,note:["G2","B2","D3","F3"],fill:"#e8e9eb",d:"M2.933 220.001c1.383-1.679 3.47-3.458 5.33-4.369.348-.158.921-.179 1.206-.066 1.448.602 3.055 1.762 4.527 3.01.434.369.417.572.125 1.05-1.385 2.237-2.77 4.474-4.229 6.859-.322.518-1.094.243-1.536-.177-1.79-1.749-5.16-5.06-5.575-5.489-.246-.243-.16-.411.152-.818"},{viewBox:"1.4 207.8 242.5 24.57",id:"6B",SynthProp:D,note:["G2","B2","D3","F3"],fill:"#e8ceb8",d:"M24.635 219.224c-.448.127-.851.26-.854 1.219l.013 1.41c-.002.35.165.368.496.392 4.631.265 9.13.231 13.669 0 .525-.033.736-.049.739-.447l.019-2.07c.004-.206-.193-.274-.372-.343-1.32-.489-12.36-.556-13.71-.161"},{viewBox:"1.4 207.8 242.5 24.57",id:"6C",SynthProp:D,note:["G2","B2","D3","F3"],fill:"#e8ceb8",d:"M48.644 221.285c1.875-1.402 5.067-3.79 5.961-4.456 1.331-.978 4.236-.149 4.346 1.485.048 1.637-2.975 3.757-6.858 5.772-1.037.488-2.495.221-3.275-.488-.718-.723-.831-1.838-.174-2.313"},{viewBox:"1.4 207.8 242.5 24.57",id:"6D",SynthProp:Q,note:["G2","B2","D3","F3"],fill:"#ffe57f",d:"M71.71 220.736c2.524-2.013 4.471-3.543 4.608-4.596.021-.185.386-.074.338.064-.734 2.288 1.06 4.194 1.082 4.825.032.7-.295 1.206-.888 1.226-1.866.032-3.42-.479-5.043-.978-.546-.179-.312-.371-.097-.541"},{viewBox:"1.4 207.8 242.5 24.57",id:"6E",SynthProp:D,note:["G2","B2","D3","F3"],fill:"#e8ceb8",d:"M92.049 219.013c.022-.939.473-1.338 1.952-1.341 2.994-.01 5.983-.025 8.978-.039 1.726.007 1.992.545 1.993 1.38l.022 4.03c-.002.428-.494.439-.985.438q-5.497.045-10.996.087c-.683-.017-1.058-.092-1.052-.591z"},{viewBox:"1.4 207.8 242.5 24.57",id:"6F",SynthProp:Z,note:["G2","B2","D3","F3"],fill:"#313638",d:"M114.009 218.154c-.413-.403-.317-.577.057-.795 1.684-.944 11.602-.081 13 1.048.312.245.098.479-.104.725l-4.981 6.179c-.156.187-.222.171-.391.017z"},{viewBox:"1.4 207.8 242.5 24.57",id:"6G",SynthProp:K,note:["G2","B2","D3","F3"],fill:"#e8e9eb",d:"M136.059 221.933c4.288-1.925 8.869-3.275 12.864-5.774.287-.176.567.179.444.369-1.237 1.961-5.339 6.329-8.73 9.488-.382.335-.692.294-.905.12l-4.066-3.315c-.475-.399-.012-.711.393-.888"},{viewBox:"1.4 207.8 242.5 24.57",id:"6H",SynthProp:D,note:["G2","B2","D3","F3"],fill:"#e8ceb8",d:"M158.422 223.654c2.518-2.864 6.772-6.957 8.52-7.736 1.346-.622 2.841.103 4.59 1.078 2.368 1.378 2.305 3.211.933 4.462-1.398 1.301-8.629 5.164-10.763 5.688-1.076.247-1.927.125-2.824-.586-.937-.807-1.878-1.326-.456-2.906"},{viewBox:"1.4 207.8 242.5 24.57",id:"6I",SynthProp:K,note:["G2","B2","D3","F3"],fill:"#e8e9eb",d:"M192.896 221.598c.654 1.061-.35 2.102-1.41 2.426-1.611.515-2.655.483-3.69-.494-1.834-1.82-3.05-3.139-3.446-5.034-.112-.618-.14-1.335.31-1.636.507-.292 1.397-.03 2.464.376 2.676 1.071 4.673 2.689 5.772 4.362"},{viewBox:"1.4 207.8 242.5 24.57",id:"6J",SynthProp:K,note:["G2","B2","D3","F3"],fill:"#e8e9eb",d:"M206.366 219.039c.452-.858 1.778-1.426 2.64-1.451l6.989-.176c.645.002.887.503.593 1.055-2.256 4.191-2.959 4.232-5.545 4.423-1.986.105-3.412.525-5.049.83-.709.126-1.137-.329-.813-1.297.403-1.121.805-2.651 1.185-3.384"},{viewBox:"1.4 207.8 242.5 24.57",id:"6K",SynthProp:D,note:["G2","B2","D3","F3"],fill:"#e8ceb8",d:"M225.002 212.964c1.245-.41 1.826-.041 2.983.76 2.197 1.579 4.899 3.83 7.291 5.292 2.59 1.606 5.334 4.63 3.817 6.013-1.601 1.42-3.284-.166-4.801-.74-.831-.305-1.38-.478-2.116-.521-.272-.019-.587-.182-.735-.376-.86-1.166-2.292-3.748-5.335-5.275-.874-.461-3.76-1.869-3.71-2.901.069-.908 1.404-1.818 2.606-2.252"}],Vp=[{id:"5A",viewBox:"1.4 226.1 242.5 24.57",SynthProp:D,note:["D2","F2","A2"],fill:"#e8ceb8",d:"m3.018 236.163 11.005-1.137c.954-.107 3.544.524 3.097 2.992-.233 1.321-.461 2.645-.692 3.969-.227 1.234-1.469 1.153-2.456 1.15-4.022-.053-7.753-.296-11.67-.604-1.3-.129-2.229-.815-2.037-3.231.187-2.056 1.009-2.946 2.753-3.139"},{id:"5B",viewBox:"1.4 226.1 242.5 24.57",SynthProp:K,note:["D2","F2","A2"],fill:"#e8e9eb",d:"M25.008 234.711c5.039.144 9.995.48 14.921 1.264.611.101.646.288.547.615l-1.648 5.616c-.149.48-.387.581-1.273.637-4.394.2-8.796.428-11.484.659-.555.035-.226-.725-1.482-1.162-2.431-.843-2.34-3.616-2.357-5.446.001-1.136.95-2.208 2.776-2.183"},{id:"5C",viewBox:"1.4 226.1 242.5 24.57",SynthProp:Z,note:["D2","F2","A2"],fill:"#313638",d:"M48.488 237.948c3.605-3.035 7.719-3.679 10.326-1.686 1.767 1.385-3.21 6.736-7.797 5.222l-3.683-1.14a1.8 1.8 0 0 0-.759-.063c-.241.032-.232-.097-.176-.219.27-.565.705-.941 2.089-2.114"},{id:"5D",viewBox:"1.4 226.1 242.5 24.57",SynthProp:D,note:["D2","F2","A2"],fill:"#e8ceb8",d:"M68.331 240.147c-.366.323-.383.514 0 .818l4.668 3.61c.483.366.557.329 1.13.041 2.427-1.269 8.434-8.321 8.962-9.324.418-.786.353-1.643-.707-2.128-.97-.466-1.456-.436-2.624.005-3.067 1.189-8.541 4.488-11.429 6.978"},{id:"5E",viewBox:"1.4 226.1 242.5 24.57",SynthProp:Z,note:["D2","F2","A2"],fill:"#313638",d:"M93.057 239.899c-.005.36.276.359.582.389l9.628.795c.601.046.632-.108.681-.431l.562-4.028c.046-.283-.022-.376-.483-.375-4.782.043-9.392.252-10.536 1.325-.516.524-.42 1.646-.434 2.325"},{id:"5F",viewBox:"1.4 226.1 242.5 24.57",SynthProp:Q,note:["D2","F2","A2"],fill:"#ffe57f",d:"M118 234.968c2.967-.034 5.654.142 8.362.56.971.166 1.021.843.919 1.538a224 224 0 0 1-.743 5.941c-.063.381-.202.389-.424.371-2.284-.165-5.276-.287-6.544-.041-1.192.257-1.976.454-2.559.422-.442-.026-.774-.467-.884-.79-.756-2.146-1.518-4.305-1.93-6.469-.195-1.004 1.798-1.482 3.803-1.532"},{id:"5G",viewBox:"1.4 226.1 242.5 24.57",SynthProp:D,note:["D2","F2","A2"],fill:"#e8ceb8",d:"M141.998 243.325c-3.701-.052-9.661-.488-9.488-4.008.049-1.248 1.681-3.204 7.095-3.922 2.028-.307 5.962-1.86 7.519-1.066 2.453 1.216 2.307 3.261 1.635 5.074-1.337 3.594-2.839 3.912-6.761 3.922"},{id:"5H",viewBox:"1.4 226.1 242.5 24.57",SynthProp:Z,note:["D2","F2","A2"],fill:"#313638",d:"M162.739 236.751c1.679-1.261 3.393-2.509 5.257-3.309.374-.153.533-.111.841-.021l5.496 1.578c.541.171.427.39 0 .717-3.495 2.75-6.99 5.5-10.466 8.277-.249.2-.389.212-.631.026l-3.991-2.982c-.273-.207-.198-.693.056-1.048.905-1.322 2.125-2.214 3.438-3.238"},{id:"5I",viewBox:"1.4 226.1 242.5 24.57",SynthProp:Q,note:["D2","F2","A2"],fill:"#ffe57f",d:"M185.843 241.921c.274-3.167.189-4.753.024-6.32-.099-1.019 1.24-1.437 2.608-1.444 1.971.026 2.51.125 2.919 1.91.621 2.709.568 2.843-.324 4.888-.081.186-.126.304-.02.449.554.698.638 1.122-.533 1.522-.57.176-.665.22-.865-.087a.23.23 0 0 0-.18-.109l-1.088-.11c-.103-.011-.163.03-.164.104-.007.604-2.505.654-2.377-.803"},{id:"5J",viewBox:"1.4 226.1 242.5 24.57",SynthProp:D,note:["D2","F2","A2"],fill:"#e8ceb8",d:"M208.379 236.216c2.255-1.588 4.4-2.897 7.314-3.918.834-.263 1.582.231 2.458.805.796.553 1.628 1.197 1.284 1.889-2.144 4.256-7.369 8.253-12.277 10.222-.867.318-.944.269-2.423-1.021-1.479-1.322-1.489-1.231-1.096-2.247.971-2.384 2.642-4.177 4.74-5.73"},{id:"5K",viewBox:"1.4 226.1 242.5 24.57",SynthProp:Q,note:["D2","F2","A2"],fill:"#ffe57f",d:"m230.416 236.877 5.458.093c.372.008.375.156.371.545.017 2.476-.264 3.085-1.44 3.194l-2.752.267c-.215.021-.327-.115-.394-.314-.413-1.199-1.232-2.166-1.672-3.228-.11-.301.096-.559.429-.557"}],$p=[{id:"4A",SynthProp:K,note:["F2","A2","C3"],viewBox:"0.5 244.4 242.5 24.57",fill:"#e8e9eb",d:"M1.353 255.066c-.366-.471-.261-.494.058-.499 1.78-.025 2.654-.997 9.599-.941 1.719.008 2.058 2.36 2.095 4.401-.006.546-.558.702-1.099.695-7.969-.036-9.051-1.651-10.653-3.656"},{id:"4B",SynthProp:Q,note:["F2","A2","C3"],viewBox:"0.5 244.4 242.5 24.57",fill:"#ffe57f",d:"M27.98 255.713c-.463.095-.42.601-.152 1.272.906 2.048 1.928 2.118 4.167 1.976 1.858-.134 2.627-.336 2.749-2.078.023-.31.026-.444.114-.569.52-.69.996-1.262.406-1.577-.658-.33-5.041.483-7.284.976"},{id:"4C",SynthProp:Q,note:["F2","A2","C3"],viewBox:"0.5 244.4 242.5 24.57",fill:"#ffe57f",d:"M58.395 254.874c.371.015.409.115.106.331-2.455 1.803-3.578 2.724-5.742 4.781-.431.412-1.022.397-1.084-.012-.275-1.704-.44-3.354-.603-4.906a.4.4 0 0 1 .407-.441c3.096.106 4.613.16 6.916.247"},{id:"4D",SynthProp:K,note:["F2","A2","C3"],viewBox:"0.5 244.4 242.5 24.57",fill:"#e8e9eb",d:"M68.813 260.649c-.491.121-.735.042-.319-.497 2.5-3.372 5.142-5.803 8.389-8.306.747-.534 1.17-.554 1.817.278 1.06 1.344 2.142 3.063 2.395 4.598.087.603-.404.699-.851.828-3.81 1.037-7.62 2.075-11.431 3.099"},{id:"4E",SynthProp:D,note:["F2","A2","C3"],viewBox:"0.5 244.4 242.5 24.57",fill:"#e8ceb8",d:"M91.858 259.035c4.11-5.875 7.681-6.493 9.423-4.861 1.834 1.784 1.643 2.064.332 3.317a32.3 32.3 0 0 1-9.292 5.81c-1.125.452-1.72.355-2.081.14-1.081-.741.389-2.647 1.618-4.406"},{id:"4F",SynthProp:Z,note:["F2","A2","C3"],viewBox:"0.5 244.4 242.5 24.57",fill:"#313638",d:"M111.259 254.946c-.015-.393.187-.69.716-.867 4.182-1.356 10.373-1.231 14.322.612.578.286.813.608.838 1.115l.161 2.307c.071 1.071-.634 1.286-1.312 1.476-3.641 1.039-10.402-.448-13.924-1.558-.606-.183-.726-.557-.738-1.005q-.036-1.04-.063-2.08"},{id:"4G",SynthProp:Q,note:["F2","A2","C3"],viewBox:"0.5 244.4 242.5 24.57",fill:"#ffe57f",d:"M141.978 253.598c1.902.008 4.006-.011 4.066 1.417.113 3.545-.361 4.821-3.025 5.432-1.172.206-2.718.132-3.985-.073-.808-.138-.848-.502-.848-.702.003-.178.05-.401.419-.417.226-.009.414.034.493-.287.174-.76.164-1.508-.044-2.159-.024-.077-.047-.153-.078-.223-.191-.462-.79-.854-1.192-1.277-.225-.23-.1-.642.262-.87.961-.594 2.341-.848 3.932-.841"},{id:"4H",SynthProp:K,note:["F2","A2","C3"],viewBox:"0.5 244.4 242.5 24.57",fill:"#e8e9eb",d:"M170.95 257.168c.765.68.531 1.072-.002 1.514a161 161 0 0 1-3.546 2.872c-.409.309-1.08.051-1.48-.227-2.87-2.021-6.427-5.055-7.991-7.293-.31-.45.069-.876.745-1.366 1.523-1.056 1.825-1.112 2.841-.86 4.041 1.083 7.221 3.434 9.433 5.36"},{id:"4I",SynthProp:D,note:["F2","A2","C3"],viewBox:"0.5 244.4 242.5 24.57",fill:"#e8ceb8",d:"M186.007 253.602c2.809.079 7.335.433 4.998 3.392-1.797 2.266-3.621 4.347-6.989 2.718-2.154-1.049-3.99-2.692-3.055-4.243 1.111-1.749 2.039-1.916 5.046-1.867"},{id:"4J",SynthProp:Z,note:["F2","A2","C3"],viewBox:"0.5 244.4 242.5 24.57",fill:"#313638",d:"m206.273 259.96-.031-4.419c.012-.873.005-.831-1.027-2.471-.166-.261.151-.414.576-.527 1.22-.304 2.608-.439 4.248-.523.386-.019.532.075.594.218.511 1.002.316 1.834.256 2.564-.37 3.758-.009 5.359-1.382 5.873-.575.214-1.498-.031-2.599-.058-.57-.014-.636-.1-.635-.657"},{id:"4K",SynthProp:K,note:["F2","A2","C3"],viewBox:"-1.8 244.4 242.5 24.57",fill:"#e8e9eb",d:"M230.608 252.838c1.382 1.121 2.729 2.282 3.927 3.65.299.357-.119.785-.429 1.136l-2.455 2.669c-1.827 1.86-3.261-2.051-3.652-4.203-.176-1.02.771-2.211 1.565-3.1.347-.383.558-.53 1.044-.152"}],qp=[{id:"3A",SynthProp:Z,note:["A2","C3","E3"],viewBox:"1.1 262.7 242.5 24.57",fill:"#313638",d:"m9.299 270.985 5.06 4.391c.393.337.399.733 0 1.078-1.22 1.035-2.436 2.067-3.128 2.645-.99.794-1.628.714-2.405.156-1.984-1.537-3.586-2.926-4.866-4.196-.421-.423-.144-1.174.372-1.525l3.944-2.753c.316-.221.674-.089 1.023.204"},{id:"3B",SynthProp:K,note:["A2","C3","E3"],viewBox:"0.5 262.7 242.5 24.57",fill:"#e8e9eb",d:"M31.687 270.968c1.186-.806 1.817-.311 3.134.867 1.489 1.351 2.166 1.68 1.286 2.629l-4.657 5.008c-1.097 1.186-2.478.079-3.735-1.035-1.226-1.141-2.708-2.869-1.427-3.763z"},{id:"3C",SynthProp:D,note:["A2","C3","E3"],viewBox:"0.5 262.7 242.5 24.57",fill:"#e8ceb8",d:"M48.87 267.591c3.973 3.04 7.947 6.08 11.974 9.119.382.288.462.549.161.88-2.082 2.208-4.272 3.023-6.983 1.759-2.541-1.276-5.395-4.743-7.314-7.263-2.038-2.74-1.324-3.724-.198-4.458.652-.411 1.444-.707 2.36-.037"},{id:"3D",SynthProp:K,note:["A2","C3","E3"],viewBox:"0.5 262.7 242.5 24.57",fill:"#e8e9eb",d:"M71.296 272.53c1.153-1.072 2.373-2.257 3.779-3.066.547-.298.879-.315 1.577.244 2.414 1.972 5.196 4.378 6.755 6.2.63.779.322 1.425.049 1.93-.689 1.216-1.193 2.397-2.075 3.281-.73.687-1.659.183-2.34-.386-2.834-2.471-5.26-4.6-7.725-6.887-.498-.469-.365-.999-.02-1.316"},{id:"3E",SynthProp:Z,note:["A2","C3","E3"],viewBox:"0.5 262.7 242.5 24.57",fill:"#313638",d:"M93.332 272.696q1.792-.552 3.586-1.099c.34-.103.537.132.686.318 1.12 1.344 2.664 2.682 4.49 3.91.688.462.514.555.304.77l-1.628 1.72c-.333.343-.758.23-1.193-.022-2.39-1.428-4.915-3.005-6.377-5.088-.123-.176-.223-.396.132-.509"},{id:"3F",SynthProp:K,note:["A2","C3","E3"],viewBox:"0.5 262.7 242.5 24.57",fill:"#e8e9eb",d:"M114.519 274.563c-.825-.677-1.135-1.324-.252-2.073 1.292-1.065 2.563-2.096 4.766-2.627.491-.108.961.302 1.287.546 3.693 2.768 5.057 5.73 3.498 10.487-.163.497-.579.419-.939.144a2388 2388 0 0 1-8.36-6.477"},{id:"3G",SynthProp:Q,note:["A2","C3","E3"],viewBox:"0.5 262.7 242.5 24.57",fill:"#ffe57f",d:"M139.448 275.813c-.275-.476-.317-.659.083-1.097.387-.449 1.023-1.02 1.167-1.25.401-.578.085-1.188.05-1.523-.083-.717.17-.682.637-.591 3.074.713 2.743 3.123 3.321 4.089.153.275-.331.418-1.25 1.277-.261.251-.851.801-1.353 1.42-.238.297-.588.293-.939-.062a15 15 0 0 1-1.716-2.263"},{id:"3H",SynthProp:Z,note:["A2","C3","E3"],viewBox:"0.5 262.7 242.5 24.57",fill:"#313638",d:"M167.288 277.136c-.049.91-.019 1.167-.681 1.208q-3.189.14-6.38.272c-.552.013-.483-.449-.305-.983q1.297-3.593 2.599-7.184c.139-.354.612-.493 1.392-.369 1.002.162 2.003.327 2.999.507.734.153.616.897.593 1.348z"},{id:"3I",SynthProp:K,note:["A2","C3","E3"],viewBox:"0.5 262.7 242.5 24.57",fill:"#e8e9eb",d:"M182.296 270.011c-.306-2.454-.253-2.248 1.458-1.163 6.476 4.071 7.203 7.144 6.742 9.208-.426 1.904-1.318 2.452-2.622 1.674-2.37-1.536-5.014-4.185-5.231-6.379z"},{id:"3J",SynthProp:D,note:["A2","C3","E3"],viewBox:"0.5 262.7 242.5 24.57",fill:"#e8ceb8",d:"M202.856 273.334c1.171-1.351 2.7-2.617 4.46-3.42.406-.177.838-.108 1.686.208 1.604.623 3.214 1.233 4.814 1.904 2.292 1.02 2.024 2.057.742 3.08-1.92 1.575-3.837 3.154-5.806 4.689-1.56 1.076-3.379.023-3.986-1.027-1.129-1.94-1.67-2.995-2.212-4.05-.192-.37-.162-.855.302-1.384"},{id:"3K",SynthProp:Q,note:["A2","C3","E3"],viewBox:"-2 262.7 242.5 24.57",fill:"#ffe57f",d:"M228.9 272.164c4.684-1.007 6.103 2.379 4.523 3.96-1.812 1.807-3.733 1.771-5.452-.452-.769-1.104-1.139-2.997.929-3.508"}],Up=[{id:"2A",SynthProp:K,note:["G2","B2","D3"],viewBox:"0.5 281 242.5 24.57",fill:"#e8e9eb",d:"M10.863 289.085c1.557 1.47 3.219 3.731 4.339 5.527.885 1.493-2.098 1.98-4.209 1.957-2.771-.09-4.656-.413-6.18-1.642-.956-.783-.519-1.526.162-2.081 1.582-1.295 3.152-2.624 4.722-3.952.461-.375.908-.049 1.166.191"},{id:"2B",SynthProp:Z,note:["G2","B2","D3"],viewBox:"0.5 281 242.5 24.57",fill:"#313638",d:"M26.009 291.245c2.144-.114 4.28-.25 6.432-.344 1.333-.046 3.538 1.803 2.972 3.263-.522 1.326-1.044 2.652-1.383 3.391-.347.737-.329.855-.812.513-2.618-1.845-5.341-3.915-7.425-5.839-.959-.878-.8-.926.216-.984"},{id:"2C",SynthProp:Z,note:["G2","B2","D3"],viewBox:"0.7 281 242.5 24.57",fill:"#313638",d:"M47.085 291.076c2.992-2.252 6.231-4.02 9.97-.952 4.137 3.434.902 7.193-1.2 8.816-2.089 1.632-5.785 4.449-6.275 4.712-2.234 1.201-5.088-.043-7.066-2.085-2.721-2.811-2.808-3.975.074-6.767 1.367-1.337 2.959-2.531 4.497-3.724m1.002 5.487c-1.836-.764-2.74-.2-2.651.587.147 1.099.382 2.357 1.591 2.524 1.091.146 2.386.364 2.409-.642.024-.798.085-1.843-1.349-2.469"},{id:"2D",SynthProp:Q,note:["G2","B2","D3"],viewBox:"0.2 281 242.5 24.57",fill:"#ffe57f",d:"M72.604 291.917c2.016-1.327 3.506-1.525 6.066.283 1.66 1.248 2.52 2.712.936 4.224-1.413 1.322-2.817 1.504-5.556-.028-1.523-.893-4.119-2.773-1.446-4.479"},{id:"2E",SynthProp:Q,note:["G2","B2","D3"],viewBox:"1.6 281 242.5 24.57",fill:"#ffe57f",d:"M98.919 295.987c.15.329.63.148.613-.084a1.8 1.8 0 0 1 .067-.67c.152-.503 1.058-.93 1.37-1.387.272-.377.416-.915.446-1.216.056-.54.497-1.195.964-2.023.161-.284-.159-.344-.522-.253-1.424.378-3.87 1.064-4.631 2.021-.553.754.761 1.558 1.693 3.612"},{id:"2F",SynthProp:Z,note:["G2","B2","D3"],viewBox:"2 281 242.5 24.57",fill:"#313638",d:"m120.902 289.43 6.691 2.821c.553.229 1.378 1.662 1.791 2.655.081.191-.149.362-.448.489-.794.331-1.581.656-2.384.995-.269.113-.443.201-.684.203l-5.158.014c-1.959-.05-2.363-1.992-1.508-3.979l1.131-2.952c.135-.355.242-.374.569-.246"},{id:"2G",SynthProp:K,note:["G2","B2","D3"],viewBox:"2.2 281 242.5 24.57",fill:"#e8e9eb",d:"M139.277 289.714c2.165-.286 4.234-.544 6.524-.64 2.679-.114 5.319.607 6.718 1.486 1.682 1.021 1.447 2.95.946 3.404-2.22 1.965-4.797 3.319-7.305 4.727a.94.94 0 0 1-1.083-.099c-2.691-2.41-4.567-5.566-6.008-8.227-.245-.49-.153-.598.208-.651"},{id:"2H",SynthProp:Z,note:["G2","B2","D3"],viewBox:"1.5 281 242.5 24.57",fill:"#313638",d:"M173.969 289.625c2.012.01 2.261.589 2.322 2.342.156 6.541-8.919 4.643-12.594 3.042-1.522-.672-3.043-1.345-4.559-2.076-.909-.451.116-1.532.907-1.919 2.454-1.184 9.001-1.357 13.924-1.389"},{id:"2I",SynthProp:K,note:["G2","B2","D3"],viewBox:"4.5 281 242.5 24.57",fill:"#e8e9eb",d:"M188.985 292.326c-.096-.399.508-.814.955-1.143 2.239-1.61 6.072-1.682 7.837-.001.683.667.55 1.929.22 2.195-1.494 1.151-4.415 2.962-6.876 4.267-.317.158-.87-.018-.935-.297a598 598 0 0 1-1.201-5.021"},{id:"2J",SynthProp:Z,note:["G2","B2","D3"],viewBox:"5.5 281 242.5 24.57",fill:"#313638",d:"M216.423 290.185a29.6 29.6 0 0 1 3.365 2.52c.358.313.338.914.089 1.215a18.4 18.4 0 0 1-3.039 2.905c-.465.354-.818.267-1.408-.148-1.424-.991-2.879-2.134-3.744-3.033-.515-.525-.232-.986.039-1.206 1.089-.858 2.243-1.697 3.527-2.446.446-.255.555-.198 1.171.193"},{id:"2K",SynthProp:Z,note:["G2","B2","D3"],viewBox:"5 281 242.5 24.57",fill:"#313638",d:"M235.297 288.4c.199-.354.541-.429 1.027-.204 1.948.883 4.91 3.268 7.277 5.185.322.263.215.395.043.78a7.92 7.92 0 0 1-4.07 3.828c-.429.184-.647.207-.86.001-4.423-4.445-5.656-5.664-3.417-9.59"}],Wp=[{id:"1A",SynthProp:Z,note:["C3","E3","G3"],viewBox:"-0.7 299.3 242.5 24.57",fill:"#313638",d:"M5.978 306.415c.66-.253.895-.195 1.406.25 1.756 1.563 3.518 3.126 5.273 4.691.889.8.567 4.926-.313 6.893-.196.435-.32.362-.625.137L.225 309.385c-.361-.281-.263-.584.144-.748 1.875-.742 3.748-1.483 5.609-2.222"},{id:"1B",SynthProp:Q,note:["C3","E3","G3"],viewBox:"-0.5 299.3 242.5 24.57",fill:"#ffe57f",d:"M27.401 309.054c-.29.042-.312.248-.315.438-.024 1.732 1.318 3.7 2.217 4.186.629.326 2.961-.32 3.641-.77.23-.144.222-.229.237-.38.106-1.443-.218-2.488-.889-3.187-.175-.164-.432-.235-.688-.273-1.299-.182-2.893-.205-4.203-.014"},{id:"1C",SynthProp:Q,note:["C3","E3","G3"],viewBox:"0.5 299.3 242.5 24.57",fill:"#ffe57f",d:"M52.013 308.622c1.954.693 3.916 1.657 5.863 2.078.434.096.258.35-.057.626-.704.634-1.885 1.426-2.86 2.093-.413.277-1.15-.065-1.537-.371-1.158-.935-2.382-1.924-3.201-2.59-.561-.462-.154-1.171.199-1.451.674-.523 1.031-.591 1.593-.385"},{id:"1D",SynthProp:K,note:["C3","E3","G3"],viewBox:"0.5 299.3 242.5 24.57",fill:"#e8e9eb",d:"M84.994 307.47c.608.002.745.171.731.678-.052 2.528-.752 6.023-2.759 6.143-4.944.235-10.447.443-13.353-.494-1.177-.394-1.541-3.801-1.568-5.802-.005-.475.11-.626.499-.623z"},{id:"1E",SynthProp:Z,note:["C3","E3","G3"],viewBox:"0.5 299.3 242.5 24.57",fill:"#313638",d:"M100.595 305.817c1.843.829 5.51 3.922 5.601 4.664.057.418-.108.809-.242 1.2-1.096 3.163-8.293 7.262-12.505 3.75-3.398-3.167 3.093-7.663 6.252-9.688.274-.17.538-.081.894.074"},{id:"1F",SynthProp:Q,note:["C3","E3","G3"],viewBox:"1 299.3 242.5 24.57",fill:"#ffe57f",d:"M119.772 311.271c-.301-1.276.81-2.233 2.219-2.294 1.81-.067 3.037-.053 3.776 2.009.517 1.601-.451 2.386-2.316 2.314-1.888-.096-3.311-.415-3.679-2.029"},{id:"1G",SynthProp:Z,note:["C3","E3","G3"],viewBox:"1 299.3 242.5 24.57",fill:"#313638",d:"M141.963 310.733c-.268.166-.195.367.1.528l5.28 2.893a.58.58 0 0 0 .624-.01c1.295-.765 2.59-1.53 3.873-2.327.437-.278.275-.646.114-.95l-.194-.365c-.046-.09-.072-.186.011-.251l.491-.399c.106-.089.097-.17-.046-.194l-6.241-1.141c-.27-.046-.524.036-.741.171z"},{id:"1H",SynthProp:K,note:["C3","E3","G3"],viewBox:"0.5 299.3 242.5 24.57",fill:"#e8e9eb",d:"M163.644 310.119c-.145-.668.748-1.084 1.727-1.283 1.702-.349 4.199-.342 6.456-.146.516.048.865.204.996.692.141.556.2 1.316.146 2.057-.05.545-.397 1.254-1.494 1.418-1.982.257-4.253.243-6.78.109-.285-.019-.463-.03-.556-.501z"},{id:"1I",SynthProp:Q,note:["C3","E3","G3"],viewBox:"3 299.3 242.5 24.57",fill:"#ffe57f",d:"M193.003 307.513c1.72-.045 2.421.668 3.776 2.496.792 1.138-.66 2.573-1.801 3.527-1.728 1.351-3.012 1.124-5.474-.6-1.188-.908-2.158-2.544-1.493-3.82.602-1.116 2.386-1.524 4.992-1.603"},{id:"1J",SynthProp:K,note:["C3","E3","G3"],viewBox:"5 299.3 242.5 24.57",fill:"#e8e9eb",d:"M220 308.246c.606.01.833.106.907.6l.586 4.084c.191 1.203.194 2.03-2.016 1.919-3.589-.235-8.057-.568-10.455-1.45-1.068-.404-1.021-1.731-.03-2.84 2.104-2.288 6.612-2.354 11.008-2.313"},{id:"1K",SynthProp:Q,note:["C3","E3","G3"],viewBox:"5 299.3 242.5 24.57",fill:"#ffe57f",d:"M233.724 311.008c-.221-.296.037-.429.337-.469 1.255-.167 2.559-.715 3.304-1.428.354-.324.489-.269.785-.169 1.142.41 2.122.378 2.946.466.959.106.359.571.42.946.166 1.093-.325 2.188-2.357 3.472-1.93 1.192-4.431-1.519-5.435-2.818"}],Gp=({climb:s})=>v.jsxs(v.Fragment,{children:[v.jsx(Be,{viewBox:"0 0 242.5 24.57 ",children:Ap.map(e=>v.jsx(je,{active:s==null?void 0:s.hold_ids.includes(e.id),viewBox:e.viewBox,id:e.id,SynthProp:e.SynthProp,note:e.note,fill:e.fill,d:e.d},e.id))}),v.jsx(Be,{viewBox:"0 0 242.5 24.57",children:Ep.map(e=>v.jsx(je,{active:s==null?void 0:s.hold_ids.includes(e.id),viewBox:e.viewBox,id:e.id,SynthProp:e.SynthProp,note:e.note,fill:e.fill,d:e.d},e.id))}),v.jsx(Be,{viewBox:"0 0 242.5 24.57",children:Op.map(e=>v.jsx(je,{active:s==null?void 0:s.hold_ids.includes(e.id),viewBox:e.viewBox,id:e.id,SynthProp:e.SynthProp,note:e.note,fill:e.fill,d:e.d},e.id))}),v.jsx(Be,{viewBox:"0 0 242.5 24.57",children:Pp.map(e=>v.jsx(je,{active:s==null?void 0:s.hold_ids.includes(e.id),viewBox:e.viewBox,id:e.id,SynthProp:e.SynthProp,note:e.note,fill:e.fill,d:e.d},e.id))}),v.jsx(Be,{viewBox:"0 0 242.5 24.57",children:Mp.map(e=>v.jsx(je,{active:s==null?void 0:s.hold_ids.includes(e.id),viewBox:e.viewBox,id:e.id,SynthProp:e.SynthProp,note:e.note,fill:e.fill,d:e.d},e.id))}),v.jsx(Be,{viewBox:"0 0 242.5 24.57",children:Dp.map(e=>v.jsx(je,{active:s==null?void 0:s.hold_ids.includes(e.id),viewBox:e.viewBox,id:e.id,SynthProp:e.SynthProp,note:e.note,fill:e.fill,d:e.d},e.id))}),v.jsx(Be,{viewBox:"0 0 242.5 24.57",children:Np.map(e=>v.jsx(je,{active:s==null?void 0:s.hold_ids.includes(e.id),viewBox:e.viewBox,id:e.id,SynthProp:e.SynthProp,note:e.note,fill:e.fill,d:e.d},e.id))}),v.jsx(Be,{viewBox:"0 0 242.5 24.57",children:Rp.map(e=>v.jsx(je,{active:s==null?void 0:s.hold_ids.includes(e.id),viewBox:e.viewBox,id:e.id,SynthProp:e.SynthProp,note:e.note,fill:e.fill,d:e.d},e.id))}),v.jsx(Be,{viewBox:"0 0 242.5 24.57",children:Ip.map(e=>v.jsx(je,{active:s==null?void 0:s.hold_ids.includes(e.id),viewBox:e.viewBox,id:e.id,SynthProp:e.SynthProp,note:e.note,fill:e.fill,d:e.d},e.id))}),v.jsx(Be,{viewBox:"0 0 242.5 24.57",children:jp.map(e=>v.jsx(je,{active:s==null?void 0:s.hold_ids.includes(e.id),viewBox:e.viewBox,id:e.id,SynthProp:e.SynthProp,note:e.note,fill:e.fill,d:e.d},e.id))}),v.jsx(Be,{viewBox:"0 0 242.5 24.57",children:Bp.map(e=>v.jsx(je,{active:s==null?void 0:s.hold_ids.includes(e.id),viewBox:e.viewBox,id:e.id,SynthProp:e.SynthProp,note:e.note,fill:e.fill,d:e.d},e.id))}),v.jsx(Be,{viewBox:"0 0 242.5 24.57",children:Fp.map(e=>v.jsx(je,{active:s==null?void 0:s.hold_ids.includes(e.id),viewBox:e.viewBox,id:e.id,SynthProp:e.SynthProp,note:e.note,fill:e.fill,d:e.d},e.id))}),v.jsx(Be,{viewBox:"0 0 242.5 24.57",children:Lp.map(e=>v.jsx(je,{active:s==null?void 0:s.hold_ids.includes(e.id),viewBox:e.viewBox,id:e.id,SynthProp:e.SynthProp,note:e.note,fill:e.fill,d:e.d},e.id))}),v.jsx(Be,{viewBox:"0 0 242.5 24.57",children:Vp.map(e=>v.jsx(je,{active:s==null?void 0:s.hold_ids.includes(e.id),viewBox:e.viewBox,id:e.id,SynthProp:e.SynthProp,note:e.note,fill:e.fill,d:e.d},e.id))}),v.jsx(Be,{viewBox:"0 0 242.5 24.57",children:$p.map(e=>v.jsx(je,{active:s==null?void 0:s.hold_ids.includes(e.id),viewBox:e.viewBox,id:e.id,SynthProp:e.SynthProp,note:e.note,fill:e.fill,d:e.d},e.id))}),v.jsx(Be,{viewBox:"0 0 242.5 24.57",children:qp.map(e=>v.jsx(je,{active:s==null?void 0:s.hold_ids.includes(e.id),viewBox:e.viewBox,id:e.id,SynthProp:e.SynthProp,note:e.note,fill:e.fill,d:e.d},e.id))}),v.jsx(Be,{viewBox:"0 0 242.5 24.57",children:Up.map(e=>v.jsx(je,{active:s==null?void 0:s.hold_ids.includes(e.id),viewBox:e.viewBox,id:e.id,SynthProp:e.SynthProp,note:e.note,fill:e.fill,d:e.d},e.id))}),v.jsx(Be,{viewBox:"0 0 242.5 24.57",children:Wp.map(e=>v.jsx(je,{active:s==null?void 0:s.hold_ids.includes(e.id),viewBox:e.viewBox,id:e.id,SynthProp:e.SynthProp,note:e.note,fill:e.fill,d:e.d},e.id))})]}),zp=()=>v.jsxs(v.Fragment,{children:[v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 278.67 296.25",className:"moogLogo",children:[v.jsx("defs",{children:v.jsx("style",{children:`
        .cls-1 {
          fill: #FFFFFF;
          stroke: #FFFFFF;
          stroke-miterlimit: 10;
          stroke-width: 3px;
        }
        .cls-2 {
          fill: #231f20;
          stroke-width: 0px;
        }
      `})}),v.jsx("g",{id:"Layer_1","data-name":"Layer 1",children:v.jsx("circle",{cx:"139.36",cy:"146.91",r:"106.42",fill:"#b8cbcd",fillOpacity:0})}),v.jsx("g",{id:"Layer_2","data-name":"Layer 2",children:v.jsxs("g",{children:[v.jsxs("g",{children:[v.jsx("path",{className:"cls-1",d:"M112.4,158.56c-.05-10.27.05-20.55.3-30.83.33-12.2,6.06-19.52,15.33-19.75,9.28-.18,14.73,6.99,14.8,19.38.04,10.42.05,20.84.05,31.26-.02,12.39-5.59,19.53-15.13,19.43-9.54-.14-15.27-7.3-15.35-19.5ZM134.93,157.14c0-9.43,0-18.86.04-28.29.02-8.56-2.26-12.41-7.08-12.33-4.81.09-7.23,3.99-7.37,12.49-.15,9.37-.21,18.73-.19,28.1.03,8.5,2.43,12.35,7.34,12.4,4.92.04,7.26-3.81,7.26-12.37Z"}),v.jsx("path",{className:"cls-1",d:"M155.08,158.6c.03-10.37-.03-20.73-.18-31.1-.15-12.35,5.03-19.28,14.32-18.73,9.26.59,15.23,7.94,15.8,19.75.43,9.97.61,19.91.53,29.86-.13,11.79-6,18.86-15.52,19.22-9.54.33-14.96-6.65-14.93-19ZM177.62,157.02c.04-9.13-.09-18.26-.4-27.41-.3-8.29-2.82-12.19-7.63-12.43-4.82-.24-6.98,3.5-6.81,11.96.19,9.32.27,18.63.25,27.95-.03,8.46,2.25,12.23,7.17,12.12,4.9-.12,7.37-3.91,7.42-12.19Z"})]}),v.jsx("path",{className:"cls-1",d:"M57.74,173.41c0-.12.02-.24.01-.36-.98-13.83-.92-27.47.19-41.33.63-7.43,3.25-10.77,7.61-11.27,4.39-.5,6.22,2.47,5.71,10.27-.93,14.47-.98,28.8-.16,43.26,0,.13.04.25.06.38,2.59.17,5.18.33,7.77.47,0-.13.02-.25.02-.38-.73-14.78-.68-29.45.14-44.24.47-7.93,2.98-11.4,7.36-11.76,4.4-.36,6.34,2.83,5.99,11.03-.64,15.24-.68,30.41-.11,45.65,0,.14.04.27.05.4,2.6.12,5.19.22,7.79.32,0-.13.03-.26.03-.4-.48-15.93-.43-31.82.14-47.76.42-12.06-4.28-18.27-13.25-17.36-4.85.49-8.38,3.09-10.93,7.21-1.83-3.68-4.86-5.45-9.71-4.78-8.9,1.29-15.13,7.98-16.2,18.38-1.33,13.87-1.44,27.47-.33,41.3,0,.12.04.24.07.35,2.58.21,5.17.42,7.75.62Z"}),v.jsx("path",{className:"cls-1",d:"M210.5,112.7c-9.47-1.33-14.1,4.8-13.46,16.4.55,9.75.77,19.44.67,29.15-.13,11.56,4.95,17.85,14.68,17.07,2.64-.2,5.35-1.29,7.56-2.73-.19,2.69-.41,5.38-.68,8.09-.31,3.13-3.21,5.2-6.23,5.55-4.66.53-9.33,1.02-14,1.45-.1,0-.2.04-.3.06-.2,2.45-.42,4.91-.67,7.37.1,0,.19,0,.29,0,4.72-.16,9.43-.4,14.12-.71,7.58-1.12,12.59-6.27,13.49-14.03,2.17-16.54,2.68-32.56,1.47-48.89-1.05-10.37-7.54-17.42-16.95-18.78ZM220.6,156.61c-.09,6.92-3.75,10.87-7.77,11.09-5.12.27-7.26-3.13-7.18-10.91.07-8.59-.16-17.18-.69-25.81-.49-7.82,1.42-11.14,6.44-10.57,4.98.57,7.75,4.25,8.36,11.67.65,8.22.93,16.38.84,24.54Z"})]})})]}),v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -3 278.67 296.25",className:"moogLogoLayer",children:[v.jsx("defs",{children:v.jsx("style",{children:`
        .cls-0 {
          fill: #FFFFFF;
          stroke: #FFFFFF;
          stroke-miterlimit: 10;
          stroke-width: 3px;
        }
        .cls-2 {
          fill: #231f20;
          stroke-width: 0px;
          
        }
      `})}),v.jsx("g",{id:"Layer_1","data-name":"Layer 1",children:v.jsx("circle",{cx:"139.36",cy:"146.91",r:"106.42",fill:"#b8cbcd",fillOpacity:0})}),v.jsx("g",{id:"Layer_2","data-name":"Layer 2",children:v.jsx("g",{children:v.jsxs("g",{children:[v.jsx("path",{className:"cls-0",d:"M112.4,158.56c-.05-10.27.05-20.55.3-30.83.33-12.2,6.06-19.52,15.33-19.75,9.28-.18,14.73,6.99,14.8,19.38.04,10.42.05,20.84.05,31.26-.02,12.39-5.59,19.53-15.13,19.43-9.54-.14-15.27-7.3-15.35-19.5ZM134.93,157.14c0-9.43,0-18.86.04-28.29.02-8.56-2.26-12.41-7.08-12.33-4.81.09-7.23,3.99-7.37,12.49-.15,9.37-.21,18.73-.19,28.1.03,8.5,2.43,12.35,7.34,12.4,4.92.04,7.26-3.81,7.26-12.37Z"}),v.jsx("path",{className:"cls-0",d:"M155.08,158.6c.03-10.37-.03-20.73-.18-31.1-.15-12.35,5.03-19.28,14.32-18.73,9.26.59,15.23,7.94,15.8,19.75.43,9.97.61,19.91.53,29.86-.13,11.79-6,18.86-15.52,19.22-9.54.33-14.96-6.65-14.93-19ZM177.62,157.02c.04-9.13-.09-18.26-.4-27.41-.3-8.29-2.82-12.19-7.63-12.43-4.82-.24-6.98,3.5-6.81,11.96.19,9.32.27,18.63.25,27.95-.03,8.46,2.25,12.23,7.17,12.12,4.9-.12,7.37-3.91,7.42-12.19Z"})]})})})]}),v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0.4 -3 278.67 296.25",className:"moogLogoLayer",children:[v.jsx("defs",{children:v.jsx("style",{children:`
        .cls-0 {
          fill: #FFFFFF;
          stroke: #FFFFFF;
          stroke-miterlimit: 10;
          stroke-width: 3px;
        }
        .cls-2 {
          fill: #231f20;
          stroke-width: 0px;
          
        }
      `})}),v.jsx("g",{id:"Layer_1","data-name":"Layer 1",children:v.jsx("circle",{cx:"139.36",cy:"146.91",r:"106.42",fill:"#b8cbcd",fillOpacity:0})}),v.jsx("g",{id:"Layer_2","data-name":"Layer 2",children:v.jsx("g",{children:v.jsx("path",{className:"cls-0",d:"M210.5,112.7c-9.47-1.33-14.1,4.8-13.46,16.4.55,9.75.77,19.44.67,29.15-.13,11.56,4.95,17.85,14.68,17.07,2.64-.2,5.35-1.29,7.56-2.73-.19,2.69-.41,5.38-.68,8.09-.31,3.13-3.21,5.2-6.23,5.55-4.66.53-9.33,1.02-14,1.45-.1,0-.2.04-.3.06-.2,2.45-.42,4.91-.67,7.37.1,0,.19,0,.29,0,4.72-.16,9.43-.4,14.12-.71,7.58-1.12,12.59-6.27,13.49-14.03,2.17-16.54,2.68-32.56,1.47-48.89-1.05-10.37-7.54-17.42-16.95-18.78ZM220.6,156.61c-.09,6.92-3.75,10.87-7.77,11.09-5.12.27-7.26-3.13-7.18-10.91.07-8.59-.16-17.18-.69-25.81-.49-7.82,1.42-11.14,6.44-10.57,4.98.57,7.75,4.25,8.36,11.67.65,8.22.93,16.38.84,24.54Z"})})})]}),v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-0.1 -3 278.67 296.25",className:"moogLogoLayer",children:[v.jsx("defs",{children:v.jsx("style",{children:`
        .cls-0 {
          fill: #FFFFFF;
          stroke: #FFFFFF;
          stroke-miterlimit: 10;
          stroke-width: 3px;
        }
        .cls-2 {
          fill: #231f20;
          stroke-width: 0px;
          
        }
      `})}),v.jsx("g",{id:"Layer_1","data-name":"Layer 1",children:v.jsx("circle",{cx:"139.36",cy:"146.91",r:"106.42",fill:"#b8cbcd",fillOpacity:0})}),v.jsx("g",{id:"Layer_2","data-name":"Layer 2",children:v.jsx("g",{children:v.jsx("path",{className:"cls-0",d:"M57.74,173.41c0-.12.02-.24.01-.36-.98-13.83-.92-27.47.19-41.33.63-7.43,3.25-10.77,7.61-11.27,4.39-.5,6.22,2.47,5.71,10.27-.93,14.47-.98,28.8-.16,43.26,0,.13.04.25.06.38,2.59.17,5.18.33,7.77.47,0-.13.02-.25.02-.38-.73-14.78-.68-29.45.14-44.24.47-7.93,2.98-11.4,7.36-11.76,4.4-.36,6.34,2.83,5.99,11.03-.64,15.24-.68,30.41-.11,45.65,0,.14.04.27.05.4,2.6.12,5.19.22,7.79.32,0-.13.03-.26.03-.4-.48-15.93-.43-31.82.14-47.76.42-12.06-4.28-18.27-13.25-17.36-4.85.49-8.38,3.09-10.93,7.21-1.83-3.68-4.86-5.45-9.71-4.78-8.9,1.29-15.13,7.98-16.2,18.38-1.33,13.87-1.44,27.47-.33,41.3,0,.12.04.24.07.35,2.58.21,5.17.42,7.75.62Z"})})})]})]}),Hp=({bpm:s,animate:e})=>v.jsx("div",{className:" flex flex-col justify-start items-center  z-0 ",children:v.jsx("svg",{viewBox:"0 0 242.5 1.2",className:e&&s==10?"lineMoving10":e&&s==7?"lineMoving7":e&&s==4?"lineMoving4":"absolute h-auto invisible ",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("g",{children:v.jsx("rect",{fill:"#d97706",className:"w-[80dvw] h-[0.5px] flex flex-row justify-self-center"})})})}),il=({animate:s,handleClick:e,bpm:t,setBpm:n})=>v.jsxs("div",{className:"flex flex-col justify-start items-center",children:[v.jsx("button",{disabled:s,className:s?"buttonPlaying":"button",onClick:e,children:"play"}),v.jsxs("div",{className:"flex flex-row ",children:[v.jsx("button",{disabled:s,className:t==10&&s?"buttonSMSelectedPlaying":t!=10&&s?"buttonSMPlaying":t==10&&!s?"buttonSMSelected":"buttonSM",onClick:()=>n(10),children:"slow"}),v.jsx("button",{disabled:s,className:t==7&&s?"buttonSMSelectedPlaying":t!=7&&s?"buttonSMPlaying":t==7&&!s?"buttonSMSelected":"buttonSM",onClick:()=>n(7),children:"medium"}),v.jsx("button",{disabled:s,className:t==4&&s?"buttonSMSelectedPlaying":t!=4&&s?"buttonSMPlaying":t==4&&!s?"buttonSMSelected":"buttonSM",onClick:()=>n(4),children:"fast"})]})]}),Jp="modulepreload",Kp=function(s){return"/moogboard/"+s},va={},Bs=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(t.map(c=>{if(c=Kp(c),c in va)return;va[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":Jp,l||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),l)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Zp=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>Bs(async()=>{const{default:n}=await Promise.resolve().then(()=>os);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class jo extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class Xp extends jo{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Yp extends jo{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Qp extends jo{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ii;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Ii||(Ii={}));var e0=function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):r(u.value).then(a,c)}l((n=n.apply(s,e||[])).next())})};class t0{constructor(e,{headers:t={},customFetch:n,region:r=Ii.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=Zp(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return e0(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=t;let a={},{region:c}=t;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:l}).catch(p=>{throw new Xp(p)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new Yp(u);if(!u.ok)throw new Qp(u);let d=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return d==="application/json"?f=yield u.json():d==="application/octet-stream"?f=yield u.blob():d==="text/event-stream"?f=u:d==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(r){return{data:null,error:r}}})}}var Qe={},Bo={},Zr={},Fs={},Xr={},Yr={},n0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Yn=n0();const s0=Yn.fetch,ol=Yn.fetch.bind(Yn),al=Yn.Headers,r0=Yn.Request,i0=Yn.Response,os=Object.freeze(Object.defineProperty({__proto__:null,Headers:al,Request:r0,Response:i0,default:ol,fetch:s0},Symbol.toStringTag,{value:"Module"})),o0=Pu(os);var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});let a0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Qr.default=a0;var cl=lt&&lt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Yr,"__esModule",{value:!0});const c0=cl(o0),l0=cl(Qr);let u0=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=c0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let r=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let l=null,u=null,h=null,d=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const _=await i.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=_:u=JSON.parse(_))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&g&&g.length>1&&(h=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,d=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await i.text();try{l=JSON.parse(m),Array.isArray(l)&&i.status===404&&(u=[],l=null,d=200,f="OK")}catch{i.status===404&&m===""?(d=204,f="No Content"):l={message:m}}if(l&&this.isMaybeSingle&&(!((c=l==null?void 0:l.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,d=200,f="OK"),l&&this.shouldThrowOnError)throw new l0.default(l)}return{error:l,data:u,count:h,status:d,statusText:f}});return this.shouldThrowOnError||(r=r.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}};Yr.default=u0;var h0=lt&&lt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Xr,"__esModule",{value:!0});const d0=h0(Yr);let f0=class extends d0.default{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const c=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Xr.default=f0;var p0=lt&&lt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Fs,"__esModule",{value:!0});const m0=p0(Xr);let g0=class extends m0.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};Fs.default=g0;var _0=lt&&lt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Zr,"__esModule",{value:!0});const hs=_0(Fs);let v0=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=t,this.schema=n,this.fetch=r}select(e,{head:t=!1,count:n}={}){const r=t?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new hs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const r="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new hs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){const l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new hs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new hs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new hs.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Zr.default=v0;var ei={},ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.version=void 0;ti.version="0.0.0-automated";Object.defineProperty(ei,"__esModule",{value:!0});ei.DEFAULT_HEADERS=void 0;const y0=ti;ei.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${y0.version}`};var ll=lt&&lt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Bo,"__esModule",{value:!0});const w0=ll(Zr),b0=ll(Fs),x0=ei;let S0=class ul{constructor(e,{headers:t={},schema:n,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},x0.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new w0.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ul(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:r=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let c;n||r?(o=n?"HEAD":"GET",Object.entries(t).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{a.searchParams.append(u,h)})):(o="POST",c=t);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new b0.default({method:o,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Bo.default=S0;var as=lt&&lt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.PostgrestError=Qe.PostgrestBuilder=Qe.PostgrestTransformBuilder=Qe.PostgrestFilterBuilder=Qe.PostgrestQueryBuilder=Qe.PostgrestClient=void 0;const hl=as(Bo);Qe.PostgrestClient=hl.default;const dl=as(Zr);Qe.PostgrestQueryBuilder=dl.default;const fl=as(Fs);Qe.PostgrestFilterBuilder=fl.default;const pl=as(Xr);Qe.PostgrestTransformBuilder=pl.default;const ml=as(Yr);Qe.PostgrestBuilder=ml.default;const gl=as(Qr);Qe.PostgrestError=gl.default;var T0=Qe.default={PostgrestClient:hl.default,PostgrestQueryBuilder:dl.default,PostgrestFilterBuilder:fl.default,PostgrestTransformBuilder:pl.default,PostgrestBuilder:ml.default,PostgrestError:gl.default};const{PostgrestClient:C0,PostgrestQueryBuilder:o5,PostgrestFilterBuilder:a5,PostgrestTransformBuilder:c5,PostgrestBuilder:l5,PostgrestError:u5}=T0;let ji;typeof window>"u"?ji=require("ws"):ji=window.WebSocket;const k0=ji,A0="2.11.10",E0={"X-Client-Info":`realtime-js/${A0}`},O0="1.0.0",_l=1e4,P0=1e3;var zn;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(zn||(zn={}));var Ge;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Ge||(Ge={}));var mt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(mt||(mt={}));var Bi;(function(s){s.websocket="websocket"})(Bi||(Bi={}));var _n;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(_n||(_n={}));class M0{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+r));o=o+r;const c=n.decode(e.slice(o,o+i));o=o+i;const l=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}class vl{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _e;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(_e||(_e={}));const ya=(s,e,t={})=>{var n;const r=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=D0(o,s,e,r),i),{})},D0=(s,e,t,n)=>{const r=e.find(a=>a.name===s),i=r==null?void 0:r.type,o=t[s];return i&&!n.includes(i)?yl(i,o):Fi(o)},yl=(s,e)=>{if(s.charAt(0)==="_"){const t=s.slice(1,s.length);return j0(e,t)}switch(s){case _e.bool:return N0(e);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return R0(e);case _e.json:case _e.jsonb:return I0(e);case _e.timestamp:return B0(e);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return Fi(e);default:return Fi(e)}},Fi=s=>s,N0=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},R0=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},I0=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},j0=(s,e)=>{if(typeof s!="string")return s;const t=s.length-1,n=s[t];if(s[0]==="{"&&n==="}"){let i;const o=s.slice(1,t);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>yl(e,a))}return s},B0=s=>typeof s=="string"?s.replace(" ","T"):s,wl=s=>{let e=s;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ci{constructor(e,t,n={},r=_l){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var wa;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(wa||(wa={}));class gs{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gs.syncState(this.state,r,i,o),this.pendingDiffs.forEach(c=>{this.state=gs.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=gs.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const i=this.cloneDeep(e),o=this.transformState(t),a={},c={};return this.map(i,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const h=i[l];if(h){const d=u.map(g=>g.presence_ref),f=h.map(g=>g.presence_ref),p=u.filter(g=>f.indexOf(g.presence_ref)<0),m=h.filter(g=>d.indexOf(g.presence_ref)<0);p.length>0&&(a[l]=p),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},n,r)}static syncDiff(e,t,n,r){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(a,c)=>{var l;const u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){const h=e[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}n(a,u,c)}),this.map(o,(a,c)=>{let l=e[a];if(!l)return;const u=c.map(h=>h.presence_ref);l=l.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=l,r(a,l,c),l.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return"metas"in r?t[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[n]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ba;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(ba||(ba={}));var xa;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(xa||(xa={}));var Ft;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Ft||(Ft={}));class Fo{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ci(this,mt.join,this.params,this.timeout),this.rejoinTimer=new vl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ge.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mt.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new gs(this),this.broadcastEndpointURL=wl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Ft.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Ft.CLOSED));const c={},l={broadcast:i,presence:o,postgres_changes:(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(Ft.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,f=(h=d==null?void 0:d.length)!==null&&h!==void 0?h:0,p=[];for(let m=0;m<f;m++){const g=d[m],{filter:{event:_,schema:C,table:b,filter:S}}=g,y=u&&u[m];if(y&&y.event===_&&y.schema===C&&y.table===b&&y.filter===S)p.push(Object.assign(Object.assign({},g),{id:y.id}));else{this.unsubscribe(),this.state=Ge.errored,e==null||e(Ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(Ft.SUBSCRIBED);return}}).receive("error",u=>{this.state=Ge.errored,e==null||e(Ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=l.body)===null||r===void 0?void 0:r.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const l=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ge.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const r=new ci(this,mt.leave,{},e);r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),o}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new ci(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=mt;if(n&&[a,c,l,u].indexOf(o)>=0&&n!==this._joinRef())return;let d=this._onMessage(o,t,n);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(f=>{var p,m,g;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((g=(m=f.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(f=>f.callback(d,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var p,m,g,_,C,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const S=f.id,y=(p=f.filter)===null||p===void 0?void 0:p.event;return S&&((m=t.ids)===null||m===void 0?void 0:m.includes(S))&&(y==="*"||(y==null?void 0:y.toLocaleLowerCase())===((g=t.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const S=(C=(_=f==null?void 0:f.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return S==="*"||S===((b=t==null?void 0:t.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const p=d.data,{schema:m,table:g,commit_timestamp:_,type:C,errors:b}=p;d=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:_,eventType:C,new:{},old:{},errors:b}),this._getPayloadRecords(p))}f.callback(d,n)})}_isClosed(){return this.state===Ge.closed}_isJoined(){return this.state===Ge.joined}_isJoining(){return this.state===Ge.joining}_isLeaving(){return this.state===Ge.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Fo.isEqual(r.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(mt.close,{},e)}_onError(e){this._on(mt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ge.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=ya(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=ya(e.columns,e.old_record)),t}}const Sa=()=>{},F0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class L0{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=E0,this.params={},this.timeout=_l,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sa,this.ref=0,this.logger=Sa,this.conn=null,this.sendBuffer=[],this.serializer=new M0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Bs(async()=>{const{default:c}=await Promise.resolve().then(()=>os);return{default:c}},void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Bi.websocket}`,this.httpEndpoint=wl(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const r=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,o)=>o(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=k0),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new V0(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:O0}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case zn.connecting:return _n.Connecting;case zn.open:return _n.Open;case zn.closing:return _n.Closing;default:return _n.Closed}}isConnected(){return this.connectionState()===_n.Open}channel(e,t={config:{}}){const n=`realtime:${e}`,r=this.getChannels().find(i=>i.topic===n);if(r)return r;{const i=new Fo(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){const{topic:t,event:n,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${t} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(mt.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(P0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:r,payload:i,ref:o}=t;n==="phoenix"&&r==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${r} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(mt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${n}${r}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([F0],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class V0{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=zn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Lo extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Fe(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class $0 extends Lo{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Li extends Lo{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var q0=function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):r(u.value).then(a,c)}l((n=n.apply(s,e||[])).next())})};const bl=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>Bs(async()=>{const{default:n}=await Promise.resolve().then(()=>os);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},U0=()=>q0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bs(()=>Promise.resolve().then(()=>os),void 0)).Response:Response}),Vi=s=>{if(Array.isArray(s))return s.map(t=>Vi(t));if(typeof s=="function"||s!==Object(s))return s;const e={};return Object.entries(s).forEach(([t,n])=>{const r=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=Vi(n)}),e};var En=function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):r(u.value).then(a,c)}l((n=n.apply(s,e||[])).next())})};const li=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),W0=(s,e,t)=>En(void 0,void 0,void 0,function*(){const n=yield U0();s instanceof n&&!(t!=null&&t.noResolveJson)?s.json().then(r=>{e(new $0(li(r),s.status||500))}).catch(r=>{e(new Li(li(r),r))}):e(new Li(li(s),s))}),G0=(s,e,t,n)=>{const r={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(r.body=JSON.stringify(n)),Object.assign(Object.assign({},r),t))};function Ls(s,e,t,n,r,i){return En(this,void 0,void 0,function*(){return new Promise((o,a)=>{s(t,G0(e,n,r,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>W0(c,a,n))})})}function Tr(s,e,t,n){return En(this,void 0,void 0,function*(){return Ls(s,"GET",e,t,n)})}function en(s,e,t,n,r){return En(this,void 0,void 0,function*(){return Ls(s,"POST",e,n,r,t)})}function z0(s,e,t,n,r){return En(this,void 0,void 0,function*(){return Ls(s,"PUT",e,n,r,t)})}function H0(s,e,t,n){return En(this,void 0,void 0,function*(){return Ls(s,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function xl(s,e,t,n,r){return En(this,void 0,void 0,function*(){return Ls(s,"DELETE",e,n,r,t)})}var Xe=function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):r(u.value).then(a,c)}l((n=n.apply(s,e||[])).next())})};const J0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ta={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class K0{constructor(e,t={},n,r){this.url=e,this.headers=t,this.bucketId=n,this.fetch=bl(r)}uploadOrUpdate(e,t,n,r){return Xe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ta),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield h.json();return h.ok?{data:{path:l,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(Fe(i))return{data:null,error:i};throw i}})}upload(e,t,n){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return Xe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let c;const l=Object.assign({upsert:Ta.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",l.cacheControl)):(c=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),d=yield h.json();return h.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(c){if(Fe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return Xe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);t!=null&&t.upsert&&(r["x-upsert"]="true");const i=yield en(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Lo("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}update(e,t,n){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Xe(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}copy(e,t,n){return Xe(this,void 0,void 0,function*(){try{return{data:{path:(yield en(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return Xe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield en(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return Xe(this,void 0,void 0,function*(){try{const r=yield en(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}download(e,t){return Xe(this,void 0,void 0,function*(){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Tr(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Fe(a))return{data:null,error:a};throw a}})}info(e){return Xe(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield Tr(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Vi(n),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}exists(e){return Xe(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield H0(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Fe(n)&&n instanceof Li){const r=n.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&r.push(c);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${l}`)}}}remove(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield xl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Fe(t))return{data:null,error:t};throw t}})}list(e,t,n){return Xe(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},J0),t),{prefix:e||""});return{data:yield en(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Z0="2.7.1",X0={"X-Client-Info":`storage-js/${Z0}`};var Mn=function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):r(u.value).then(a,c)}l((n=n.apply(s,e||[])).next())})};class Y0{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},X0),t),this.fetch=bl(n)}listBuckets(){return Mn(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Fe(e))return{data:null,error:e};throw e}})}getBucket(e){return Mn(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Fe(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Mn(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Mn(this,void 0,void 0,function*(){try{return{data:yield z0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Mn(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Fe(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Mn(this,void 0,void 0,function*(){try{return{data:yield xl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Fe(t))return{data:null,error:t};throw t}})}}class Q0 extends Y0{constructor(e,t={},n){super(e,t,n)}from(e){return new K0(this.url,this.headers,e,this.fetch)}}const em="2.50.0";let ps="";typeof Deno<"u"?ps="deno":typeof document<"u"?ps="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ps="react-native":ps="node";const tm={"X-Client-Info":`supabase-js-${ps}/${em}`},nm={headers:tm},sm={schema:"public"},rm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},im={};var om=function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):r(u.value).then(a,c)}l((n=n.apply(s,e||[])).next())})};const am=s=>{let e;return s?e=s:typeof fetch>"u"?e=ol:e=fetch,(...t)=>e(...t)},cm=()=>typeof Headers>"u"?al:Headers,lm=(s,e,t)=>{const n=am(t),r=cm();return(i,o)=>om(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:s;let l=new r(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",s),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:l}))})};var um=function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):r(u.value).then(a,c)}l((n=n.apply(s,e||[])).next())})};function hm(s){return s.endsWith("/")?s:s+"/"}function dm(s,e){var t,n;const{db:r,auth:i,realtime:o,global:a}=s,{db:c,auth:l,realtime:u,global:h}=e,d={db:Object.assign(Object.assign({},c),r),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(t=h==null?void 0:h.headers)!==null&&t!==void 0?t:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>um(this,void 0,void 0,function*(){return""})};return s.accessToken?d.accessToken=s.accessToken:delete d.accessToken,d}const Sl="2.70.0",Ln=30*1e3,$i=3,ui=$i*Ln,fm="http://localhost:9999",pm="supabase.auth.token",mm={"X-Client-Info":`gotrue-js/${Sl}`},qi="X-Supabase-Api-Version",Tl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gm=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_m=6e5;class Vo extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Y(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class vm extends Vo{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function ym(s){return Y(s)&&s.name==="AuthApiError"}class Cl extends Vo{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class dn extends Vo{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class Xt extends dn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wm(s){return Y(s)&&s.name==="AuthSessionMissingError"}class Js extends dn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ks extends dn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Zs extends dn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bm(s){return Y(s)&&s.name==="AuthImplicitGrantRedirectError"}class Ca extends dn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ui extends dn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function hi(s){return Y(s)&&s.name==="AuthRetryableFetchError"}class ka extends dn{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class _s extends dn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Aa=` 	
\r=`.split(""),xm=(()=>{const s=new Array(128);for(let e=0;e<s.length;e+=1)s[e]=-1;for(let e=0;e<Aa.length;e+=1)s[Aa[e].charCodeAt(0)]=-2;for(let e=0;e<Cr.length;e+=1)s[Cr[e].charCodeAt(0)]=e;return s})();function Ea(s,e,t){if(s!==null)for(e.queue=e.queue<<8|s,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(Cr[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(Cr[n]),e.queuedBits-=6}}function kl(s,e,t){const n=xm[s];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Oa(s){const e=[],t=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{Cm(o,n,t)};for(let o=0;o<s.length;o+=1)kl(s.charCodeAt(o),r,i);return e.join("")}function Sm(s,e){if(s<=127){e(s);return}else if(s<=2047){e(192|s>>6),e(128|s&63);return}else if(s<=65535){e(224|s>>12),e(128|s>>6&63),e(128|s&63);return}else if(s<=1114111){e(240|s>>18),e(128|s>>12&63),e(128|s>>6&63),e(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Tm(s,e){for(let t=0;t<s.length;t+=1){let n=s.charCodeAt(t);if(n>55295&&n<=56319){const r=(n-55296)*1024&65535;n=(s.charCodeAt(t+1)-56320&65535|r)+65536,t+=1}Sm(n,e)}}function Cm(s,e,t){if(e.utf8seq===0){if(s<=127){t(s);return}for(let n=1;n<6;n+=1)if(!(s>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=s&31;else if(e.utf8seq===3)e.codepoint=s&15;else if(e.utf8seq===4)e.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|s&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function km(s){const e=[],t={queue:0,queuedBits:0},n=r=>{e.push(r)};for(let r=0;r<s.length;r+=1)kl(s.charCodeAt(r),t,n);return new Uint8Array(e)}function Am(s){const e=[];return Tm(s,t=>e.push(t)),new Uint8Array(e)}function Em(s){const e=[],t={queue:0,queuedBits:0},n=r=>{e.push(r)};return s.forEach(r=>Ea(r,t,n)),Ea(null,t,n),e.join("")}function Om(s){return Math.round(Date.now()/1e3)+s}function Pm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}const pt=()=>typeof window<"u"&&typeof document<"u",pn={tested:!1,writable:!1},vs=()=>{if(!pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pn.tested)return pn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),pn.tested=!0,pn.writable=!0}catch{pn.tested=!0,pn.writable=!1}return pn.writable};function Mm(s){const e={},t=new URL(s);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return t.searchParams.forEach((n,r)=>{e[r]=n}),e}const Al=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>Bs(async()=>{const{default:n}=await Promise.resolve().then(()=>os);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Dm=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",El=async(s,e,t)=>{await s.setItem(e,JSON.stringify(t))},Xs=async(s,e)=>{const t=await s.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Ys=async(s,e)=>{await s.removeItem(e)};class ni{constructor(){this.promise=new ni.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}ni.promiseConstructor=Promise;function di(s){const e=s.split(".");if(e.length!==3)throw new _s("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!gm.test(e[n]))throw new _s("JWT not in base64url format");return{header:JSON.parse(Oa(e[0])),payload:JSON.parse(Oa(e[1])),signature:km(e[2]),raw:{header:e[0],payload:e[1]}}}async function Nm(s){return await new Promise(e=>{setTimeout(()=>e(null),s)})}function Rm(s,e){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await s(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function Im(s){return("0"+s.toString(16)).substr(-2)}function jm(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let r="";for(let i=0;i<56;i++)r+=t.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(e),Array.from(e,Im).join("")}async function Bm(s){const t=new TextEncoder().encode(s),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function Fm(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const t=await Bm(s);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dn(s,e,t=!1){const n=jm();let r=n;t&&(r+="/PASSWORD_RECOVERY"),await El(s,`${e}-code-verifier`,r);const i=await Fm(n);return[i,n===i?"plain":"s256"]}const Lm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vm(s){const e=s.headers.get(qi);if(!e||!e.match(Lm))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $m(s){if(!s)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(s<=e)throw new Error("JWT has expired")}function qm(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Um=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nn(s){if(!Um.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Wm=function(s,e){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(t[n[r]]=s[n[r]]);return t};const gn=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Gm=[502,503,504];async function Pa(s){var e;if(!Dm(s))throw new Ui(gn(s),0);if(Gm.includes(s.status))throw new Ui(gn(s),s.status);let t;try{t=await s.json()}catch(i){throw new Cl(gn(i),i)}let n;const r=Vm(s);if(r&&r.getTime()>=Tl["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new ka(gn(t),s.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Xt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ka(gn(t),s.status,t.weak_password.reasons);throw new vm(gn(t),s.status||500,n)}const zm=(s,e,t,n)=>{const r={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),t))};async function te(s,e,t,n){var r;const i=Object.assign({},n==null?void 0:n.headers);i[qi]||(i[qi]=Tl["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Hm(s,e,t+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Hm(s,e,t,n,r,i){const o=zm(e,n,r,i);let a;try{a=await s(t,Object.assign({},o))}catch(c){throw console.error(c),new Ui(gn(c),0)}if(a.ok||await Pa(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await Pa(c)}}function jt(s){var e;let t=null;Xm(s)&&(t=Object.assign({},s),s.expires_at||(t.expires_at=Om(s.expires_in)));const n=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:t,user:n},error:null}}function Ma(s){const e=jt(s);return!e.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=s.weak_password),e}function tn(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function Jm(s){return{data:s,error:null}}function Km(s){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:r,verification_type:i}=s,o=Wm(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:n,redirect_to:r,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function Zm(s){return s}function Xm(s){return s.access_token&&s.refresh_token&&s.expires_in}const fi=["global","local","others"];var Ym=function(s,e){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(t[n[r]]=s[n[r]]);return t};class Qm{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Al(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=fi[0]){if(fi.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fi.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:tn})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Ym(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Km,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Y(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:tn})}catch(t){if(Y(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,i,o,a,c;try{const l={nextPage:null,lastPage:0,total:0},u=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Zm});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(p.split(";")[1].split("=")[1]);l[`${g}Page`]=m}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},h),l),error:null}}catch(l){if(Y(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Nn(e);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:tn})}catch(t){if(Y(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Nn(e);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:tn})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){Nn(e);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:tn})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Nn(e.userId);try{const{data:t,error:n}=await te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:n}}catch(t){if(Y(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Nn(e.userId),Nn(e.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}}}const e3={getItem:s=>vs()?globalThis.localStorage.getItem(s):null,setItem:(s,e)=>{vs()&&globalThis.localStorage.setItem(s,e)},removeItem:s=>{vs()&&globalThis.localStorage.removeItem(s)}};function Da(s={}){return{getItem:e=>s[e]||null,setItem:(e,t)=>{s[e]=t},removeItem:e=>{delete s[e]}}}function t3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rn={debug:!!(globalThis&&vs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ol extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class n3 extends Ol{}async function s3(s,e,t){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,r.name);try{return await t()}finally{Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,r.name)}}else{if(e===0)throw Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new n3(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Rn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}t3();const r3={url:fm,storageKey:pm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Na(s,e,t){return await t()}class Ts{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ts.nextInstanceID,Ts.nextInstanceID+=1,this.instanceID>0&&pt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},r3),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Qm({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Al(r.fetch),this.lock=r.lock||Na,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:pt()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=s3:this.lock=Na,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:vs()?this.storage=e3:(this.memoryStorage={},this.storage=Da(this.memoryStorage)):(this.memoryStorage={},this.storage=Da(this.memoryStorage)),pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sl}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=Mm(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),pt()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),bm(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Y(t)?{error:t}:{error:new Cl("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:jt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,r;try{let i;if("email"in e){const{email:u,password:h,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Dn(this.storage,this.storageKey)),i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:h,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:p},xform:jt})}else if("phone"in e){const{phone:u,password:h,options:d}=e;i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(r=d==null?void 0:d.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:jt})}else throw new Ks("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:o,options:a}=e;t=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ma})}else if("phone"in e){const{phone:i,password:o,options:a}=e;t=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ma})}else throw new Ks("You must provide either an email or phone number and a password");const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Js}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(t){if(Y(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,r,i,o,a,c,l,u,h,d,f;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:g,wallet:_,statement:C,options:b}=e;let S;if(pt())if(typeof _=="object")S=_;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))S=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=_}const y=new URL((t=b==null?void 0:b.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in S&&S.signIn){const T=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),C?{statement:C}:null));let w;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")w=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)w=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in w&&"signature"in w&&(typeof w.signedMessage=="string"||w.signedMessage instanceof Uint8Array)&&w.signature instanceof Uint8Array)p=typeof w.signedMessage=="string"?w.signedMessage:new TextDecoder().decode(w.signedMessage),m=w.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${y.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${y.href}`,`Issued At: ${(r=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(w=>`- ${w}`)]:[]].join(`
`);const T=await S.signMessage(new TextEncoder().encode(p),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=T}}try{const{data:g,error:_}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Em(m)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:jt});if(_)throw _;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Js}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:_})}catch(g){if(Y(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(e){const t=await Xs(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(t??"").split("/");try{const{data:i,error:o}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:jt});if(await Ys(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Js}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(Y(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:i,nonce:o}=e,a=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:jt}),{data:c,error:l}=a;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Js}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(t){if(Y(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,i,o;try{if("email"in e){const{email:a,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Dn(this.storage,this.storageKey));const{error:h}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:c}=e,{data:l,error:u}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Ks("You must provide either an email or phone number.")}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,n;try{let r,i;"options"in e&&(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:jt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Dn(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Jm})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Xt;const{error:r}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(Y(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:o}=await te(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:r,options:i}=e,{data:o,error:a}=await te(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ks("You must provide either an email or phone number and a type")}catch(t){if(Y(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ui:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,l,u)=>(!o&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:tn}):await this._useSession(async t=>{var n,r,i;const{data:o,error:a}=t;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xt}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:tn})})}catch(t){if(Y(t))return wm(t)&&(await this._removeSession(),await Ys(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new Xt;const o=r.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await Dn(this.storage,this.storageKey));const{data:l,error:u}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:tn});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Xt;const t=Date.now()/1e3;let n=t,r=!0,i=null;const{payload:o}=di(e.access_token);if(o.exp&&(n=o.exp,r=n<=t),r){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(Y(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Xt;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Y(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!pt())throw new Zs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Zs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Ca("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zs("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ca("No code detected.");const{data:C,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:l}=e;if(!i||!a||!o||!l)throw new Zs("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;c&&(d=parseInt(c));const f=d-u;f*1e3<=Ln&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const p=d-h;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,u);const{data:m,error:g}=await this._getUser(i);if(g)throw g;const _={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(n){if(Y(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Xs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:r,error:i}=t;if(i)return{error:i};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(ym(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ys(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=Pm(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:i},error:o}=t;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await Dn(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async i=>{var o,a,c,l,u;const{data:h,error:d}=i;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return pt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Y(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:i,error:o}=t;if(o)throw o;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(t){if(Y(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await Rm(async r=>(r>0&&await Nm(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:jt})),(r,i)=>{const o=200*Math.pow(2,r);return i&&hi(i)&&Date.now()+o-n<Ln})}catch(n){if(this._debug(t,"error",n),Y(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),pt()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await Xs(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const r=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ui;if(this._debug(t,`session has${r?"":" not"} expired with margin of ${ui}s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),hi(i)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new ni;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Xt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),Y(i)){const o={session:null,error:i};return hi(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await El(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ys(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&pt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ln);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-e)/Ln);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Ln}ms, refresh threshold is ${$i} ticks`),r<=$i&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ol)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Dn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:i}=t;return i?{data:null,error:i}:await te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Y(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:i,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:l}=await te(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((r=c==null?void 0:c.totp)===null||r===void 0)&&r.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(t){if(Y(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:i}=t;if(i)return{data:null,error:i};const{data:o,error:a}=await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(Y(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:i}=t;return i?{data:null,error:i}:await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Y(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],r=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=di(r.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+_m>Date.now()))return n;const{data:r,error:i}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!r.keys||r.keys.length===0)throw new _s("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),n=r.keys.find(o=>o.kid===e),!n)throw new _s("No matching signing key found in JWKS");return n}async getClaims(e,t={keys:[]}){try{let n=e;if(!n){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};n=f.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:c}}=di(n);if($m(i.exp),!r.kid||r.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:r,signature:o},error:null}}const l=qm(r.alg),u=await this.fetchJwk(r.kid,t),h=await crypto.subtle.importKey("jwk",u,l,!0,["verify"]);if(!await crypto.subtle.verify(l,h,o,Am(`${a}.${c}`)))throw new _s("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}}Ts.nextInstanceID=0;const i3=Ts;class o3 extends i3{constructor(e){super(e)}}var a3=function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):r(u.value).then(a,c)}l((n=n.apply(s,e||[])).next())})};class c3{constructor(e,t,n){var r,i,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=hm(e),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const l=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:sm,realtime:im,auth:Object.assign(Object.assign({},rm),{storageKey:l}),global:nm},h=dm(n??{},u);this.storageKey=(r=h.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=lm(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new C0(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new t0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Q0(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return a3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,storageKey:i,flowType:o,lock:a,debug:c},l,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new o3({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),l),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,flowType:o,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new L0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const l3=(s,e,t)=>new c3(s,e,t),u3="https://mdzmnwuwjeixnhuwpdbf.supabase.co",h3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1kem1ud3V3amVpeG5odXdwZGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc5MTY3MDEsImV4cCI6MjA1MzQ5MjcwMX0.d8qg-ZvwOR-5WACQoDvzXOU3pOa9o439rcefNBFu7ZQ",Pl=l3(u3,h3);async function d3(){const{data:s,error:e}=await Pl.from("Climbs").select("*");if(e)throw new Error(e.message);return s}async function f3(s){const{data:e,error:t}=await Pl.from("Climbs").select("*").eq("id",s).single();if(t)throw new Error(t.message);return e}const Ml=({climb:s,setClimb:e})=>{const[t,n]=k.useState(null),[r,i]=k.useState("");k.useEffect(()=>{async function a(){try{const c=await d3();n(c)}catch(c){console.error("Error fetching climb:",c)}}a()},[]);const o=async a=>{const c=await f3(a.id);e(c),console.log("climb from search:",JSON.stringify(c))};return v.jsxs("div",{className:"h-full",children:[v.jsx("input",{className:"flex flex-row w-full mt-3",type:"text",placeholder:"Search climbs...",value:r,onChange:a=>i(a.target.value)}),v.jsxs("table",{className:"flex flex-col pt-6 h-[85%]  ",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"flex flex-row justify-between px-2",children:[v.jsx("th",{children:"Name"}),v.jsx("th",{children:"Grade"})]})}),v.jsx("tbody",{className:"scrollBar",children:(t==null?void 0:t.filter(a=>a.name.toLowerCase().includes(r.toLowerCase())).map(a=>v.jsxs("tr",{className:`flex flex-row justify-between text-lg cursor-pointer p-2 rounded-md ${(s==null?void 0:s.id)===a.id?"bg-gray-200":"hover:bg-gray-100"}`,role:"row",tabIndex:0,onKeyDown:c=>c.key==="Enter"&&o(a),onClick:()=>o(a),children:[v.jsx("td",{children:a.name}),v.jsx("td",{children:a.grade})]},a.id)))??v.jsx("tr",{children:v.jsx("td",{colSpan:2,children:"No climbs available"})})})]})]})},p3=({handleClick:s,animate:e,bpm:t,setBpm:n,setClimb:r,climb:i})=>v.jsx(v.Fragment,{children:v.jsx("div",{className:"right-2 top-2 bottom-2 fixed z-10 outline-none max-w-[25dvw] flex ",children:v.jsx("div",{className:"bg-zinc-50 p-5 h-full w-full flex flex-col rounded-[16px]",children:v.jsxs("div",{className:"max-w-[300px] overflow-hidden z-10",children:[v.jsx("p",{className:"  justify-self-start font-medium mb-12 text-gray-900",children:"MoogBoard by 7akoda"}),v.jsx("div",{className:"flex flex-row justify-self-center ",children:v.jsx(il,{handleClick:s,animate:e,bpm:t,setBpm:n})}),v.jsx(Ml,{setClimb:r,climb:i}),v.jsx("div",{className:"mt-[81.3dvh] p-4 bg-gray-100 border-t border-gray-200 rounded-[16px] ",children:v.jsxs("div",{className:" pt-100 flex flex-row justify-end align-bottom gap-6 max-w-[100px] mx-auto",children:[v.jsxs("a",{className:"text-xs text-gray-600 flex items-center gap-0.25",href:"https://github.com/7akoda",target:"_blank",children:["GitHub",v.jsxs("svg",{fill:"none",height:"16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"16","aria-hidden":"true",className:"w-3 h-3 ml-1",children:[v.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),v.jsx("path",{d:"M15 3h6v6"}),v.jsx("path",{d:"M10 14L21 3"})]})]}),v.jsxs("a",{className:"text-xs text-gray-600 flex items-center gap-0.25",href:"https://www.linkedin.com/in/takoda-godin-a18a84199/",target:"_blank",children:["Linkedin",v.jsxs("svg",{fill:"none",height:"16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"16","aria-hidden":"true",className:"w-3 h-3 ml-1",children:[v.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),v.jsx("path",{d:"M15 3h6v6"}),v.jsx("path",{d:"M10 14L21 3"})]})]})]})})]})})})});function rn(s,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(s==null||s(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function Ra(s,e){if(typeof s=="function")return s(e);s!=null&&(s.current=e)}function Dl(...s){return e=>{let t=!1;const n=s.map(r=>{const i=Ra(r,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let r=0;r<n.length;r++){const i=n[r];typeof i=="function"?i():Ra(s[r],null)}}}}function On(...s){return k.useCallback(Dl(...s),s)}function m3(s,e){const t=k.createContext(e),n=i=>{const{children:o,...a}=i,c=k.useMemo(()=>a,Object.values(a));return v.jsx(t.Provider,{value:c,children:o})};n.displayName=s+"Provider";function r(i){const o=k.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${s}\``)}return[n,r]}function g3(s,e=[]){let t=[];function n(i,o){const a=k.createContext(o),c=t.length;t=[...t,o];const l=h=>{var _;const{scope:d,children:f,...p}=h,m=((_=d==null?void 0:d[s])==null?void 0:_[c])||a,g=k.useMemo(()=>p,Object.values(p));return v.jsx(m.Provider,{value:g,children:f})};l.displayName=i+"Provider";function u(h,d){var m;const f=((m=d==null?void 0:d[s])==null?void 0:m[c])||a,p=k.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[l,u]}const r=()=>{const i=t.map(o=>k.createContext(o));return function(a){const c=(a==null?void 0:a[s])||i;return k.useMemo(()=>({[`__scope${s}`]:{...a,[s]:c}}),[a,c])}};return r.scopeName=s,[n,_3(r,...e)]}function _3(...s){const e=s[0];if(s.length===1)return e;const t=()=>{const n=s.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=n.reduce((a,{useScope:c,scopeName:l})=>{const h=c(i)[`__scope${l}`];return{...a,...h}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var kr=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},v3=Mu.useId||(()=>{}),y3=0;function pi(s){const[e,t]=k.useState(v3());return kr(()=>{s||t(n=>n??String(y3++))},[s]),s||(e?`radix-${e}`:"")}function Sn(s){const e=k.useRef(s);return k.useEffect(()=>{e.current=s}),k.useMemo(()=>(...t)=>{var n;return(n=e.current)==null?void 0:n.call(e,...t)},[])}function w3({prop:s,defaultProp:e,onChange:t=()=>{}}){const[n,r]=b3({defaultProp:e,onChange:t}),i=s!==void 0,o=i?s:n,a=Sn(t),c=k.useCallback(l=>{if(i){const h=typeof l=="function"?l(s):l;h!==s&&a(h)}else r(l)},[i,s,r,a]);return[o,c]}function b3({defaultProp:s,onChange:e}){const t=k.useState(s),[n]=t,r=k.useRef(n),i=Sn(e);return k.useEffect(()=>{r.current!==n&&(i(n),r.current=n)},[n,r,i]),t}var $o=k.forwardRef((s,e)=>{const{children:t,...n}=s,r=k.Children.toArray(t),i=r.find(S3);if(i){const o=i.props.children,a=r.map(c=>c===i?k.Children.count(o)>1?k.Children.only(null):k.isValidElement(o)?o.props.children:null:c);return v.jsx(Wi,{...n,ref:e,children:k.isValidElement(o)?k.cloneElement(o,void 0,a):null})}return v.jsx(Wi,{...n,ref:e,children:t})});$o.displayName="Slot";var Wi=k.forwardRef((s,e)=>{const{children:t,...n}=s;if(k.isValidElement(t)){const r=C3(t);return k.cloneElement(t,{...T3(n,t.props),ref:e?Dl(e,r):r})}return k.Children.count(t)>1?k.Children.only(null):null});Wi.displayName="SlotClone";var x3=({children:s})=>v.jsx(v.Fragment,{children:s});function S3(s){return k.isValidElement(s)&&s.type===x3}function T3(s,e){const t={...e};for(const n in e){const r=s[n],i=e[n];/^on[A-Z]/.test(n)?r&&i?t[n]=(...a)=>{i(...a),r(...a)}:r&&(t[n]=r):n==="style"?t[n]={...r,...i}:n==="className"&&(t[n]=[r,i].filter(Boolean).join(" "))}return{...s,...t}}function C3(s){var n,r;let e=(n=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?s.ref:(e=(r=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?s.props.ref:s.props.ref||s.ref)}var k3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ht=k3.reduce((s,e)=>{const t=k.forwardRef((n,r)=>{const{asChild:i,...o}=n,a=i?$o:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(a,{...o,ref:r})});return t.displayName=`Primitive.${e}`,{...s,[e]:t}},{});function A3(s,e){s&&Du.flushSync(()=>s.dispatchEvent(e))}function E3(s,e=globalThis==null?void 0:globalThis.document){const t=Sn(s);k.useEffect(()=>{const n=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[t,e])}var O3="DismissableLayer",Gi="dismissableLayer.update",P3="dismissableLayer.pointerDownOutside",M3="dismissableLayer.focusOutside",Ia,Nl=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rl=k.forwardRef((s,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=s,l=k.useContext(Nl),[u,h]=k.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=k.useState({}),p=On(e,w=>h(w)),m=Array.from(l.layers),[g]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),_=m.indexOf(g),C=u?m.indexOf(u):-1,b=l.layersWithOutsidePointerEventsDisabled.size>0,S=C>=_,y=R3(w=>{const x=w.target,A=[...l.branches].some(O=>O.contains(x));!S||A||(r==null||r(w),o==null||o(w),w.defaultPrevented||a==null||a())},d),T=I3(w=>{const x=w.target;[...l.branches].some(O=>O.contains(x))||(i==null||i(w),o==null||o(w),w.defaultPrevented||a==null||a())},d);return E3(w=>{C===l.layers.size-1&&(n==null||n(w),!w.defaultPrevented&&a&&(w.preventDefault(),a()))},d),k.useEffect(()=>{if(u)return t&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(Ia=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),ja(),()=>{t&&l.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=Ia)}},[u,d,t,l]),k.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),ja())},[u,l]),k.useEffect(()=>{const w=()=>f({});return document.addEventListener(Gi,w),()=>document.removeEventListener(Gi,w)},[]),v.jsx(Ht.div,{...c,ref:p,style:{pointerEvents:b?S?"auto":"none":void 0,...s.style},onFocusCapture:rn(s.onFocusCapture,T.onFocusCapture),onBlurCapture:rn(s.onBlurCapture,T.onBlurCapture),onPointerDownCapture:rn(s.onPointerDownCapture,y.onPointerDownCapture)})});Rl.displayName=O3;var D3="DismissableLayerBranch",N3=k.forwardRef((s,e)=>{const t=k.useContext(Nl),n=k.useRef(null),r=On(e,n);return k.useEffect(()=>{const i=n.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),v.jsx(Ht.div,{...s,ref:r})});N3.displayName=D3;function R3(s,e=globalThis==null?void 0:globalThis.document){const t=Sn(s),n=k.useRef(!1),r=k.useRef(()=>{});return k.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let c=function(){Il(P3,t,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function I3(s,e=globalThis==null?void 0:globalThis.document){const t=Sn(s),n=k.useRef(!1);return k.useEffect(()=>{const r=i=>{i.target&&!n.current&&Il(M3,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ja(){const s=new CustomEvent(Gi);document.dispatchEvent(s)}function Il(s,e,t,{discrete:n}){const r=t.originalEvent.target,i=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(s,e,{once:!0}),n?A3(r,i):r.dispatchEvent(i)}var mi="focusScope.autoFocusOnMount",gi="focusScope.autoFocusOnUnmount",Ba={bubbles:!1,cancelable:!0},j3="FocusScope",jl=k.forwardRef((s,e)=>{const{loop:t=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...o}=s,[a,c]=k.useState(null),l=Sn(r),u=Sn(i),h=k.useRef(null),d=On(e,m=>c(m)),f=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(n){let m=function(b){if(f.paused||!a)return;const S=b.target;a.contains(S)?h.current=S:Yt(h.current,{select:!0})},g=function(b){if(f.paused||!a)return;const S=b.relatedTarget;S!==null&&(a.contains(S)||Yt(h.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const y of b)y.removedNodes.length>0&&Yt(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const C=new MutationObserver(_);return a&&C.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),C.disconnect()}}},[n,a,f.paused]),k.useEffect(()=>{if(a){La.add(f);const m=document.activeElement;if(!a.contains(m)){const _=new CustomEvent(mi,Ba);a.addEventListener(mi,l),a.dispatchEvent(_),_.defaultPrevented||(B3(q3(Bl(a)),{select:!0}),document.activeElement===m&&Yt(a))}return()=>{a.removeEventListener(mi,l),setTimeout(()=>{const _=new CustomEvent(gi,Ba);a.addEventListener(gi,u),a.dispatchEvent(_),_.defaultPrevented||Yt(m??document.body,{select:!0}),a.removeEventListener(gi,u),La.remove(f)},0)}}},[a,l,u,f]);const p=k.useCallback(m=>{if(!t&&!n||f.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,_=document.activeElement;if(g&&_){const C=m.currentTarget,[b,S]=F3(C);b&&S?!m.shiftKey&&_===S?(m.preventDefault(),t&&Yt(b,{select:!0})):m.shiftKey&&_===b&&(m.preventDefault(),t&&Yt(S,{select:!0})):_===C&&m.preventDefault()}},[t,n,f.paused]);return v.jsx(Ht.div,{tabIndex:-1,...o,ref:d,onKeyDown:p})});jl.displayName=j3;function B3(s,{select:e=!1}={}){const t=document.activeElement;for(const n of s)if(Yt(n,{select:e}),document.activeElement!==t)return}function F3(s){const e=Bl(s),t=Fa(e,s),n=Fa(e.reverse(),s);return[t,n]}function Bl(s){const e=[],t=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Fa(s,e){for(const t of s)if(!L3(t,{upTo:e}))return t}function L3(s,{upTo:e}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(e!==void 0&&s===e)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function V3(s){return s instanceof HTMLInputElement&&"select"in s}function Yt(s,{select:e=!1}={}){if(s&&s.focus){const t=document.activeElement;s.focus({preventScroll:!0}),s!==t&&V3(s)&&e&&s.select()}}var La=$3();function $3(){let s=[];return{add(e){const t=s[0];e!==t&&(t==null||t.pause()),s=Va(s,e),s.unshift(e)},remove(e){var t;s=Va(s,e),(t=s[0])==null||t.resume()}}}function Va(s,e){const t=[...s],n=t.indexOf(e);return n!==-1&&t.splice(n,1),t}function q3(s){return s.filter(e=>e.tagName!=="A")}var U3="Portal",Fl=k.forwardRef((s,e)=>{var a;const{container:t,...n}=s,[r,i]=k.useState(!1);kr(()=>i(!0),[]);const o=t||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Nu.createPortal(v.jsx(Ht.div,{...n,ref:e}),o):null});Fl.displayName=U3;function W3(s,e){return k.useReducer((t,n)=>e[t][n]??t,s)}var si=s=>{const{present:e,children:t}=s,n=G3(e),r=typeof t=="function"?t({present:n.isPresent}):k.Children.only(t),i=On(n.ref,z3(r));return typeof t=="function"||n.isPresent?k.cloneElement(r,{ref:i}):null};si.displayName="Presence";function G3(s){const[e,t]=k.useState(),n=k.useRef({}),r=k.useRef(s),i=k.useRef("none"),o=s?"mounted":"unmounted",[a,c]=W3(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const l=Qs(n.current);i.current=a==="mounted"?l:"none"},[a]),kr(()=>{const l=n.current,u=r.current;if(u!==s){const d=i.current,f=Qs(l);s?c("MOUNT"):f==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&d!==f?"ANIMATION_OUT":"UNMOUNT"),r.current=s}},[s,c]),kr(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,h=f=>{const m=Qs(n.current).includes(f.animationName);if(f.target===e&&m&&(c("ANIMATION_END"),!r.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},d=f=>{f.target===e&&(i.current=Qs(n.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:k.useCallback(l=>{l&&(n.current=getComputedStyle(l)),t(l)},[])}}function Qs(s){return(s==null?void 0:s.animationName)||"none"}function z3(s){var n,r;let e=(n=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?s.ref:(e=(r=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?s.props.ref:s.props.ref||s.ref)}var _i=0;function H3(){k.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??$a()),document.body.insertAdjacentElement("beforeend",s[1]??$a()),_i++,()=>{_i===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),_i--}},[])}function $a(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.outline="none",s.style.opacity="0",s.style.position="fixed",s.style.pointerEvents="none",s}var cr="right-scroll-bar-position",lr="width-before-scroll-bar",J3="with-scroll-bars-hidden",K3="--removed-body-scroll-bar-size";function vi(s,e){return typeof s=="function"?s(e):s&&(s.current=e),s}function Z3(s,e){var t=k.useState(function(){return{value:s,callback:e,facade:{get current(){return t.value},set current(n){var r=t.value;r!==n&&(t.value=n,t.callback(n,r))}}}})[0];return t.callback=e,t.facade}var X3=typeof window<"u"?k.useLayoutEffect:k.useEffect,qa=new WeakMap;function Y3(s,e){var t=Z3(null,function(n){return s.forEach(function(r){return vi(r,n)})});return X3(function(){var n=qa.get(t);if(n){var r=new Set(n),i=new Set(s),o=t.current;r.forEach(function(a){i.has(a)||vi(a,null)}),i.forEach(function(a){r.has(a)||vi(a,o)})}qa.set(t,s)},[s]),t}function Q3(s){return s}function eg(s,e){e===void 0&&(e=Q3);var t=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:s},useMedium:function(i){var o=e(i,n);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;t.length;){var o=t;t=[],o.forEach(i)}t={push:function(a){return i(a)},filter:function(){return t}}},assignMedium:function(i){n=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(i),o=t}var c=function(){var u=o;o=[],u.forEach(i)},l=function(){return Promise.resolve().then(c)};l(),t={push:function(u){o.push(u),l()},filter:function(u){return o=o.filter(u),t}}}};return r}function tg(s){s===void 0&&(s={});var e=eg(null);return e.options=Ot({async:!0,ssr:!1},s),e}var Ll=function(s){var e=s.sideCar,t=Hc(s,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return k.createElement(n,Ot({},t))};Ll.isSideCarExport=!0;function ng(s,e){return s.useMedium(e),Ll}var Vl=tg(),yi=function(){},ri=k.forwardRef(function(s,e){var t=k.useRef(null),n=k.useState({onScrollCapture:yi,onWheelCapture:yi,onTouchMoveCapture:yi}),r=n[0],i=n[1],o=s.forwardProps,a=s.children,c=s.className,l=s.removeScrollBar,u=s.enabled,h=s.shards,d=s.sideCar,f=s.noIsolation,p=s.inert,m=s.allowPinchZoom,g=s.as,_=g===void 0?"div":g,C=s.gapMode,b=Hc(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=d,y=Y3([t,e]),T=Ot(Ot({},b),r);return k.createElement(k.Fragment,null,u&&k.createElement(S,{sideCar:Vl,removeScrollBar:l,shards:h,noIsolation:f,inert:p,setCallbacks:i,allowPinchZoom:!!m,lockRef:t,gapMode:C}),o?k.cloneElement(k.Children.only(a),Ot(Ot({},T),{ref:y})):k.createElement(_,Ot({},T,{className:c,ref:y}),a))});ri.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ri.classNames={fullWidth:lr,zeroRight:cr};var sg=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rg(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var e=sg();return e&&s.setAttribute("nonce",e),s}function ig(s,e){s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}function og(s){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(s)}var ag=function(){var s=0,e=null;return{add:function(t){s==0&&(e=rg())&&(ig(e,t),og(e)),s++},remove:function(){s--,!s&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},cg=function(){var s=ag();return function(e,t){k.useEffect(function(){return s.add(e),function(){s.remove()}},[e&&t])}},$l=function(){var s=cg(),e=function(t){var n=t.styles,r=t.dynamic;return s(n,r),null};return e},lg={left:0,top:0,right:0,gap:0},wi=function(s){return parseInt(s||"",10)||0},ug=function(s){var e=window.getComputedStyle(document.body),t=e[s==="padding"?"paddingLeft":"marginLeft"],n=e[s==="padding"?"paddingTop":"marginTop"],r=e[s==="padding"?"paddingRight":"marginRight"];return[wi(t),wi(n),wi(r)]},hg=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return lg;var e=ug(s),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-t+e[2]-e[0])}},dg=$l(),Hn="data-scroll-locked",fg=function(s,e,t,n){var r=s.left,i=s.top,o=s.right,a=s.gap;return t===void 0&&(t="margin"),`
  .`.concat(J3,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Hn,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cr,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(lr,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(cr," .").concat(cr,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(lr," .").concat(lr,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Hn,`] {
    `).concat(K3,": ").concat(a,`px;
  }
`)},Ua=function(){var s=parseInt(document.body.getAttribute(Hn)||"0",10);return isFinite(s)?s:0},pg=function(){k.useEffect(function(){return document.body.setAttribute(Hn,(Ua()+1).toString()),function(){var s=Ua()-1;s<=0?document.body.removeAttribute(Hn):document.body.setAttribute(Hn,s.toString())}},[])},mg=function(s){var e=s.noRelative,t=s.noImportant,n=s.gapMode,r=n===void 0?"margin":n;pg();var i=k.useMemo(function(){return hg(r)},[r]);return k.createElement(dg,{styles:fg(i,!e,r,t?"":"!important")})},zi=!1;if(typeof window<"u")try{var er=Object.defineProperty({},"passive",{get:function(){return zi=!0,!0}});window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{zi=!1}var In=zi?{passive:!1}:!1,gg=function(s){return s.tagName==="TEXTAREA"},ql=function(s,e){if(!(s instanceof Element))return!1;var t=window.getComputedStyle(s);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!gg(s)&&t[e]==="visible")},_g=function(s){return ql(s,"overflowY")},vg=function(s){return ql(s,"overflowX")},Wa=function(s,e){var t=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=Ul(s,n);if(r){var i=Wl(s,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},yg=function(s){var e=s.scrollTop,t=s.scrollHeight,n=s.clientHeight;return[e,t,n]},wg=function(s){var e=s.scrollLeft,t=s.scrollWidth,n=s.clientWidth;return[e,t,n]},Ul=function(s,e){return s==="v"?_g(e):vg(e)},Wl=function(s,e){return s==="v"?yg(e):wg(e)},bg=function(s,e){return s==="h"&&e==="rtl"?-1:1},xg=function(s,e,t,n,r){var i=bg(s,window.getComputedStyle(e).direction),o=i*n,a=t.target,c=e.contains(a),l=!1,u=o>0,h=0,d=0;do{var f=Wl(s,a),p=f[0],m=f[1],g=f[2],_=m-g-i*p;(p||_)&&Ul(s,a)&&(h+=_,d+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(u&&(Math.abs(h)<1||!r)||!u&&(Math.abs(d)<1||!r))&&(l=!0),l},tr=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},Ga=function(s){return[s.deltaX,s.deltaY]},za=function(s){return s&&"current"in s?s.current:s},Sg=function(s,e){return s[0]===e[0]&&s[1]===e[1]},Tg=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},Cg=0,jn=[];function kg(s){var e=k.useRef([]),t=k.useRef([0,0]),n=k.useRef(),r=k.useState(Cg++)[0],i=k.useState($l)[0],o=k.useRef(s);k.useEffect(function(){o.current=s},[s]),k.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(r));var m=K2([s.lockRef.current],(s.shards||[]).map(za),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(r))})}}},[s.inert,s.lockRef.current,s.shards]);var a=k.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var _=tr(m),C=t.current,b="deltaX"in m?m.deltaX:C[0]-_[0],S="deltaY"in m?m.deltaY:C[1]-_[1],y,T=m.target,w=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in m&&w==="h"&&T.type==="range")return!1;var x=Wa(w,T);if(!x)return!0;if(x?y=w:(y=w==="v"?"h":"v",x=Wa(w,T)),!x)return!1;if(!n.current&&"changedTouches"in m&&(b||S)&&(n.current=y),!y)return!0;var A=n.current||y;return xg(A,g,m,A==="h"?b:S,!0)},[]),c=k.useCallback(function(m){var g=m;if(!(!jn.length||jn[jn.length-1]!==i)){var _="deltaY"in g?Ga(g):tr(g),C=e.current.filter(function(y){return y.name===g.type&&(y.target===g.target||g.target===y.shadowParent)&&Sg(y.delta,_)})[0];if(C&&C.should){g.cancelable&&g.preventDefault();return}if(!C){var b=(o.current.shards||[]).map(za).filter(Boolean).filter(function(y){return y.contains(g.target)}),S=b.length>0?a(g,b[0]):!o.current.noIsolation;S&&g.cancelable&&g.preventDefault()}}},[]),l=k.useCallback(function(m,g,_,C){var b={name:m,delta:g,target:_,should:C,shadowParent:Ag(_)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(S){return S!==b})},1)},[]),u=k.useCallback(function(m){t.current=tr(m),n.current=void 0},[]),h=k.useCallback(function(m){l(m.type,Ga(m),m.target,a(m,s.lockRef.current))},[]),d=k.useCallback(function(m){l(m.type,tr(m),m.target,a(m,s.lockRef.current))},[]);k.useEffect(function(){return jn.push(i),s.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",c,In),document.addEventListener("touchmove",c,In),document.addEventListener("touchstart",u,In),function(){jn=jn.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,In),document.removeEventListener("touchmove",c,In),document.removeEventListener("touchstart",u,In)}},[]);var f=s.removeScrollBar,p=s.inert;return k.createElement(k.Fragment,null,p?k.createElement(i,{styles:Tg(r)}):null,f?k.createElement(mg,{gapMode:s.gapMode}):null)}function Ag(s){for(var e=null;s!==null;)s instanceof ShadowRoot&&(e=s.host,s=s.host),s=s.parentNode;return e}const Eg=ng(Vl,kg);var Gl=k.forwardRef(function(s,e){return k.createElement(ri,Ot({},s,{ref:e,sideCar:Eg}))});Gl.classNames=ri.classNames;var Og=function(s){if(typeof document>"u")return null;var e=Array.isArray(s)?s[0]:s;return e.ownerDocument.body},Bn=new WeakMap,nr=new WeakMap,sr={},bi=0,zl=function(s){return s&&(s.host||zl(s.parentNode))},Pg=function(s,e){return e.map(function(t){if(s.contains(t))return t;var n=zl(t);return n&&s.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",s,". Doing nothing"),null)}).filter(function(t){return!!t})},Mg=function(s,e,t,n){var r=Pg(e,Array.isArray(s)?s:[s]);sr[t]||(sr[t]=new WeakMap);var i=sr[t],o=[],a=new Set,c=new Set(r),l=function(h){!h||a.has(h)||(a.add(h),l(h.parentNode))};r.forEach(l);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(d){if(a.has(d))u(d);else try{var f=d.getAttribute(n),p=f!==null&&f!=="false",m=(Bn.get(d)||0)+1,g=(i.get(d)||0)+1;Bn.set(d,m),i.set(d,g),o.push(d),m===1&&p&&nr.set(d,!0),g===1&&d.setAttribute(t,"true"),p||d.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",d,_)}})};return u(e),a.clear(),bi++,function(){o.forEach(function(h){var d=Bn.get(h)-1,f=i.get(h)-1;Bn.set(h,d),i.set(h,f),d||(nr.has(h)||h.removeAttribute(n),nr.delete(h)),f||h.removeAttribute(t)}),bi--,bi||(Bn=new WeakMap,Bn=new WeakMap,nr=new WeakMap,sr={})}},Dg=function(s,e,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(s)?s:[s]),r=Og(s);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live]"))),Mg(n,r,t,"aria-hidden")):function(){return null}},qo="Dialog",[Hl,h5]=g3(qo),[Ng,kt]=Hl(qo),Jl=s=>{const{__scopeDialog:e,children:t,open:n,defaultOpen:r,onOpenChange:i,modal:o=!0}=s,a=k.useRef(null),c=k.useRef(null),[l=!1,u]=w3({prop:n,defaultProp:r,onChange:i});return v.jsx(Ng,{scope:e,triggerRef:a,contentRef:c,contentId:pi(),titleId:pi(),descriptionId:pi(),open:l,onOpenChange:u,onOpenToggle:k.useCallback(()=>u(h=>!h),[u]),modal:o,children:t})};Jl.displayName=qo;var Kl="DialogTrigger",Zl=k.forwardRef((s,e)=>{const{__scopeDialog:t,...n}=s,r=kt(Kl,t),i=On(e,r.triggerRef);return v.jsx(Ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Go(r.open),...n,ref:i,onClick:rn(s.onClick,r.onOpenToggle)})});Zl.displayName=Kl;var Uo="DialogPortal",[Rg,Xl]=Hl(Uo,{forceMount:void 0}),Yl=s=>{const{__scopeDialog:e,forceMount:t,children:n,container:r}=s,i=kt(Uo,e);return v.jsx(Rg,{scope:e,forceMount:t,children:k.Children.map(n,o=>v.jsx(si,{present:t||i.open,children:v.jsx(Fl,{asChild:!0,container:r,children:o})}))})};Yl.displayName=Uo;var Ar="DialogOverlay",Ql=k.forwardRef((s,e)=>{const t=Xl(Ar,s.__scopeDialog),{forceMount:n=t.forceMount,...r}=s,i=kt(Ar,s.__scopeDialog);return i.modal?v.jsx(si,{present:n||i.open,children:v.jsx(Ig,{...r,ref:e})}):null});Ql.displayName=Ar;var Ig=k.forwardRef((s,e)=>{const{__scopeDialog:t,...n}=s,r=kt(Ar,t);return v.jsx(Gl,{as:$o,allowPinchZoom:!0,shards:[r.contentRef],children:v.jsx(Ht.div,{"data-state":Go(r.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Tn="DialogContent",eu=k.forwardRef((s,e)=>{const t=Xl(Tn,s.__scopeDialog),{forceMount:n=t.forceMount,...r}=s,i=kt(Tn,s.__scopeDialog);return v.jsx(si,{present:n||i.open,children:i.modal?v.jsx(jg,{...r,ref:e}):v.jsx(Bg,{...r,ref:e})})});eu.displayName=Tn;var jg=k.forwardRef((s,e)=>{const t=kt(Tn,s.__scopeDialog),n=k.useRef(null),r=On(e,t.contentRef,n);return k.useEffect(()=>{const i=n.current;if(i)return Dg(i)},[]),v.jsx(tu,{...s,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rn(s.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:rn(s.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:rn(s.onFocusOutside,i=>i.preventDefault())})}),Bg=k.forwardRef((s,e)=>{const t=kt(Tn,s.__scopeDialog),n=k.useRef(!1),r=k.useRef(!1);return v.jsx(tu,{...s,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=s.onCloseAutoFocus)==null||o.call(s,i),i.defaultPrevented||(n.current||(a=t.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:i=>{var c,l;(c=s.onInteractOutside)==null||c.call(s,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=i.target;((l=t.triggerRef.current)==null?void 0:l.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),tu=k.forwardRef((s,e)=>{const{__scopeDialog:t,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:i,...o}=s,a=kt(Tn,t),c=k.useRef(null),l=On(e,c);return H3(),v.jsxs(v.Fragment,{children:[v.jsx(jl,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:i,children:v.jsx(Rl,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Go(a.open),...o,ref:l,onDismiss:()=>a.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(Fg,{titleId:a.titleId}),v.jsx(Vg,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Wo="DialogTitle",nu=k.forwardRef((s,e)=>{const{__scopeDialog:t,...n}=s,r=kt(Wo,t);return v.jsx(Ht.h2,{id:r.titleId,...n,ref:e})});nu.displayName=Wo;var su="DialogDescription",ru=k.forwardRef((s,e)=>{const{__scopeDialog:t,...n}=s,r=kt(su,t);return v.jsx(Ht.p,{id:r.descriptionId,...n,ref:e})});ru.displayName=su;var iu="DialogClose",ou=k.forwardRef((s,e)=>{const{__scopeDialog:t,...n}=s,r=kt(iu,t);return v.jsx(Ht.button,{type:"button",...n,ref:e,onClick:rn(s.onClick,()=>r.onOpenChange(!1))})});ou.displayName=iu;function Go(s){return s?"open":"closed"}var au="DialogTitleWarning",[d5,cu]=m3(au,{contentName:Tn,titleName:Wo,docsSlug:"dialog"}),Fg=({titleId:s})=>{const e=cu(au),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return k.useEffect(()=>{s&&(document.getElementById(s)||console.error(t))},[t,s]),null},Lg="DialogDescriptionWarning",Vg=({contentRef:s,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cu(Lg).contentName}}.`;return k.useEffect(()=>{var i;const r=(i=s.current)==null?void 0:i.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(n))},[n,s,e]),null},$g=Jl,qg=Zl,Ug=Yl,Wg=Ql,Gg=eu,zg=nu,Hg=ru,Jg=ou;function Kg(s){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}const lu=B.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),cs=()=>{const s=B.useContext(lu);if(!s)throw new Error("useDrawerContext must be used within a Drawer.Root");return s};Kg(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Zg(){const s=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(s)&&/Mobile/.test(s)||/FxiOS/.test(s))}function Xg(){return zo(/^Mac/)}function Yg(){return zo(/^iPhone/)}function Ha(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Qg(){return zo(/^iPad/)||Xg()&&navigator.maxTouchPoints>1}function uu(){return Yg()||Qg()}function zo(s){return typeof window<"u"&&window.navigator!=null?s.test(window.navigator.platform):void 0}const e4=24,t4=typeof window<"u"?k.useLayoutEffect:k.useEffect;function Ja(...s){return(...e)=>{for(let t of s)typeof t=="function"&&t(...e)}}const xi=typeof document<"u"&&window.visualViewport;function Ka(s){let e=window.getComputedStyle(s);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function hu(s){for(Ka(s)&&(s=s.parentElement);s&&!Ka(s);)s=s.parentElement;return s||document.scrollingElement||document.documentElement}const n4=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let rr=0,Si;function s4(s={}){let{isDisabled:e}=s;t4(()=>{if(!e)return rr++,rr===1&&uu()&&(Si=r4()),()=>{rr--,rr===0&&(Si==null||Si())}},[e])}function r4(){let s,e=0,t=h=>{s=hu(h.target),!(s===document.documentElement&&s===document.body)&&(e=h.changedTouches[0].pageY)},n=h=>{if(!s||s===document.documentElement||s===document.body){h.preventDefault();return}let d=h.changedTouches[0].pageY,f=s.scrollTop,p=s.scrollHeight-s.clientHeight;p!==0&&((f<=0&&d>e||f>=p&&d<e)&&h.preventDefault(),e=d)},r=h=>{let d=h.target;Hi(d)&&d!==document.activeElement&&(h.preventDefault(),d.style.transform="translateY(-2000px)",d.focus(),requestAnimationFrame(()=>{d.style.transform=""}))},i=h=>{let d=h.target;Hi(d)&&(d.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{d.style.transform="",xi&&(xi.height<window.innerHeight?requestAnimationFrame(()=>{Za(d)}):xi.addEventListener("resize",()=>Za(d),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},a=window.pageXOffset,c=window.pageYOffset,l=Ja(i4(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let u=Ja(ds(document,"touchstart",t,{passive:!1,capture:!0}),ds(document,"touchmove",n,{passive:!1,capture:!0}),ds(document,"touchend",r,{passive:!1,capture:!0}),ds(document,"focus",i,!0),ds(window,"scroll",o));return()=>{l(),u(),window.scrollTo(a,c)}}function i4(s,e,t){let n=s.style[e];return s.style[e]=t,()=>{s.style[e]=n}}function ds(s,e,t,n){return s.addEventListener(e,t,n),()=>{s.removeEventListener(e,t,n)}}function Za(s){let e=document.scrollingElement||document.documentElement;for(;s&&s!==e;){let t=hu(s);if(t!==document.documentElement&&t!==document.body&&t!==s){let n=t.getBoundingClientRect().top,r=s.getBoundingClientRect().top,i=s.getBoundingClientRect().bottom;const o=t.getBoundingClientRect().bottom+e4;i>o&&(t.scrollTop+=r-n)}s=t.parentElement}}function Hi(s){return s instanceof HTMLInputElement&&!n4.has(s.type)||s instanceof HTMLTextAreaElement||s instanceof HTMLElement&&s.isContentEditable}function o4(s,e){typeof s=="function"?s(e):s!=null&&(s.current=e)}function a4(...s){return e=>s.forEach(t=>o4(t,e))}function du(...s){return k.useCallback(a4(...s),s)}const fu=new WeakMap;function Ne(s,e,t=!1){if(!s||!(s instanceof HTMLElement))return;let n={};Object.entries(e).forEach(([r,i])=>{if(r.startsWith("--")){s.style.setProperty(r,i);return}n[r]=s.style[r],s.style[r]=i}),!t&&fu.set(s,n)}function c4(s,e){if(!s||!(s instanceof HTMLElement))return;let t=fu.get(s);t&&(s.style[e]=t[e])}const Me=s=>{switch(s){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return s}};function ir(s,e){if(!s)return null;const t=window.getComputedStyle(s),n=t.transform||t.webkitTransform||t.mozTransform;let r=n.match(/^matrix3d\((.+)\)$/);return r?parseFloat(r[1].split(", ")[Me(e)?13:12]):(r=n.match(/^matrix\((.+)\)$/),r?parseFloat(r[1].split(", ")[Me(e)?5:4]):null)}function l4(s){return 8*(Math.log(s+1)-2)}function Ti(s,e){if(!s)return()=>{};const t=s.style.cssText;return Object.assign(s.style,e),()=>{s.style.cssText=t}}function u4(...s){return(...e)=>{for(const t of s)typeof t=="function"&&t(...e)}}const Se={DURATION:.5,EASE:[.32,.72,0,1]},pu=.4,h4=.25,d4=100,mu=8,mn=16,Ji=26,Ci="vaul-dragging";function gu(s){const e=B.useRef(s);return B.useEffect(()=>{e.current=s}),B.useMemo(()=>(...t)=>e.current==null?void 0:e.current.call(e,...t),[])}function f4({defaultProp:s,onChange:e}){const t=B.useState(s),[n]=t,r=B.useRef(n),i=gu(e);return B.useEffect(()=>{r.current!==n&&(i(n),r.current=n)},[n,r,i]),t}function _u({prop:s,defaultProp:e,onChange:t=()=>{}}){const[n,r]=f4({defaultProp:e,onChange:t}),i=s!==void 0,o=i?s:n,a=gu(t),c=B.useCallback(l=>{if(i){const h=typeof l=="function"?l(s):l;h!==s&&a(h)}else r(l)},[i,s,r,a]);return[o,c]}function p4({activeSnapPointProp:s,setActiveSnapPointProp:e,snapPoints:t,drawerRef:n,overlayRef:r,fadeFromIndex:i,onSnapPointChange:o,direction:a="bottom",container:c,snapToSequentialPoint:l}){const[u,h]=_u({prop:s,defaultProp:t==null?void 0:t[0],onChange:e}),[d,f]=B.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);B.useEffect(()=>{function w(){f({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const p=B.useMemo(()=>u===(t==null?void 0:t[t.length-1])||null,[t,u]),m=B.useMemo(()=>{var w;return(w=t==null?void 0:t.findIndex(x=>x===u))!=null?w:null},[t,u]),g=t&&t.length>0&&(i||i===0)&&!Number.isNaN(i)&&t[i]===u||!t,_=B.useMemo(()=>{const w=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var x;return(x=t==null?void 0:t.map(A=>{const O=typeof A=="string";let M=0;if(O&&(M=parseInt(A,10)),Me(a)){const P=O?M:d?A*w.height:0;return d?a==="bottom"?w.height-P:-w.height+P:P}const E=O?M:d?A*w.width:0;return d?a==="right"?w.width-E:-w.width+E:E}))!=null?x:[]},[t,d,c]),C=B.useMemo(()=>m!==null?_==null?void 0:_[m]:null,[_,m]),b=B.useCallback(w=>{var x;const A=(x=_==null?void 0:_.findIndex(O=>O===w))!=null?x:null;o(A),Ne(n.current,{transition:`transform ${Se.DURATION}s cubic-bezier(${Se.EASE.join(",")})`,transform:Me(a)?`translate3d(0, ${w}px, 0)`:`translate3d(${w}px, 0, 0)`}),_&&A!==_.length-1&&i!==void 0&&A!==i&&A<i?Ne(r.current,{transition:`opacity ${Se.DURATION}s cubic-bezier(${Se.EASE.join(",")})`,opacity:"0"}):Ne(r.current,{transition:`opacity ${Se.DURATION}s cubic-bezier(${Se.EASE.join(",")})`,opacity:"1"}),h(t==null?void 0:t[Math.max(A,0)])},[n.current,t,_,i,r,h]);B.useEffect(()=>{if(u||s){var w;const x=(w=t==null?void 0:t.findIndex(A=>A===s||A===u))!=null?w:-1;_&&x!==-1&&typeof _[x]=="number"&&b(_[x])}},[u,s,t,_,b]);function S({draggedDistance:w,closeDrawer:x,velocity:A,dismissible:O}){if(i===void 0)return;const M=a==="bottom"||a==="right"?(C??0)-w:(C??0)+w,E=m===i-1,P=m===0,N=w>0;if(E&&Ne(r.current,{transition:`opacity ${Se.DURATION}s cubic-bezier(${Se.EASE.join(",")})`}),!l&&A>2&&!N){O?x():b(_[0]);return}if(!l&&A>2&&N&&_&&t){b(_[t.length-1]);return}const F=_==null?void 0:_.reduce((R,z)=>typeof R!="number"||typeof z!="number"?R:Math.abs(z-M)<Math.abs(R-M)?z:R),I=Me(a)?window.innerHeight:window.innerWidth;if(A>pu&&Math.abs(w)<I*.4){const R=N?1:-1;if(R>0&&p&&t){b(_[t.length-1]);return}if(P&&R<0&&O&&x(),m===null)return;b(_[m+R]);return}b(F)}function y({draggedDistance:w}){if(C===null)return;const x=a==="bottom"||a==="right"?C-w:C+w;(a==="bottom"||a==="right")&&x<_[_.length-1]||(a==="top"||a==="left")&&x>_[_.length-1]||Ne(n.current,{transform:Me(a)?`translate3d(0, ${x}px, 0)`:`translate3d(${x}px, 0, 0)`})}function T(w,x){if(!t||typeof m!="number"||!_||i===void 0)return null;const A=m===i-1;if(m>=i&&x)return 0;if(A&&!x)return 1;if(!g&&!A)return null;const M=A?m+1:m-1,E=A?_[M]-_[M-1]:_[M+1]-_[M],P=w/Math.abs(E);return A?1-P:P}return{isLastSnapPoint:p,activeSnapPoint:u,shouldFade:g,getPercentageDragged:T,setActiveSnapPoint:h,activeSnapPointIndex:m,onRelease:S,onDrag:y,snapPointsOffset:_}}const m4=()=>()=>{};function g4(){const{direction:s,isOpen:e,shouldScaleBackground:t,setBackgroundColorOnScale:n,noBodyStyles:r}=cs(),i=B.useRef(null),o=k.useMemo(()=>document.body.style.backgroundColor,[]);function a(){return(window.innerWidth-Ji)/window.innerWidth}B.useEffect(()=>{if(e&&t){i.current&&clearTimeout(i.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;u4(n&&!r?Ti(document.body,{background:"black"}):m4,Ti(c,{transformOrigin:Me(s)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Se.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Se.EASE.join(",")})`}));const l=Ti(c,{borderRadius:`${mu}px`,overflow:"hidden",...Me(s)?{transform:`scale(${a()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${a()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{l(),i.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},Se.DURATION*1e3)}}},[e,t,o])}let fs=null;function _4({isOpen:s,modal:e,nested:t,hasBeenOpened:n,preventScrollRestoration:r,noBodyStyles:i}){const[o,a]=B.useState(()=>typeof window<"u"?window.location.href:""),c=B.useRef(0),l=B.useCallback(()=>{if(Ha()&&fs===null&&s&&!i){fs={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:h,innerHeight:d}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-h}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const f=d-window.innerHeight;f&&c.current>=d&&(document.body.style.top=`${-(c.current+f)}px`)}),300)}},[s]),u=B.useCallback(()=>{if(Ha()&&fs!==null&&!i){const h=-parseInt(document.body.style.top,10),d=-parseInt(document.body.style.left,10);Object.assign(document.body.style,fs),window.requestAnimationFrame(()=>{if(r&&o!==window.location.href){a(window.location.href);return}window.scrollTo(d,h)}),fs=null}},[o]);return B.useEffect(()=>{function h(){c.current=window.scrollY}return h(),window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}},[]),B.useEffect(()=>{if(e)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||u()}},[e,u]),B.useEffect(()=>{t||!n||(s?(!window.matchMedia("(display-mode: standalone)").matches&&l(),e||window.setTimeout(()=>{u()},500)):u())},[s,n,o,e,t,l,u]),{restorePositionSetting:u}}function vu({open:s,onOpenChange:e,children:t,onDrag:n,onRelease:r,snapPoints:i,shouldScaleBackground:o=!1,setBackgroundColorOnScale:a=!0,closeThreshold:c=h4,scrollLockTimeout:l=d4,dismissible:u=!0,handleOnly:h=!1,fadeFromIndex:d=i&&i.length-1,activeSnapPoint:f,setActiveSnapPoint:p,fixed:m,modal:g=!0,onClose:_,nested:C,noBodyStyles:b=!1,direction:S="bottom",defaultOpen:y=!1,disablePreventScroll:T=!0,snapToSequentialPoint:w=!1,preventScrollRestoration:x=!1,repositionInputs:A=!0,onAnimationEnd:O,container:M,autoFocus:E=!1}){var P,N;const[F=!1,I]=_u({defaultProp:y,prop:s,onChange:H=>{e==null||e(H),!H&&!C&&xu(),setTimeout(()=>{O==null||O(H)},Se.DURATION*1e3),H&&!g&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),H||(document.body.style.pointerEvents="auto")}}),[R,z]=B.useState(!1),[L,G]=B.useState(!1),[J,oe]=B.useState(!1),Oe=B.useRef(null),Ie=B.useRef(null),ee=B.useRef(null),ue=B.useRef(null),Ce=B.useRef(null),V=B.useRef(!1),ut=B.useRef(null),ht=B.useRef(0),nt=B.useRef(!1),Rt=B.useRef(!y),Vs=B.useRef(0),X=B.useRef(null),j=B.useRef(((P=X.current)==null?void 0:P.getBoundingClientRect().height)||0),U=B.useRef(((N=X.current)==null?void 0:N.getBoundingClientRect().width)||0),xe=B.useRef(0),ye=B.useCallback(H=>{i&&H===dt.length-1&&(Ie.current=new Date)},[]),{activeSnapPoint:se,activeSnapPointIndex:ae,setActiveSnapPoint:Ue,onRelease:At,snapPointsOffset:dt,onDrag:ls,shouldFade:$s,getPercentageDragged:ii}=p4({snapPoints:i,activeSnapPointProp:f,setActiveSnapPointProp:p,drawerRef:X,fadeFromIndex:d,overlayRef:Oe,onSnapPointChange:ye,direction:S,container:M,snapToSequentialPoint:w});s4({isDisabled:!F||L||!g||J||!R||!A||!T});const{restorePositionSetting:xu}=_4({isOpen:F,modal:g,nested:C??!1,hasBeenOpened:R,preventScrollRestoration:x,noBodyStyles:b});function qs(){return(window.innerWidth-Ji)/window.innerWidth}function Su(H){var ce,ge;!u&&!i||X.current&&!X.current.contains(H.target)||(j.current=((ce=X.current)==null?void 0:ce.getBoundingClientRect().height)||0,U.current=((ge=X.current)==null?void 0:ge.getBoundingClientRect().width)||0,G(!0),ee.current=new Date,uu()&&window.addEventListener("touchend",()=>V.current=!1,{once:!0}),H.target.setPointerCapture(H.pointerId),ht.current=Me(S)?H.pageY:H.pageX)}function Ho(H,ce){var ge;let re=H;const ke=(ge=window.getSelection())==null?void 0:ge.toString(),Ze=X.current?ir(X.current,S):null,We=new Date;if(re.tagName==="SELECT"||re.hasAttribute("data-vaul-no-drag")||re.closest("[data-vaul-no-drag]"))return!1;if(S==="right"||S==="left")return!0;if(Ie.current&&We.getTime()-Ie.current.getTime()<500)return!1;if(Ze!==null&&(S==="bottom"?Ze>0:Ze<0))return!0;if(ke&&ke.length>0)return!1;if(Ce.current&&We.getTime()-Ce.current.getTime()<l&&Ze===0||ce)return Ce.current=We,!1;for(;re;){if(re.scrollHeight>re.clientHeight){if(re.scrollTop!==0)return Ce.current=new Date,!1;if(re.getAttribute("role")==="dialog")return!0}re=re.parentNode}return!0}function Tu(H){if(X.current&&L){const ce=S==="bottom"||S==="right"?1:-1,ge=(ht.current-(Me(S)?H.pageY:H.pageX))*ce,re=ge>0,ke=i&&!u&&!re;if(ke&&ae===0)return;const Ze=Math.abs(ge),We=document.querySelector("[data-vaul-drawer-wrapper]"),Jt=S==="bottom"||S==="top"?j.current:U.current;let ft=Ze/Jt;const fn=ii(Ze,re);if(fn!==null&&(ft=fn),ke&&ft>=1||!V.current&&!Ho(H.target,re))return;if(X.current.classList.add(Ci),V.current=!0,Ne(X.current,{transition:"none"}),Ne(Oe.current,{transition:"none"}),i&&ls({draggedDistance:ge}),re&&!i){const Et=l4(ge),Us=Math.min(Et*-1,0)*ce;Ne(X.current,{transform:Me(S)?`translate3d(0, ${Us}px, 0)`:`translate3d(${Us}px, 0, 0)`});return}const Kt=1-ft;if(($s||d&&ae===d-1)&&(n==null||n(H,ft),Ne(Oe.current,{opacity:`${Kt}`,transition:"none"},!0)),We&&Oe.current&&o){const Et=Math.min(qs()+ft*(1-qs()),1),Us=8-ft*8,Ko=Math.max(0,14-ft*14);Ne(We,{borderRadius:`${Us}px`,transform:Me(S)?`scale(${Et}) translate3d(0, ${Ko}px, 0)`:`scale(${Et}) translate3d(${Ko}px, 0, 0)`,transition:"none"},!0)}if(!i){const Et=Ze*ce;Ne(X.current,{transform:Me(S)?`translate3d(0, ${Et}px, 0)`:`translate3d(${Et}px, 0, 0)`})}}}B.useEffect(()=>{window.requestAnimationFrame(()=>{Rt.current=!0})},[]),B.useEffect(()=>{var H;function ce(){if(!X.current||!A)return;const ge=document.activeElement;if(Hi(ge)||nt.current){var re;const ke=((re=window.visualViewport)==null?void 0:re.height)||0,Ze=window.innerHeight;let We=Ze-ke;const Jt=X.current.getBoundingClientRect().height||0,ft=Jt>Ze*.8;xe.current||(xe.current=Jt);const fn=X.current.getBoundingClientRect().top;if(Math.abs(Vs.current-We)>60&&(nt.current=!nt.current),i&&i.length>0&&dt&&ae){const Kt=dt[ae]||0;We+=Kt}if(Vs.current=We,Jt>ke||nt.current){const Kt=X.current.getBoundingClientRect().height;let Et=Kt;Kt>ke&&(Et=ke-(ft?fn:Ji)),m?X.current.style.height=`${Kt-Math.max(We,0)}px`:X.current.style.height=`${Math.max(Et,ke-fn)}px`}else Zg()||(X.current.style.height=`${xe.current}px`);i&&i.length>0&&!nt.current?X.current.style.bottom="0px":X.current.style.bottom=`${Math.max(We,0)}px`}}return(H=window.visualViewport)==null||H.addEventListener("resize",ce),()=>{var ge;return(ge=window.visualViewport)==null?void 0:ge.removeEventListener("resize",ce)}},[ae,i,dt]);function us(H){Cu(),_==null||_(),H||I(!1),setTimeout(()=>{i&&Ue(i[0])},Se.DURATION*1e3)}function Jo(){if(!X.current)return;const H=document.querySelector("[data-vaul-drawer-wrapper]"),ce=ir(X.current,S);Ne(X.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Se.DURATION}s cubic-bezier(${Se.EASE.join(",")})`}),Ne(Oe.current,{transition:`opacity ${Se.DURATION}s cubic-bezier(${Se.EASE.join(",")})`,opacity:"1"}),o&&ce&&ce>0&&F&&Ne(H,{borderRadius:`${mu}px`,overflow:"hidden",...Me(S)?{transform:`scale(${qs()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${qs()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Se.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Se.EASE.join(",")})`},!0)}function Cu(){!L||!X.current||(X.current.classList.remove(Ci),V.current=!1,G(!1),ue.current=new Date)}function ku(H){if(!L||!X.current)return;X.current.classList.remove(Ci),V.current=!1,G(!1),ue.current=new Date;const ce=ir(X.current,S);if(!H||!Ho(H.target,!1)||!ce||Number.isNaN(ce)||ee.current===null)return;const ge=ue.current.getTime()-ee.current.getTime(),re=ht.current-(Me(S)?H.pageY:H.pageX),ke=Math.abs(re)/ge;if(ke>.05&&(oe(!0),setTimeout(()=>{oe(!1)},200)),i){At({draggedDistance:re*(S==="bottom"||S==="right"?1:-1),closeDrawer:us,velocity:ke,dismissible:u}),r==null||r(H,!0);return}if(S==="bottom"||S==="right"?re>0:re<0){Jo(),r==null||r(H,!0);return}if(ke>pu){us(),r==null||r(H,!1);return}var Ze;const We=Math.min((Ze=X.current.getBoundingClientRect().height)!=null?Ze:0,window.innerHeight);var Jt;const ft=Math.min((Jt=X.current.getBoundingClientRect().width)!=null?Jt:0,window.innerWidth),fn=S==="left"||S==="right";if(Math.abs(ce)>=(fn?ft:We)*c){us(),r==null||r(H,!1);return}r==null||r(H,!0),Jo()}B.useEffect(()=>(F&&(Ne(document.documentElement,{scrollBehavior:"auto"}),Ie.current=new Date),()=>{c4(document.documentElement,"scrollBehavior")}),[F]);function Au(H){const ce=H?(window.innerWidth-mn)/window.innerWidth:1,ge=H?-mn:0;ut.current&&window.clearTimeout(ut.current),Ne(X.current,{transition:`transform ${Se.DURATION}s cubic-bezier(${Se.EASE.join(",")})`,transform:Me(S)?`scale(${ce}) translate3d(0, ${ge}px, 0)`:`scale(${ce}) translate3d(${ge}px, 0, 0)`}),!H&&X.current&&(ut.current=setTimeout(()=>{const re=ir(X.current,S);Ne(X.current,{transition:"none",transform:Me(S)?`translate3d(0, ${re}px, 0)`:`translate3d(${re}px, 0, 0)`})},500))}function Eu(H,ce){if(ce<0)return;const ge=(window.innerWidth-mn)/window.innerWidth,re=ge+ce*(1-ge),ke=-mn+ce*mn;Ne(X.current,{transform:Me(S)?`scale(${re}) translate3d(0, ${ke}px, 0)`:`scale(${re}) translate3d(${ke}px, 0, 0)`,transition:"none"})}function Ou(H,ce){const ge=Me(S)?window.innerHeight:window.innerWidth,re=ce?(ge-mn)/ge:1,ke=ce?-mn:0;ce&&Ne(X.current,{transition:`transform ${Se.DURATION}s cubic-bezier(${Se.EASE.join(",")})`,transform:Me(S)?`scale(${re}) translate3d(0, ${ke}px, 0)`:`scale(${re}) translate3d(${ke}px, 0, 0)`})}return B.useEffect(()=>{g||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[g]),B.createElement($g,{defaultOpen:y,onOpenChange:H=>{!u&&!H||(H?z(!0):us(!0),I(H))},open:F},B.createElement(lu.Provider,{value:{activeSnapPoint:se,snapPoints:i,setActiveSnapPoint:Ue,drawerRef:X,overlayRef:Oe,onOpenChange:e,onPress:Su,onRelease:ku,onDrag:Tu,dismissible:u,shouldAnimate:Rt,handleOnly:h,isOpen:F,isDragging:L,shouldFade:$s,closeDrawer:us,onNestedDrag:Eu,onNestedOpenChange:Au,onNestedRelease:Ou,keyboardIsOpen:nt,modal:g,snapPointsOffset:dt,activeSnapPointIndex:ae,direction:S,shouldScaleBackground:o,setBackgroundColorOnScale:a,noBodyStyles:b,container:M,autoFocus:E}},t))}const yu=B.forwardRef(function({...s},e){const{overlayRef:t,snapPoints:n,onRelease:r,shouldFade:i,isOpen:o,modal:a,shouldAnimate:c}=cs(),l=du(e,t),u=n&&n.length>0;if(!a)return null;const h=B.useCallback(d=>r(d),[r]);return B.createElement(Wg,{onMouseUp:h,ref:l,"data-vaul-overlay":"","data-vaul-snap-points":o&&u?"true":"false","data-vaul-snap-points-overlay":o&&i?"true":"false","data-vaul-animate":c!=null&&c.current?"true":"false",...s})});yu.displayName="Drawer.Overlay";const wu=B.forwardRef(function({onPointerDownOutside:s,style:e,onOpenAutoFocus:t,...n},r){const{drawerRef:i,onPress:o,onRelease:a,onDrag:c,keyboardIsOpen:l,snapPointsOffset:u,activeSnapPointIndex:h,modal:d,isOpen:f,direction:p,snapPoints:m,container:g,handleOnly:_,shouldAnimate:C,autoFocus:b}=cs(),[S,y]=B.useState(!1),T=du(r,i),w=B.useRef(null),x=B.useRef(null),A=B.useRef(!1),O=m&&m.length>0;g4();const M=(P,N,F=0)=>{if(A.current)return!0;const I=Math.abs(P.y),R=Math.abs(P.x),z=R>I,L=["bottom","right"].includes(N)?1:-1;if(N==="left"||N==="right"){if(!(P.x*L<0)&&R>=0&&R<=F)return z}else if(!(P.y*L<0)&&I>=0&&I<=F)return!z;return A.current=!0,!0};B.useEffect(()=>{O&&window.requestAnimationFrame(()=>{y(!0)})},[]);function E(P){w.current=null,A.current=!1,a(P)}return B.createElement(Gg,{"data-vaul-drawer-direction":p,"data-vaul-drawer":"","data-vaul-delayed-snap-points":S?"true":"false","data-vaul-snap-points":f&&O?"true":"false","data-vaul-custom-container":g?"true":"false","data-vaul-animate":C!=null&&C.current?"true":"false",...n,ref:T,style:u&&u.length>0?{"--snap-point-height":`${u[h??0]}px`,...e}:e,onPointerDown:P=>{_||(n.onPointerDown==null||n.onPointerDown.call(n,P),w.current={x:P.pageX,y:P.pageY},o(P))},onOpenAutoFocus:P=>{t==null||t(P),b||P.preventDefault()},onPointerDownOutside:P=>{if(s==null||s(P),!d||P.defaultPrevented){P.preventDefault();return}l.current&&(l.current=!1)},onFocusOutside:P=>{if(!d){P.preventDefault();return}},onPointerMove:P=>{if(x.current=P,_||(n.onPointerMove==null||n.onPointerMove.call(n,P),!w.current))return;const N=P.pageY-w.current.y,F=P.pageX-w.current.x,I=P.pointerType==="touch"?10:2;M({x:F,y:N},p,I)?c(P):(Math.abs(F)>I||Math.abs(N)>I)&&(w.current=null)},onPointerUp:P=>{n.onPointerUp==null||n.onPointerUp.call(n,P),w.current=null,A.current=!1,a(P)},onPointerOut:P=>{n.onPointerOut==null||n.onPointerOut.call(n,P),E(x.current)},onContextMenu:P=>{n.onContextMenu==null||n.onContextMenu.call(n,P),x.current&&E(x.current)}})});wu.displayName="Drawer.Content";const v4=250,y4=120,bu=B.forwardRef(function({preventCycle:s=!1,children:e,...t},n){const{closeDrawer:r,isDragging:i,snapPoints:o,activeSnapPoint:a,setActiveSnapPoint:c,dismissible:l,handleOnly:u,isOpen:h,onPress:d,onDrag:f}=cs(),p=B.useRef(null),m=B.useRef(!1);function g(){if(m.current){b();return}window.setTimeout(()=>{_()},y4)}function _(){if(i||s||m.current){b();return}if(b(),!o||o.length===0){l||r();return}if(a===o[o.length-1]&&l){r();return}const y=o.findIndex(w=>w===a);if(y===-1)return;const T=o[y+1];c(T)}function C(){p.current=window.setTimeout(()=>{m.current=!0},v4)}function b(){p.current&&window.clearTimeout(p.current),m.current=!1}return B.createElement("div",{onClick:g,onPointerCancel:b,onPointerDown:S=>{u&&d(S),C()},onPointerMove:S=>{u&&f(S)},ref:n,"data-vaul-drawer-visible":h?"true":"false","data-vaul-handle":"","aria-hidden":"true",...t},B.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},e))});bu.displayName="Drawer.Handle";function w4({onDrag:s,onOpenChange:e,open:t,...n}){const{onNestedDrag:r,onNestedOpenChange:i,onNestedRelease:o}=cs();if(!r)throw new Error("Drawer.NestedRoot must be placed in another drawer");return B.createElement(vu,{nested:!0,open:t,onClose:()=>{i(!1)},onDrag:(a,c)=>{r(a,c),s==null||s(a,c)},onOpenChange:a=>{a&&i(a),e==null||e(a)},onRelease:o,...n})}function b4(s){const e=cs(),{container:t=e.container,...n}=s;return B.createElement(Ug,{container:t,...n})}const He={Root:vu,NestedRoot:w4,Content:wu,Overlay:yu,Trigger:qg,Portal:b4,Handle:bu,Close:Jg,Title:zg,Description:Hg},x4=({handleClick:s,animate:e,bpm:t,setBpm:n})=>{const[r,i]=B.useState(!1);return k.useEffect(()=>{e&&i(!1)},[e]),v.jsx(v.Fragment,{children:v.jsx("div",{className:"flex flex-col justify-self-center justify-items-center ",children:v.jsxs(He.Root,{open:r,onOpenChange:i,children:[v.jsx(He.Trigger,{className:"fixed bottom-[25px] z-30 left-[1/2] -translate-x-1/2 rounded-md transition-all",children:v.jsxs(v.Fragment,{children:[v.jsxs("svg",{className:"w-[49px] h-[49px] bottom-[-3px] z-30 absolute",viewBox:"2.35 2.35 19.3 19.3",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"#e8e9eb",fill:"#e8e9eb",strokeWidth:1.3}),v.jsx("path",{d:"M15.0015 11.3344C15.3354 11.5569 15.5023 11.6682 15.5605 11.8085C15.6113 11.9311 15.6113 12.0689 15.5605 12.1915C15.5023 12.3318 15.3354 12.4431 15.0015 12.6656L11.2438 15.1708C10.8397 15.4402 10.6377 15.5749 10.4702 15.5649C10.3243 15.5561 10.1894 15.484 10.1012 15.3674C10 15.2336 10 14.9908 10 14.5052V9.49481C10 9.00923 10 8.76644 10.1012 8.63261C10.1894 8.51601 10.3243 8.44386 10.4702 8.43515C10.6377 8.42515 10.8397 8.55982 11.2438 8.82917L15.0015 11.3344Z",stroke:"#313638",strokeWidth:1.3})]}),v.jsx("svg",{className:"w-[49px] h-[49px] ",viewBox:"2.35 2.35 19.3 19.3",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"#e8e9eb",fill:"#e8e9eb",strokeWidth:1.3,opacity:.5})})]})}),v.jsx(He.Portal,{children:v.jsxs(He.Content,{className:"z-40 bg-gray-100 flex flex-col rounded-t-[10px] mt-24 h-fit fixed bottom-0 left-0 right-0 outline-none",children:[v.jsxs("div",{className:"p-4 bg-white rounded-t-[10px] flex-1",children:[v.jsx("div",{className:"mx-auto w-12 h-1.5 flex-shrink-0 rounded-full bg-gray-300 "}),v.jsxs("div",{className:"max-w-[750px] mx-auto",children:[v.jsx(He.Title,{className:"font-medium mb-10 pt-2 text-gray-900",children:"MoogBoard by 7akoda"}),v.jsx(il,{handleClick:s,animate:e,bpm:t,setBpm:n})]})]}),v.jsx("div",{className:"p-4 bg-gray-100 border-t border-gray-200 mt-auto",children:v.jsxs("div",{className:"flex gap-6 justify-end max-w-md mx-auto",children:[v.jsxs("a",{className:"text-xs text-gray-600 flex items-center gap-0.25",href:"https://github.com/7akoda",target:"_blank",children:["GitHub",v.jsxs("svg",{fill:"none",height:"16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"16","aria-hidden":"true",className:"w-3 h-3 ml-1",children:[v.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),v.jsx("path",{d:"M15 3h6v6"}),v.jsx("path",{d:"M10 14L21 3"})]})]}),v.jsxs("a",{className:"text-xs text-gray-600 flex items-center gap-0.25",href:"https://www.linkedin.com/in/takoda-godin-a18a84199/",target:"_blank",children:["Linkedin",v.jsxs("svg",{fill:"none",height:"16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"16","aria-hidden":"true",className:"w-3 h-3 ml-1",children:[v.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),v.jsx("path",{d:"M15 3h6v6"}),v.jsx("path",{d:"M10 14L21 3"})]})]})]})})]})})]})})})},S4=({climb:s,setClimb:e})=>{const[t,n]=B.useState(!1);return k.useEffect(()=>{n(!1)},[s]),v.jsx(v.Fragment,{children:v.jsx("div",{className:"flex flex-col justify-self-center justify-items-center",children:v.jsxs(He.Root,{open:t,onOpenChange:n,children:[v.jsx(He.Trigger,{className:" z-30 fixed bottom-2 left-[20%] -translate-x-1/2 overflow-hidden rounded-md transition-all",children:v.jsx("svg",{className:"w-[10dvw] h-[45px]",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M8 8H20M11 12H20M14 16H20M4 8H4.01M7 12H7.01M10 16H10.01",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",stroke:"#313638"})})}),v.jsx(He.Portal,{children:v.jsxs(He.Content,{className:"z-40 bg-gray-100 flex flex-col rounded-t-[10px] mt-24 h-[80%] lg:h-[320px] fixed bottom-0 left-0 right-0 outline-none",children:[v.jsxs("div",{className:"p-4 bg-white rounded-t-[10px] flex-1 overflow-y-auto",children:[v.jsx("div",{className:"mx-auto w-12 h-1.5 flex-shrink-0 rounded-full bg-gray-300 "}),v.jsxs("div",{className:"max-w-[750px] mx-auto",children:[v.jsx(He.Title,{className:"font-medium mb-12 text-gray-900",children:"MoogBoard by 7akoda"}),v.jsx(Ml,{setClimb:e,climb:s})]})]}),v.jsx("div",{className:"p-4 bg-gray-100 border-t border-gray-200 mt-auto",children:v.jsxs("div",{className:"flex gap-6 justify-end max-w-md mx-auto",children:[v.jsxs("a",{className:"text-xs text-gray-600 flex items-center gap-0.25",href:"https://github.com/7akoda",target:"_blank",children:["GitHub",v.jsxs("svg",{fill:"none",height:"16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"16","aria-hidden":"true",className:"w-3 h-3 ml-1",children:[v.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),v.jsx("path",{d:"M15 3h6v6"}),v.jsx("path",{d:"M10 14L21 3"})]})]}),v.jsxs("a",{className:"text-xs text-gray-600 flex items-center gap-0.25",href:"https://www.linkedin.com/in/takoda-godin-a18a84199/",target:"_blank",children:["Linkedin",v.jsxs("svg",{fill:"none",height:"16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"16","aria-hidden":"true",className:"w-3 h-3 ml-1",children:[v.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),v.jsx("path",{d:"M15 3h6v6"}),v.jsx("path",{d:"M10 14L21 3"})]})]})]})})]})})]})})})},T4=()=>v.jsx(v.Fragment,{children:v.jsx("div",{className:"flex flex-col justify-self-center justify-items-center ",children:v.jsxs(He.Root,{children:[v.jsx(He.Trigger,{className:" z-30 fixed bottom-2 right-[20%] translate-x-1/2 overflow-hidden rounded-md transition-all",children:v.jsx("svg",{className:"w-[10dvw] h-[45px]",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M11.967 12.75C12.967 11.75 13.967 11.3546 13.967 10.25C13.967 9.14543 13.0716 8.25 11.967 8.25C11.0351 8.25 10.252 8.88739 10.03 9.75M11.967 15.75H11.977M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"#313638",strokeWidth:"2",strokeLinecap:"round"})})}),v.jsx(He.Portal,{children:v.jsxs(He.Content,{className:"z-40 bg-gray-100 flex flex-col rounded-t-[10px] mt-24 h-fit fixed bottom-0 left-0 right-0 outline-none",children:[v.jsxs("div",{className:"p-4 bg-white rounded-t-[10px] flex-1",children:[v.jsx("div",{className:"mx-auto w-12 h-1.5 flex-shrink-0 rounded-full bg-gray-300 "}),v.jsxs("div",{className:"max-w-[750px] mx-auto",children:[v.jsx(He.Title,{className:"font-medium mb-10 pt-2 text-gray-900",children:"MoogBoard by 7akoda"}),v.jsxs("p",{className:"text-gray-600 mb-2",children:["A React app where MoonBoard 2019 climbing holds become musical triggers—colliding with a moving line to generate dynamic compositions using 18 chords and 4 instruments. Discover the harmony"," ",v.jsx("a",{target:"_blank",className:"underline",href:"https://github.com/7akoda/moogboard",children:"here"}),"."]}),v.jsx("p",{className:"text-gray-600 text-xs",children:"Although there are many benchmarked climbs in the database feel free to create your own!."})]})]}),v.jsx("div",{className:"p-4 bg-gray-100 border-t border-gray-200 mt-auto",children:v.jsxs("div",{className:"flex gap-6 justify-end max-w-md mx-auto",children:[v.jsxs("a",{className:"text-xs text-gray-600 flex items-center gap-0.25",href:"https://github.com/7akoda",target:"_blank",children:["GitHub",v.jsxs("svg",{fill:"none",height:"16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"16","aria-hidden":"true",className:"w-3 h-3 ml-1",children:[v.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),v.jsx("path",{d:"M15 3h6v6"}),v.jsx("path",{d:"M10 14L21 3"})]})]}),v.jsxs("a",{className:"text-xs text-gray-600 flex items-center gap-0.25",href:"https://www.linkedin.com/in/takoda-godin-a18a84199/",target:"_blank",children:["Linkedin",v.jsxs("svg",{fill:"none",height:"16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"16","aria-hidden":"true",className:"w-3 h-3 ml-1",children:[v.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),v.jsx("path",{d:"M15 3h6v6"}),v.jsx("path",{d:"M10 14L21 3"})]})]})]})})]})})]})})}),C4=({animate:s,handleClick:e,bpm:t,setBpm:n,climb:r,setClimb:i})=>v.jsxs(v.Fragment,{children:[v.jsx("svg",{className:" fixed w-[100dvw] max-h-[100px] opacity-50 bottom-[-7px] z-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"9 15.2 4 0.64",children:v.jsx("path",{d:`\r
          M 9 15.229\r
L 9 15.815\r
L 11 15.815\r
L 11 15.634\r
C 10.667 15.634 10.667 15.229 10.5 15.229\r
H 11.5\r
C 11.333 15.229 11.333 15.634 11 15.634\r
L 11 15.815\r
L 13 15.815\r
L 13 15.229\r
H 9\r
`,fill:"#e8e9eb"})}),v.jsx("svg",{className:"fixed w-[100dvw] bottom-[-11px] max-h-[100px] z-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"9 15.2 4 0.64",children:v.jsx("path",{d:`\r
      M 9 15.229\r
L 9 15.815\r
L 11 15.815\r
L 11 15.634\r
C 10.667 15.634 10.667 15.229 10.5 15.229\r
H 11.5\r
C 11.333 15.229 11.333 15.634 11 15.634\r
L 11 15.815\r
L 13 15.815\r
L 13 15.229\r
H 9\r
    `,fill:"#e8e9eb"})}),v.jsx(x4,{animate:s,handleClick:e,bpm:t,setBpm:n}),v.jsx(S4,{climb:r,setClimb:i}),v.jsx(T4,{})]}),f5=()=>[{title:"MoogBoard"},{name:"description",content:"Welcome to Moogboard!"}];function p5(){const[s,e]=k.useState(!1),[t,n]=k.useState(7),[r,i]=k.useState(!1),[o,a]=k.useState(null),[c,l]=k.useState(!1),u=()=>{setTimeout(()=>e(!0),0),setTimeout(()=>e(!1),t===10?9999:t===7?6999:t===4?3999:9999)};return k.useEffect(()=>{i(!0);const h=window.matchMedia("(max-width: 768px)"),d=f=>{l(f.matches)};return l(h.matches),h.addEventListener("change",d),()=>h.removeEventListener("change",d)},[]),r?v.jsx(v.Fragment,{children:v.jsxs("div",{className:"flex flex-col items-center justify-center ",children:[v.jsx(zp,{}),v.jsxs("div",{className:c?"slide-in-mobile":"slide-in",children:[v.jsx(Gp,{climb:o}),v.jsx(Hp,{bpm:t,animate:s}),c?v.jsx(C4,{bpm:t,setBpm:n,animate:s,handleClick:u,climb:o,setClimb:a}):v.jsx(p3,{climb:o,setClimb:a,bpm:t,setBpm:n,animate:s,handleClick:u})]})]})}):null}export{p5 as default,f5 as meta};
